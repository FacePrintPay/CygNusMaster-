var _=class{constructor(t){this.root=t}destroy(){}emit(t,i,s=!1){let o;typeof CustomEvent=="function"?o=new CustomEvent(t,{detail:i,bubbles:s}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,s,!1,i)),this.root.dispatchEvent(o)}};var c;(function(e){e.ARIA_CONTROLS="aria-controls",e.ARIA_CURRENT="aria-current",e.ARIA_SELECTED="aria-selected",e.ARIA_EXPANDED="aria-expanded",e.ARIA_HASPOPUP="aria-haspopup",e.ARIA_LABELLEDBY="aria-labelledby",e.ARIA_LABEL="aria-label",e.ARIA_LIVE="aria-live",e.ARIA_HIDDEN="aria-hidden",e.TAB_INDEX="tabindex",e.ROLE="role"})(c||(c={}));var N;(function(e){e.BUTTON="button",e.DIALOG="dialog",e.REGION="region",e.TABPANEL="tabpanel",e.TABLIST="tablist",e.NAVIGATION="navigation",e.TAB="tab",e.MENU="menu",e.MENUITEM="menuitem",e.MENUBAR="menubar",e.TOOLTIP="tooltip",e.NONE="none"})(N||(N={}));var R;(function(e){e[e.TABBABLE=0]="TABBABLE",e[e.NOT_TABBABLE=-1]="NOT_TABBABLE"})(R||(R={}));var l;(function(e){e.CLICK="click",e.FOCUS="focus",e.MOUSEENTER="mouseenter",e.MOUSEOVER="mouseover",e.MOUSELEAVE="mouseleave",e.MOUSEOUT="mouseout",e.MOUSEWHEEL="mousewheel",e.HOVER="hover",e.NONE="none",e.MOUSEDOWN="mousedown",e.MOUSEMOVE="mousemove",e.MOUSEUP="mouseup",e.KEYDOWN="keydown",e.KEYPRESS="keypress",e.KEYUP="keyup",e.BLUR="blur",e.LOAD="load",e.PAN="pan",e.PAN_LEFT="panleft",e.PAN_RIGHT="panright",e.PAN_END="panend",e.PAN_START="panstart",e.PAN_MOVE="panmove",e.SCROLL="scroll",e.CHANGE="change",e.TRANSITIONEND="transitionend",e.TRANSITIONSTART="transitionstart",e.RESIZE="resize",e.ORIENTATION_CHANGE="orientationchange",e.DOM_CONTENT_READY="DOMContentReady",e.HASHCHANGE="hashchange",e.POINTERDOWN="pointerdown",e.POINTERMOVE="pointermove",e.POINTERUP="pointerup",e.POINTERCANCEL="pointercancel",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.TOUCHCANCEL="touchcancel"})(l||(l={}));var v;(function(e){e.ENTER="Enter",e.SPACE=" ",e.TAB="Tab",e.ESC="Escape",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.HOME="Home",e.END="End",e.PAGEUP="PageUp",e.PAGEDOWN="PageDown"})(v||(v={}));var vi;(function(e){e[e.ENTER=13]="ENTER",e[e.SPACE=32]="SPACE",e[e.TAB=9]="TAB",e[e.ESC=27]="ESC",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.HOME=36]="HOME",e[e.END=35]="END",e[e.PAGEUP=33]="PAGEUP",e[e.PAGEDOWN=34]="PAGEDOWN"})(vi||(vi={}));var Ai;(function(e){e.BUTTON="glue-ambient-video__button",e.BUTTON_PAUSE="glue-ambient-video__button--paused",e.BUTTON_ICON="glue-ambient-video__icon",e.VIDEO_CONTAINER="glue-ambient-video__container"})(Ai||(Ai={}));var Ti;(function(e){e.BUTTON_ELEMENT_MISSING="Ambient Button element is missing.",e.BUTTON_ICON_ELEMENT_MISSING="Ambient Button Icon element is missing",e.MEDIA_ELEMENT_MISSING="Ambient Media element is missing.",e.PLAY_VIDEO_ERROR="Play video interrupted."})(Ti||(Ti={}));var _i;(function(e){e.VIDEO_PAUSE="Pause",e.VIDEO_PLAY="Play"})(_i||(_i={}));var wi;(function(e){e.BANNER_CLOSE_BUTTON="glue-banner__close-btn",e.BANNER_HIDDEN="glue-banner--hidden"})(wi||(wi={}));var Ii;(function(e){e[e.BANNER_CLOSE_DELAY=300]="BANNER_CLOSE_DELAY"})(Ii||(Ii={}));function Wt(e){let t=e.querySelectorAll("input"),i=e.querySelectorAll("a"),s=e.querySelectorAll("textarea"),o=e.querySelectorAll("select"),n=e.querySelectorAll("button"),r=e.querySelectorAll("iframe"),a=e.querySelectorAll('[role="button"]:not(input):not(a):not(textarea):not(select):not(button):not(iframe)'),d=e.querySelectorAll('[tabindex="0"]:not([role="button"]):not(input):not(a):not(textarea):not(select):not(button):not(iframe)');return[...t,...i,...s,...o,...n,...r,...a,...d]}var It=class{constructor(t){this.data=t,this.watchers=new Map,this.walk(this.data)}walk(t){let i=Object.keys(t);for(let s=0;s<i.length;s++)this.defineReactive(t,i[s])}defineReactive(t,i,s){let o=Object.getOwnPropertyDescriptor(t,i);if(o&&o.configurable===!1)return;let n=o&&o.get,r=o&&o.set;(!n||r)&&arguments.length===2&&(s=t[i]),Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>{let a=n?n.call(t):s;return this.watchers.has(i)||this.watchers.set(i,[]),a},set:a=>{let d=n?n.call(t):s;a!==d&&(r?r.call(t,a):s=a,this.notify(i))}})}listen(t,i){if(typeof t=="object")Object.keys(t).forEach(s=>{this.watchers.has(s)||this.watchers.set(s,[]);let o=this.watchers.get(s);o&&o.push(i)});else{this.watchers.has(t)||this.watchers.set(t,[]);let s=this.watchers.get(t);s&&s.push(i)}}unlisten(t,i){typeof t=="object"?Object.keys(t).forEach(s=>{this.watchers.has(s)&&this.watchers.set(s,this.watchers.get(s).filter(o=>o!==i))}):this.watchers.get(t)&&this.watchers.set(t,this.watchers.get(t).filter(s=>s!==i))}notify(t){this.watchers.get(t)&&this.watchers.get(t).forEach(i=>{i.call(null)})}};var et=class{constructor(t=[]){this.vpUpdateHandler=()=>{this.handleViewportUpdate()},this.mqRuleHandlerMaps=[],this.bpChangeHandlers=[],this.bpRuleHandlerMaps=[],this.currentBreakpoint=this.readBreakpoint(),this.previousBreakpoint="",Array.isArray(t)||(t=[t]),t.forEach(this.addRule.bind(this)),window.addEventListener(l.DOM_CONTENT_READY,this.vpUpdateHandler),window.addEventListener(l.RESIZE,this.vpUpdateHandler),window.addEventListener(l.ORIENTATION_CHANGE,this.vpUpdateHandler)}static getInstance(){return et.instance||(et.instance=new et),et.instance}listen(t){typeof t=="function"?this.bpChangeHandlers.push(t):this.addRule(t)}unlisten(t){if(typeof t=="function"){let i;for(let s=0;i=this.bpChangeHandlers[s];s++)if(i===i){this.bpChangeHandlers.splice(s,1);return}}else this.removeRule(t)}destroy(){this.currentBreakpoint="";for(let t of this.mqRuleHandlerMaps)t.mql.removeEventListener(l.CHANGE,t.handler);this.mqRuleHandlerMaps=[],this.bpRuleHandlerMaps=[],this.bpChangeHandlers=[],window.removeEventListener(l.DOM_CONTENT_READY,this.vpUpdateHandler),window.removeEventListener(l.RESIZE,this.vpUpdateHandler),window.removeEventListener(l.ORIENTATION_CHANGE,this.vpUpdateHandler)}getCurrentBreakpoint(){return this.currentBreakpoint}isBreakpointRule(t){return t.breakpoint!==void 0}isMediaQueryRuleRule(t){return t.media!==void 0}addRule(t){if(this.isBreakpointRule(t)){this.addBreakpointRule(t);return}else if(this.isMediaQueryRuleRule(t)){this.addMediaQueryRule(t);return}}removeRule(t){if(this.isBreakpointRule(t)){this.removeBreakpointRule(t);return}else if(this.isMediaQueryRuleRule(t)){this.removeMediaQueryRule(t);return}}addBreakpointRule(t){let i=s=>{let o=t.breakpoint;if(o.indexOf(this.previousBreakpoint)===-1&&o.indexOf(this.currentBreakpoint)!==-1){t.enter(s);return}t.leave&&o.indexOf(this.previousBreakpoint)!==-1&&o.indexOf(this.currentBreakpoint)===-1&&t.leave(s)};this.bpRuleHandlerMaps.push({rule:t,handler:i}),i(this.getCurrentBreakpoint()),this.listen(i)}removeBreakpointRule(t){let i;for(let s=0;i=this.bpRuleHandlerMaps[s];s++)i.rule===t&&this.unlisten(i.handler)}addMediaQueryRule(t){let i=this.handleMediaQueryChange(t.transform,t.revert),s=window.matchMedia(t.media),o=()=>{i(s)};s.addEventListener(l.CHANGE,o),this.mqRuleHandlerMaps.push({rule:t,mql:s,handler:o}),s.matches&&i(s)}removeMediaQueryRule(t){for(let i of this.mqRuleHandlerMaps)i.rule===t&&i.mql.removeEventListener(l.CHANGE,i.handler)}handleMediaQueryChange(t,i){return s=>{s.matches?t(s):i&&i(s)}}handleViewportUpdate(){let t=this.readBreakpoint();if(this.currentBreakpoint!==t){this.previousBreakpoint=this.currentBreakpoint,this.currentBreakpoint=t;for(let i of this.bpChangeHandlers)i(this.currentBreakpoint)}}readBreakpoint(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/["']/g,"")}};var $;(function(e){e.LIST="glue-carousel__list",e.VIEWPORT="glue-carousel__viewport",e.BUTTON="glue-carousel__button",e.BUTTON_PREV="glue-carousel__button--prev",e.BUTTON_NEXT="glue-carousel__button--next",e.ITEM="glue-carousel__item",e.NAVIGATION="glue-carousel__navigation",e.NAVIGATION_DOT="glue-carousel__dot",e.ACTIVE="glue-is-active",e.INACTIVE="glue-is-inactive",e.PEEK_OUT="glue-carousel--peek-out",e.HAS_NAVIGATION="glue-carousel--has-navigation",e.CARDS="glue-carousel--cards"})($||($={}));var re;(function(e){e[e.DRAG_THRESHOLD=.2]="DRAG_THRESHOLD",e[e.DRAGSTART_THRESHOLD_PX=10]="DRAGSTART_THRESHOLD_PX",e[e.ROUNDING_THRESHOLD=.05]="ROUNDING_THRESHOLD"})(re||(re={}));var At;(function(e){e.DATA_DOT="dot",e.DATA_NAVIGATION_LABEL="glueCarouselNavigationLabel",e.NAVIGATION_LABEL_DEFAULT="Go to slide $glue_carousel_page_number$",e.NAVIGATION_LABEL_VAR_NAME="$glue_carousel_page_number$",e.RTL="rtl",e.SLIDE_CHANGE="gluecarouselslidechange",e.TRANSITION_NONE="none"})(At||(At={}));var Pt=class extends _{constructor(t,i){super(t),this.dots=[],this.totalPages=1,this.slidesPerPage=1,this.animationEnabled=!0,this.containerWidth=0,this.slideWidth=0,this.isRtl=document.documentElement.dir===At.RTL,this.isTabModel=!0,this.isShowingNavigation=!0,this.pagesX=[],this.initialTouchPos=null,this.isDragging=!1,this.lastTouchPos=null,this.rafPending=!1,this.currentXPosition=0,this.handleCurrentSlideChange=()=>{this.emit(At.SLIDE_CHANGE,this.getCurrentSlide()),this.render()},this.handleResize=()=>{this.animationEnabled=!1,this.calculate(),this.render()},this.handleClick=s=>{let o=s.target;if(o instanceof HTMLElement||o instanceof window.SVGElement)if(o.closest(`.${$.BUTTON_NEXT}`)===this.nextBtn)this.next();else if(o.closest(`.${$.BUTTON_PREV}`)===this.prevBtn)this.previous();else if(o instanceof HTMLButtonElement&&this.dots.includes(o)){let n=Number(o.dataset[At.DATA_DOT]);this.setCurrentPage(n)}else this.isCards&&this.isDragging&&s.preventDefault()},this.handleKeydown=s=>{let o=s.code===v.LEFT,n=s.code===v.RIGHT;if(o||n){let r=this.isRtl?o:n;if(s.target instanceof HTMLButtonElement&&this.dots.includes(s.target))r?this.next():this.previous();else if(s.target instanceof HTMLElement&&this.slides.includes(s.target)){let a=r?1:-1;this.setCurrentSlide(this.getCurrentSlide()+a)}}},this.handleTransitionEnd=s=>{if(s.target===this.slidesContainer&&this.options.cyclical){let o=this.getCurrentSlide();o>this.totalPages?(this.animationEnabled=!1,this.setCurrentSlide(1)):o<1&&(this.animationEnabled=!1,this.setCurrentSlide(this.totalPages))}},this.handleGestureStart=s=>{s.preventDefault(),!(this.isTouchEvent(s)&&s.touches.length>1)&&(window.PointerEvent&&s instanceof PointerEvent&&s.target instanceof Element?s.target.setPointerCapture(s.pointerId):(document.addEventListener(l.MOUSEMOVE,this.handleGestureMove,!0),document.addEventListener(l.MOUSEUP,this.handleGestureEnd,!0)),this.initialTouchPos=this.getGesturePointFromEvent(s),this.slidesContainer.style.transition="initial")},this.handleGestureMove=s=>{if(s.preventDefault(),!this.initialTouchPos)return;let o=this.getGesturePointFromEvent(s);!this.isDragging&&Math.abs(this.getXDistance(this.initialTouchPos,o))<re.DRAGSTART_THRESHOLD_PX||(this.isDragging=!0,this.lastTouchPos=o,!this.rafPending&&(this.rafPending=!0,window.requestAnimationFrame(()=>{this.onAnimFrame()})))},this.handleGestureEnd=s=>{var o;s.preventDefault(),!(this.isTouchEvent(s)&&((o=s.touches)===null||o===void 0?void 0:o.length)>0)&&(this.rafPending=!1,window.PointerEvent&&s instanceof PointerEvent&&s.target instanceof Element?s.target.releasePointerCapture(s.pointerId):(document.removeEventListener(l.MOUSEMOVE,this.handleGestureMove,!0),document.removeEventListener(l.MOUSEUP,this.handleGestureEnd,!0)),this.updateSwipeRestPosition(),this.initialTouchPos=null,this.lastTouchPos=null,setTimeout(()=>{this.isDragging=!1},0))},this.isCards=this.root.classList.contains($.CARDS),this.viewport=this.root.querySelector(`.${$.VIEWPORT}`),this.slidesContainer=this.root.querySelector(`.${$.LIST}`),this.slides=Array.from(this.slidesContainer.querySelectorAll(`.${$.ITEM}`)),this.slidesRef=Array.from(this.slides),this.navigation=this.root.querySelector(`.${$.NAVIGATION}`),this.prevBtn=this.root.querySelector(`.${$.BUTTON_PREV}`),this.nextBtn=this.root.querySelector(`.${$.BUTTON_NEXT}`),this.options=Object.assign(Object.assign(Object.assign({},Pt.defaults),i),this.getDataAttrs()),this.observer=new It({currentSlide:this.options.currentSlide}),this.responsiveMonitor=this.isCards?new et:null,this.setup(),this.registerEvents()}static get defaults(){return{currentSlide:1,peekOut:!0,navigation:!0,animation:!0,cyclical:!1,cardsPerPage:3}}setup(){this.options.peekOut&&this.root.classList.add($.PEEK_OUT),this.options.cyclical&&this.copyDummySlides(),this.slidesContainer.setAttribute(c.ARIA_LIVE,"polite"),this.nextBtn.setAttribute(c.ARIA_CONTROLS,this.root.id),this.prevBtn.setAttribute(c.ARIA_CONTROLS,this.root.id),this.animationEnabled=!1,this.calculate(),this.currentXPosition=-1*this.pagesX[this.getCurrentPage()],this.render()}registerEvents(){var t;this.root.addEventListener(l.CLICK,this.handleClick),this.root.addEventListener(l.KEYDOWN,this.handleKeydown),this.slidesContainer.addEventListener(l.TRANSITIONEND,this.handleTransitionEnd),window.addEventListener(l.RESIZE,this.handleResize),this.registerTouchEvents(),this.observer.listen("currentSlide",this.handleCurrentSlideChange),(t=this.responsiveMonitor)===null||t===void 0||t.listen(this.handleResize)}destroy(){var t;this.root.removeEventListener(l.CLICK,this.handleClick),this.root.removeEventListener(l.KEYDOWN,this.handleKeydown),this.slidesContainer.removeEventListener(l.TRANSITIONEND,this.handleTransitionEnd),window.removeEventListener(l.RESIZE,this.handleResize),this.deregisterTouchEvents(),this.observer.unlisten("currentSlide",this.handleCurrentSlideChange),(t=this.responsiveMonitor)===null||t===void 0||t.destroy()}reset(){this.setCurrentSlide(this.options.currentSlide)}calculate(){this.isCards?this.calculateCardsProperties():this.calculateProperties(),this.calcScrollValue()}calculateProperties(){this.containerWidth=ae(getComputedStyle(this.slidesContainer).width),this.slideWidth=ae(getComputedStyle(this.slides[0]).width);let t=this.containerWidth/this.slideWidth;this.slidesPerPage=1-t%1<re.ROUNDING_THRESHOLD?Math.ceil(t):Math.floor(t),this.totalPages=Math.ceil(this.slidesRef.length/this.slidesPerPage),this.isShowingNavigation=this.options.navigation,this.isTabModel=this.isShowingNavigation&&this.slidesPerPage===1}calculateCardsProperties(){var t;let i=(t=this.responsiveMonitor)===null||t===void 0?void 0:t.getCurrentBreakpoint(),s;switch(i){case"sm":s=1;break;case"md":s=Math.max(1,this.options.cardsPerPage-1);break;default:s=this.options.cardsPerPage}let o=this.slides.length/s,n=ae(getComputedStyle(this.slidesContainer).gridColumnGap);this.slidesContainer.style.width=`calc(${100*o}% + ${(o-1)*n}px)`,this.slidesContainer.style.gridTemplateColumns=`repeat(${this.slides.length}, 1fr)`;let r=getComputedStyle(this.viewport);this.containerWidth=ae(r.width)+n-ae(r.paddingLeft)-ae(r.paddingRight),this.slidesPerPage=s,this.slideWidth=this.containerWidth/s,this.totalPages=Math.ceil(o),this.isShowingNavigation=this.options.navigation&&i!=="sm",this.isTabModel=!1}render(){this.renderSlides(),this.renderButtons(),this.renderNavigation()}getCurrentSlide(){return this.observer.data.currentSlide}getCurrentPage(){return Math.ceil(this.getCurrentSlide()/this.slidesPerPage)}setCurrentSlide(t){let i=this.options.cyclical&&this.options.animation?1:0,s=1-i,o=this.slidesRef.length+i;this.observer.data.currentSlide=this.options.cyclical?$e(t,s,o):Zo(t,s,o)}setCurrentPage(t){let i=(t-1)*this.slidesPerPage+1;this.setCurrentSlide(i)}previous(){let t=this.getCurrentPage()-1;this.setCurrentPage(t)}next(){let t=this.getCurrentPage()+1;this.setCurrentPage(t)}renderSlides(){this.transit();let t=$e(this.getCurrentSlide(),1,this.slidesRef.length)-1,i=this.getCurrentPage(),s=i-1,o=document.activeElement instanceof HTMLElement&&this.slides.includes(document.activeElement);for(let[n,r]of this.slidesRef.entries()){let a=n===t;a||Math.floor(n/this.slidesPerPage)===s||i===this.totalPages&&n>=this.slidesRef.length-this.slidesPerPage?r.removeAttribute(c.ARIA_HIDDEN):r.setAttribute(c.ARIA_HIDDEN,"true"),this.isTabModel?r.setAttribute(c.ROLE,N.TABPANEL):r.removeAttribute(c.ROLE),r.tabIndex=a?R.TABBABLE:R.NOT_TABBABLE,a&&o&&(r.focus({preventScroll:!0}),setTimeout(()=>{this.viewport.scrollLeft=0},0))}this.removeFocusOnHiddenElements()}removeFocusOnHiddenElements(){let t=$e(this.getCurrentSlide(),1,this.slidesRef.length)-1,i=this.options.cyclical?t+1:t;for(let[s,o]of this.slides.entries()){let n=Wt(o);for(let r of n)s===i?r.removeAttribute(c.TAB_INDEX):r.tabIndex=R.NOT_TABBABLE}}transit(){this.animationEnabled&&this.options.animation||(this.slidesContainer.style.transition="initial");let t=this.pagesX[this.getCurrentPage()];this.slidesContainer.style.transform=`translate3d(${t}px, 0, 0)`,this.currentXPosition=t,this.options.animation&&!this.animationEnabled&&this.turnOnAnimation()}turnOnAnimation(){this.animationEnabled=!0,setTimeout(()=>{this.slidesContainer.style.transition=""},0)}renderNavigation(){if(!this.isShowingNavigation){this.root.classList.remove($.HAS_NAVIGATION);return}this.root.classList.add($.HAS_NAVIGATION),this.isTabModel?this.navigation.setAttribute(c.ROLE,N.TABLIST):this.navigation.removeAttribute(c.ROLE),this.dots.length!==this.totalPages&&this.buildNavigation();let t=$e(this.getCurrentPage(),1,this.totalPages)-1,i=document.activeElement instanceof HTMLButtonElement&&this.dots.includes(document.activeElement);for(let[s,o]of this.dots.entries()){let n=s===t;o.classList.toggle($.ACTIVE,n),o.tabIndex=n?R.TABBABLE:R.NOT_TABBABLE,this.isTabModel?o.setAttribute(c.ARIA_SELECTED,`${n}`):o.setAttribute(c.ARIA_CURRENT,`${n}`),n&&i&&o.focus()}}renderButtons(){if(this.options.cyclical)return;let t=document.activeElement,i=this.getCurrentPage(),s=i===1,o=i===this.totalPages;this.prevBtn.classList.toggle($.INACTIVE,s),this.nextBtn.classList.toggle($.INACTIVE,o),o&&t===this.nextBtn?this.prevBtn.focus():s&&t===this.prevBtn&&this.nextBtn.focus()}buildNavigation(){for(var t,i;this.dots.length;)(t=this.dots.pop())===null||t===void 0||t.remove();for(let s=0;s<this.totalPages;s++){let o=document.createElement("button");if(o.classList.add($.NAVIGATION_DOT),o.dataset[At.DATA_DOT]=`${s+1}`,this.isTabModel){let n=(i=this.slidesRef[s*this.slidesPerPage])===null||i===void 0?void 0:i.id;o.setAttribute(c.ARIA_CONTROLS,n),o.setAttribute(c.ARIA_LABELLEDBY,n),o.setAttribute(c.ROLE,N.TAB)}else{let r=(this.navigation.dataset[At.DATA_NAVIGATION_LABEL]||At.NAVIGATION_LABEL_DEFAULT).replace(At.NAVIGATION_LABEL_VAR_NAME,`${s+1}`);o.setAttribute(c.ARIA_CONTROLS,this.root.id),o.setAttribute(c.ARIA_LABEL,r)}this.navigation.appendChild(o),this.dots.push(o)}}copyDummySlides(){let t=this.cloneSlide(this.slides[0]),i=this.cloneSlide(this.slides[this.slides.length-1]);this.slidesContainer.append(t),this.slidesContainer.prepend(i),this.slides=[i,...this.slides,t]}cloneSlide(t){let i=t.cloneNode(!0);return i.id=`${t.id}-copy`,i.setAttribute(c.ARIA_HIDDEN,"true"),i.tabIndex=R.NOT_TABBABLE,i}calcScrollValue(){let t=this.options.cyclical?1:0,i=1-t,s=this.totalPages+t,o=this.isRtl?1:-1;this.pagesX=[];for(let n=i;n<=s;n++){let r=n<s?(n-1+t)*this.slidesPerPage*this.slideWidth:this.slides.length*this.slideWidth-this.containerWidth;this.pagesX[n]=r*o}}registerTouchEvents(){window.PointerEvent?(this.viewport.addEventListener(l.POINTERDOWN,this.handleGestureStart,!0),this.viewport.addEventListener(l.POINTERMOVE,this.handleGestureMove,!0),this.viewport.addEventListener(l.POINTERUP,this.handleGestureEnd,!0),this.viewport.addEventListener(l.POINTERCANCEL,this.handleGestureEnd,!0)):(this.viewport.addEventListener(l.TOUCHSTART,this.handleGestureStart,!0),this.viewport.addEventListener(l.TOUCHMOVE,this.handleGestureMove,!0),this.viewport.addEventListener(l.TOUCHEND,this.handleGestureEnd,!0),this.viewport.addEventListener(l.TOUCHCANCEL,this.handleGestureEnd,!0),this.viewport.addEventListener(l.MOUSEDOWN,this.handleGestureStart,!0))}deregisterTouchEvents(){window.PointerEvent?(this.viewport.removeEventListener(l.POINTERDOWN,this.handleGestureStart,!0),this.viewport.removeEventListener(l.POINTERMOVE,this.handleGestureMove,!0),this.viewport.removeEventListener(l.POINTERUP,this.handleGestureEnd,!0),this.viewport.removeEventListener(l.POINTERCANCEL,this.handleGestureEnd,!0)):(this.viewport.removeEventListener(l.TOUCHSTART,this.handleGestureStart,!0),this.viewport.removeEventListener(l.TOUCHMOVE,this.handleGestureMove,!0),this.viewport.removeEventListener(l.TOUCHEND,this.handleGestureEnd,!0),this.viewport.removeEventListener(l.TOUCHCANCEL,this.handleGestureEnd,!0),this.viewport.removeEventListener(l.MOUSEDOWN,this.handleGestureStart,!0))}updateSwipeRestPosition(){let t=this.getXDistance(this.initialTouchPos,this.lastTouchPos);this.slidesContainer.style.transition="",Math.abs(t)>=this.containerWidth*re.DRAG_THRESHOLD&&((t>0&&!this.isRtl||t<0&&this.isRtl)&&this.next(),(t<0&&!this.isRtl||t>0&&this.isRtl)&&this.previous()),this.transit()}getXDistance(t,i){return t&&i?t.x-i.x:0}getGesturePointFromEvent(t){let i={x:0,y:0};return this.isTouchEvent(t)?t.targetTouches&&(i.x=t.targetTouches[0].clientX,i.y=t.targetTouches[0].clientY):(i.x=t.clientX,i.y=t.clientY),i}onAnimFrame(){if(!this.rafPending)return;let t=this.getXDistance(this.initialTouchPos,this.lastTouchPos),s=`translate3d(${this.currentXPosition-t}px, 0, 0)`;this.slidesContainer.style.transform=s,this.rafPending=!1}isTouchEvent(t){return window.TouchEvent&&t instanceof TouchEvent}getDataAttrs(){let t={};for(let i of Object.keys(Pt.defaults)){let s=`glueCarousel${i.toUpperCase().slice(0,1)}${i.slice(1)}`;if(this.root.dataset[s])if(i==="currentSlide"||i==="cardsPerPage"){let o=Number(this.root.dataset[s]);isNaN(o)||(t[i]=o)}else t[i]=this.root.dataset[s]==="true"}return t}};function Zo(e,t,i){return Math.max(t,Math.min(i,e))}function ae(e){return Number(e.replace("px",""))}function $e(e,t,i){let s=i+1-t,o=t+(e-t)%s;return o<t?o+s:o}var Fe;(function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"})(Fe||(Fe={}));var Z;(function(e){e.PREFIX="data-glue-popover",e.ROOT="glue-popover",e.TRIGGER="glue-popover__trigger",e.DIALOG="glue-popover__dialog",e.CLOSE_BTN="glue-popover__close-btn",e.IS_SHOWN="glue-is-shown",e.COPY="glue-copy"})(Z||(Z={}));var qt;(function(e){e.TRIGGER="trigger",e.PLACEMENT="placement",e.FOCUS="takeFocus",e.ROOT="root",e.MISSING_ID="Missing or invalid ID. Popover requires a unique ID",e.MISSING_TRIGGER="Popover trigger element is missing",e.MISSING_DIALOG="Popover dialog element is missing",e.INCORRECT_PLACEMENT="Placement value needs to be one of these: left, right, top, bottom."})(qt||(qt={}));var Li;(function(e){e.TRIGGER="gluePopoverTrigger"})(Li||(Li={}));var zt;(function(e){e.OPEN_EVENT="gluepopovershow",e.CLOSE_EVENT="gluepopoverclose"})(zt||(zt={}));var Ve;(function(e){e.ROOT="glue-copy",e.VALUE="glue-copy-value",e.BUTTON="glue-copy-button",e.IS_COPIED="glue-is-copied",e.POPOVER_DIALOG="glue-popover__dialog"})(Ve||(Ve={}));var Oi;(function(e){e.SUCCESS="glue-copy-success",e.FAIL="glue-copy-fail"})(Oi||(Oi={}));var ws;(function(e){e.IS_HIDDEN="glue.isHidden"})(ws||(ws={}));var Si;(function(e){e.COPY="copy"})(Si||(Si={}));var yi;(function(e){e.MISSING_INPUT="Input element is missing",e.MISSING_COPY_BUTTON="Copy button is missing",e.SUCCESS_MESSAGE="Copied to clipboard",e.FAIL_MESSAGE="Press Ctrl+C or \u2318+C to copy"})(yi||(yi={}));var b;(function(e){e.GROUP="glue-expansion-panels",e.PANEL="glue-expansion-panel",e.CONTENT="glue-expansion-panel__content",e.TOGGLE="glue-expansion-panel__toggle",e.BUTTON="glue-expansion-panel__button",e.HEADER_TEXT="glue-expansion-panel__header-text",e.TOGGLE_ALL="glue-expansion-panels__toggle-all",e.TOGGLE_ALL_TEXT="glue-expansion-panels__toggle-text",e.IS_EXPANDED="glue-is-expanded",e.IS_COLLAPSED="glue-is-collapsed",e.IS_MIXED="glue-is-mixed"})(b||(b={}));var it;(function(e){e.KEY="glueExpansionPanelsKey",e.SMOOTHANIMTIMING="glueExpansionPanelsSmoothAnimTiming",e.TOGGLEFOR="glueExpansionPanelToggleFor",e.INITIAL="glueExpansionPanelInitial",e.EXPAND_TOOLTIP="glueExpansionPanelExpandTooltip",e.COLLAPSE_TOOLTIP="glueExpansionPanelCollapseTooltip"})(it||(it={}));var q;(function(e){e.DEFAULT_INSTANCE_ID="expansion_panels",e.EXPANDED="expanded",e.COLLAPSED="collapsed",e.MIXED="mixed",e.TOOLTIP_EXPAND="Press to expand",e.TOOLTIP_COLLAPSE="Press to collapse"})(q||(q={}));var k;(function(e){e.PANELGROUP_STATUS_CHANGED="glueExpansionPanelsStatusChanged",e.TOGGLE_CONTENT="glueExpansionPanelsToggleContent",e.EXPAND_ALL_CONTENT="glueExpansionPanelsExpandAllContent",e.COLLAPSE_ALL_CONTENT="glueExpansionPanelsCollapseAllContent"})(k||(k={}));var Yt;(function(e){e.TOGGLE_MISSING_CONTENT_ID="[Glue Expansion Panels Toggle] - Toggle is not linked to a content element.",e.TOGGLE_MISSING_CONTENT_ELEMENT="[Glue Expansion Panels Toggle] - Cannot find content element to link toggle to.",e.MISSING_CONTENT_ID="[Glue Expansion Panels Content] - An ID must be set on the content element."})(Yt||(Yt={}));var We=class{constructor(){this.listeners={}}dispatchEvent(t,i){let s=this.getListenersList(t),o;for(let n=0;n<s.length;n++)o=s[n],o(i)}listen(t,i){this.getListenersList(t).push(i)}unlisten(t,i){let s=this.getListenersList(t);for(let o=s.length-1;o>=0;o--)s[o]===i&&s.splice(o,1)}getListenersList(t){return this.listeners[t]||(this.listeners[t]=[]),this.listeners[t]}removeAllListeners(){for(let t of Object.keys(this.listeners))Object.prototype.hasOwnProperty.call(this.listeners,t)&&this.listeners[t].forEach(i=>{this.unlisten(t,i)})}};var Lt=class{constructor(t){let i=Object.assign({},Lt.defaults,t);this.isAnimated=i.isAnimated,this.panelsCount=i.panelsCount,this.panelsCollapsed=this.panelsCount,this.panelsStatus=q.COLLAPSED,this.eventTarget=new We}static get defaults(){return{isAnimated:!0,panelsCount:1}}updatePanelsStatus(){this.panelsCount===0?this.panelsStatus="":this.panelsCount===this.panelsCollapsed?this.panelsStatus=q.COLLAPSED:this.panelsCollapsed===0?this.panelsStatus=q.EXPANDED:this.panelsStatus=q.MIXED,this.dispatchEvent(k.PANELGROUP_STATUS_CHANGED)}listen(t,i){this.eventTarget.listen(t,i)}unlisten(t,i){this.eventTarget.unlisten(t,i)}dispatchEvent(t,i){this.eventTarget.dispatchEvent(t,i)}};var Y=class{static get(t=q.DEFAULT_INSTANCE_ID,i=Lt.defaults){let s=Y.instances[t];return s||(s=new Lt(i),Y.instances[t]=s),s}static clearSingle(t){delete Y.instances[t]}static clearAll(){Y.instances={}}};Y.instances={};var qe=class extends _{constructor(t){var i,s,o;super(t),this.tabIndexArr=[],this.isCollapsed=!0,this.panelHeight=0,this.groupEl=this.root.closest(`.${b.GROUP}`),this.panelEl=this.root.closest(`.${b.PANEL}`),this.toggleButton=(s=(i=this.panelEl)===null||i===void 0?void 0:i.querySelector(`.${b.BUTTON}`))!==null&&s!==void 0?s:null,this.toggleContentHandler=r=>{this.toggleContent(r)},this.expandHandler=()=>{this.expand()},this.collapseHandler=()=>{this.collapse()},this.transitionendHandler=()=>{this.unsetPanelHeight()};let n=(o=this.root.closest(`.${b.GROUP}`))===null||o===void 0?void 0:o.dataset[it.KEY];if(this.model=Y.get(n),!this.root.id)throw new Error(Yt.MISSING_CONTENT_ID);this.init()}init(){this.tabIndexArr=this.getTabIndexArray(),this.root.dataset[it.INITIAL]==="expanded"?(this.isCollapsed=!1,this.updateHtmlAttributes(!1),this.setPanelHeight(""),this.updateStatus(!1)):(this.isCollapsed=!0,this.updateHtmlAttributes(!0),this.setPanelHeight("0px")),this.model.listen(k.TOGGLE_CONTENT,this.toggleContentHandler),this.model.listen(k.EXPAND_ALL_CONTENT,this.expandHandler),this.model.listen(k.COLLAPSE_ALL_CONTENT,this.collapseHandler),this.model.isAnimated===!0&&this.root.addEventListener(l.TRANSITIONEND,this.transitionendHandler),this.addA11yFeatures()}destroy(){var t;(t=this.panelEl)===null||t===void 0||t.classList.remove(b.IS_COLLAPSED,b.IS_EXPANDED),this.setPanelHeight(""),this.removeAriaAttributes(),this.setFocusableElements(!1,this.tabIndexArr),this.tabIndexArr=[],this.model.unlisten(k.TOGGLE_CONTENT,this.toggleContentHandler),this.model.unlisten(k.EXPAND_ALL_CONTENT,this.expandHandler),this.model.unlisten(k.COLLAPSE_ALL_CONTENT,this.collapseHandler),this.model.isAnimated===!0&&this.root.removeEventListener(l.TRANSITIONEND,this.transitionendHandler),this.removeA11yFeatures()}expand(){this.isCollapsed!==!1&&(this.updateHtmlAttributes(!1),this.updateHeight(!1),this.updateStatus(!1))}collapse(){this.isCollapsed!==!0&&(this.updateHtmlAttributes(!0),this.updateHeight(!0),this.updateStatus(!0))}toggleContent(t){t===this.root.id&&(this.isCollapsed?this.expand():this.collapse())}updateHtmlAttributes(t){var i,s;this.setAriaAttributes(t),this.setFocusableElements(t,this.tabIndexArr);let o=t?b.IS_COLLAPSED:b.IS_EXPANDED,n=t?b.IS_EXPANDED:b.IS_COLLAPSED;(i=this.panelEl)===null||i===void 0||i.classList.add(o),(s=this.panelEl)===null||s===void 0||s.classList.remove(n)}updateHeight(t){this.panelHeight=this.root.scrollHeight,this.model.isAnimated===!0?(this.setPanelHeight(`${this.panelHeight}px`),t&&(this.panelHeight=this.root.scrollHeight,window.setTimeout(this.setPanelHeight.bind(this),1,"0px"))):this.setPanelHeight(t?"0px":"")}updateStatus(t){t?this.model.panelsCollapsed++:this.model.panelsCollapsed--,this.model.updatePanelsStatus(),this.isCollapsed=t}getTabIndexArray(){return Wt(this.root).map(s=>s.tabIndex)}setPanelHeight(t){this.root.style.height=t}unsetPanelHeight(){this.root.style.height!=="0px"&&(this.root.style.height="")}getTooltipText(t=!1){var i,s,o,n;return t?(s=(i=this.groupEl)===null||i===void 0?void 0:i.dataset[it.EXPAND_TOOLTIP])!==null&&s!==void 0?s:q.TOOLTIP_EXPAND:(n=(o=this.groupEl)===null||o===void 0?void 0:o.dataset[it.COLLAPSE_TOOLTIP])!==null&&n!==void 0?n:q.TOOLTIP_COLLAPSE}setAriaAttributes(t){this.root.hidden=t,this.toggleButton&&(this.toggleButton.title=this.getTooltipText(t),this.toggleButton.setAttribute(c.ARIA_EXPANDED,String(!t))),t?this.root.setAttribute(c.ARIA_HIDDEN,String(t)):this.root.removeAttribute(c.ARIA_HIDDEN)}removeAriaAttributes(){var t,i;(t=this.toggleButton)===null||t===void 0||t.removeAttribute(c.ARIA_EXPANDED),(i=this.toggleButton)===null||i===void 0||i.removeAttribute("title"),this.root.removeAttribute(c.ARIA_HIDDEN),this.root.hidden=!1}setFocusableElements(t,i){let s=Wt(this.root);if(t)for(let o of s)o.tabIndex=R.NOT_TABBABLE;else for(let o=0;o<s.length;o++){let n=s[o];n.tabIndex=i[o]}}addA11yFeatures(){var t,i;this.root.setAttribute(c.ARIA_LABELLEDBY,(i=(t=this.toggleButton)===null||t===void 0?void 0:t.id)!==null&&i!==void 0?i:""),this.root.setAttribute(c.ROLE,N.REGION)}removeA11yFeatures(){this.root.removeAttribute(c.ARIA_LABELLEDBY),this.root.removeAttribute(c.ROLE)}};var ze=class extends _{constructor(t){var i;super(t),this.clickHandler=n=>{n.preventDefault(),this.toggle()},this.keydownHandler=n=>{this.handleKeydown(n)};let s=(i=this.root.closest(`.${b.GROUP}`))===null||i===void 0?void 0:i.dataset[it.KEY];this.model=Y.get(s);let o=this.root.dataset[it.TOGGLEFOR];if(o)this.contentId=o;else throw new Error(Yt.TOGGLE_MISSING_CONTENT_ID);this.init()}init(){if(!document.querySelector("#"+this.contentId))throw new Error(Yt.TOGGLE_MISSING_CONTENT_ELEMENT);this.addA11yFeatures(),this.root.addEventListener(l.CLICK,this.clickHandler),this.root.addEventListener(l.KEYDOWN,this.keydownHandler)}destroy(){this.removeA11yFeatures(),this.root.removeEventListener(l.CLICK,this.clickHandler),this.root.removeEventListener(l.KEYDOWN,this.keydownHandler)}toggle(){this.model.dispatchEvent(k.TOGGLE_CONTENT,this.contentId)}handleKeydown(t){(t.key===v.ENTER||t.key===v.SPACE)&&(t.preventDefault(),this.toggle())}addA11yFeatures(){this.root.setAttribute(c.ARIA_CONTROLS,this.contentId),this.root.setAttribute(c.ROLE,N.BUTTON),this.root.tabIndex=R.TABBABLE}removeA11yFeatures(){this.root.removeAttribute(c.ARIA_CONTROLS),this.root.removeAttribute(c.ROLE),this.root.removeAttribute(c.TAB_INDEX)}};var Ye=class extends _{constructor(t){var i;super(t),this.statusChangeHandler=()=>{this.updateToggleAllStatus()},this.clickHandler=s=>{s.preventDefault(),this.toggleAll()},this.keydownHandler=s=>{this.handleKeydown(s)},this.keyupHandler=s=>{this.handleKeyup(s)},this.model=Y.get((i=this.root.closest(`.${b.GROUP}`))===null||i===void 0?void 0:i.dataset[it.KEY]),this.init()}init(){this.addA11yFeatures(),this.root.addEventListener(l.CLICK,this.clickHandler),this.root.addEventListener(l.KEYDOWN,this.keydownHandler),this.root.addEventListener(l.KEYUP,this.keyupHandler),this.model.listen(k.PANELGROUP_STATUS_CHANGED,this.statusChangeHandler)}destroy(){this.removeA11yFeatures(),this.root.removeEventListener(l.CLICK,this.clickHandler),this.root.removeEventListener(l.KEYDOWN,this.keydownHandler),this.root.removeEventListener(l.KEYUP,this.keyupHandler),this.model.unlisten(k.PANELGROUP_STATUS_CHANGED,this.statusChangeHandler)}toggleAll(){this.model.panelsStatus===q.EXPANDED?this.model.dispatchEvent(k.COLLAPSE_ALL_CONTENT):this.model.dispatchEvent(k.EXPAND_ALL_CONTENT),this.model.updatePanelsStatus()}handleKeydown(t){(t.key===v.ENTER||t.key===v.SPACE)&&(t.preventDefault(),this.toggleAll())}handleKeyup(t){t.key===v.SPACE&&t.preventDefault()}addA11yFeatures(){this.root.setAttribute(c.ARIA_EXPANDED,this.model.panelsStatus===q.EXPANDED?"true":"false");let t=Array.from(this.root.querySelectorAll(`.${b.TOGGLE_ALL_TEXT}`));for(let i of t)i.setAttribute(c.ARIA_HIDDEN,"true")}removeA11yFeatures(){this.root.removeAttribute(c.ARIA_EXPANDED);let t=Array.from(this.root.querySelectorAll(`.${b.TOGGLE_ALL_TEXT}`));for(let i of t)i.removeAttribute(c.ARIA_HIDDEN)}updateToggleAllStatus(){this.model.panelsStatus===q.EXPANDED?this.root.setAttribute(c.ARIA_EXPANDED,"true"):this.root.setAttribute(c.ARIA_EXPANDED,"false")}};var Ot=class extends _{constructor(t,i){super(t),this.toggleAllComponents=[],this.panelContentComponents=[],this.panelToggleComponents=[],this.options=Object.assign({},Lt.defaults,i),this.statusChangeHandler=()=>{this.updateStatus()},this.modelKey=this.root.dataset[it.KEY]||q.DEFAULT_INSTANCE_ID,this.model=Y.get(this.modelKey,this.options),this.init()}init(){this.model.panelsCount=this.root.getElementsByClassName(b.PANEL).length,this.model.panelsCollapsed=this.model.panelsCount;for(let t of this.root.querySelectorAll(`.${b.TOGGLE_ALL}`))this.toggleAllComponents.push(new Ye(t));for(let t of this.root.querySelectorAll(`.${b.CONTENT}`))this.panelContentComponents.push(new qe(t));for(let t of this.root.querySelectorAll(`.${b.BUTTON}`))this.panelToggleComponents.push(new ze(t));this.model.listen(k.PANELGROUP_STATUS_CHANGED,this.statusChangeHandler),this.model.updatePanelsStatus()}destroy(){let t;for(;this.toggleAllComponents.length>0;)t=this.toggleAllComponents.pop(),t.destroy();for(;this.panelContentComponents.length>0;)t=this.panelContentComponents.pop(),t.destroy();for(;this.panelToggleComponents.length>0;)t=this.panelToggleComponents.pop(),t.destroy();this.model.panelsCount=0,this.model.updatePanelsStatus(),this.model.unlisten(k.PANELGROUP_STATUS_CHANGED,this.statusChangeHandler),Y.clearSingle(this.modelKey)}updateStatus(){this.root.classList.remove(b.IS_COLLAPSED,b.IS_MIXED,b.IS_EXPANDED),this.model.panelsStatus&&this.root.classList.add(`glue-is-${this.model.panelsStatus}`)}};var le;(function(e){e.CONTROL="glue-filter-control",e.IS_MATCHING="glue-filter-is-matching",e.ITEM="glue-filter__item",e.LABEL="glue-filter-label",e.LABEL_CLOSEBTN="glue-filter-label__close-btn",e.LABEL_GROUP="glue-filter-label-group",e.LABEL_SHOW="glue-filter-label--show",e.NUM_RESULTS="glue-filter-num-results",e.OPTION="glueFilterOption",e.RESULT="glue-filter-result",e.RESULT_ITEM="glue-filter-result__item"})(le||(le={}));var _e;(function(e){e.ID="glueFilterId",e.IDS="glueFilterIds",e.PREFIX="data-glue-filter-",e.STRATEGY="glueFilterStrategy",e.INPUT_CHECKBOX_SELECTOR="input[type='checkbox']"})(_e||(_e={}));var Rt;(function(e){e.FOOTER_ROOT="glue-footer",e.FOOTER_PANELS_GROUP="glue-footer__site-links-grid",e.FOOTER_PANELS_PANEL="glue-footer__site-links-column",e.FOOTER_PANELS_TOGGLE="glue-footer__site-links-header",e.FOOTER_PANELS_BUTTON="glue-footer__site-links-header-button",e.FOOTER_PANELS_CONTENT="glue-footer__site-links-list"})(Rt||(Rt={}));var xt;(function(e){e.MODEL_NAME="footer",e.KEY="glueExpansionPanelsKey",e.TOGGLEFOR="glueExpansionPanelToggleFor"})(xt||(xt={}));var Kt=class extends _{constructor(t,i){super(t),this.options=Object.assign({},Kt.defaults,i),this.panelsOptions={isAnimated:this.options.isAnimated,panelsCount:this.options.columnCount},this.panelGroupEl=this.root.querySelector(`.${Rt.FOOTER_PANELS_GROUP}`),this.panelGroupEl&&(this.responsiveSitelinks=new et({breakpoint:this.options.panelsBreakpoints,enter:()=>{this.panelGroupEl&&(this.configureExpansionPanels(!0),this.panelsComponent=new Ot(this.panelGroupEl,this.panelsOptions))},leave:()=>{var s;this.panelGroupEl&&((s=this.panelsComponent)===null||s===void 0||s.destroy(),this.configureExpansionPanels(!1))}}))}static get defaults(){return{panelsBreakpoints:["sm"],isAnimated:!0,columnCount:4}}destroy(){var t;this.panelsComponent&&(this.panelsComponent.destroy(),this.configureExpansionPanels(!1)),(t=this.responsiveSitelinks)===null||t===void 0||t.destroy()}configureExpansionPanels(t){if(this.panelGroupEl){this.panelGroupEl.classList.toggle(b.GROUP,t),t?this.panelGroupEl.dataset[xt.KEY]=xt.MODEL_NAME:delete this.panelGroupEl.dataset[xt.KEY];for(let i of this.panelGroupEl.querySelectorAll(`.${Rt.FOOTER_PANELS_PANEL}`)){let s=i.querySelector(`.${Rt.FOOTER_PANELS_TOGGLE}`),o=i.querySelector(`.${Rt.FOOTER_PANELS_BUTTON}`),n=i.querySelector(`.${Rt.FOOTER_PANELS_CONTENT}`);i?.classList.toggle(b.PANEL,t),s?.classList.toggle(b.TOGGLE,t),o?.classList.toggle(b.BUTTON,t),n?.classList.toggle(b.CONTENT,t),t&&o&&n?o.dataset[xt.TOGGLEFOR]=n.id:o?.removeAttribute(xt.TOGGLEFOR)}}}};var O;(function(e){e.ROOT="glue-header",e.BAR="glue-header__bar",e.TOGGLE_BTN="glue-header__drawer-toggle-btn",e.DRAWER_EL="glue-header__drawer",e.DRAWER_IS_SHOWN="glue-is-showing-drawer",e.DOUBLE="glue-header__bar--double",e.WHOLLY_SCROLLED="glue-header-is-wholly-scrolled",e.LOCK_UP="glue-header-lock-up",e.LINK_BAR="glue-header__link-bar",e.LIST="glue-header__list",e.LIST_ITEM="glue-header__item",e.NESTED_LIST="glue-header__list--nested",e.LINK_ITEM="glue-header__link",e.LOGO_SVG="glue-header__logo-svg",e.NO_DRAWER="glue-header-no-drawer",e.STEPPED_NAV_ENABLE="glue-header-stepped-nav-enabled",e.ACTIVE_MENU="glue-header--is-active",e.ACTIVE_LINK="glue-header__item--active",e.IS_ANIMATING="glue-is-animating",e.BAR_DESKTOP="glue-header__bar--desktop",e.BAR_MOBILE="glue-header__bar--mobile",e.REWIND_SHADOW="glue-header--rewind-box-shadow",e.HEADER_CONTAINER="glue-header__container",e.SKIP_BTN="glue-header__skip-content",e.DEEP_NAV="glue-header__deep-nav"})(O||(O={}));var nt;(function(e){e.MISSING_ROOT_ELEMENT='No element with "glue-header class" was found. Header component needs a root element.',e.MISSING_HEADER_BAR_ELEMENT='No element with "glue-header__bar" class was found. This is required by Header component.',e.MISSING_DRAWER_ELEMENT='No element with "glue-header__drawer" class was found. This is required by Header component.',e.MISSING_TOGGLE_BTN_ELEMENT='No element with "glue-header__drawer-toggle-btn" class was found. This is required by Header component.',e.MISSING_LINK_BAR_ELEMENT='No element with "glue-header__link-bar" class was found. This is required by Header component.',e.SCROLL_UP="up",e.SCROLL_DOWN="down",e.INCORRECT_TYPE="Incorrect data type",e.SHOW_EVENT="glueheadershow",e.HIDE_EVENT="glueheaderhide"})(nt||(nt={}));var he;(function(e){e[e.MAX_PAGE_OFFSET=500]="MAX_PAGE_OFFSET",e[e.ANIMATING_STATE_BUFFER=20]="ANIMATING_STATE_BUFFER",e[e.SCROLL_THRESHOLD=50]="SCROLL_THRESHOLD",e[e.POSITION_CHANGE_BUFFER=300]="POSITION_CHANGE_BUFFER"})(he||(he={}));var we;(function(e){e.ERROR_MSG_NO_CHILDREN="has no element children.",e.ERROR_PREFIX="Menubar constructor argument el "})(we||(we={}));var gt=class{constructor(t=0,i=0){this.x=t,this.y=i}static difference(t,i){return new gt(t.x-i.x,t.y-i.y)}};var Ie;(function(e){e.MENU_OPEN="glue-header__menu--open"})(Ie||(Ie={}));var Xe;(function(e){e.NO_CHILDREN="PopupMenu constructor argument el has no element children."})(Xe||(Xe={}));var je=class extends _{constructor(t,i){super(t),this.parentMenu=i,this.isMenubarItem=!1,this.popupMenu=null,this.handleKeydown=s=>{let o=!1,n=s.key;function r(a){return a.length===1&&a.match(/\S/)}switch(s.key){case v.SPACE:case v.ENTER:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem()),o=!1;break;case v.UP:this.parentMenu.setFocusToPreviousItem(this),o=!0;break;case v.DOWN:this.parentMenu.setFocusToNextItem(this),o=!0;break;case v.LEFT:if(this.controllerWithoutParentMenu(this.parentMenu.controller))return;this.parentMenu.setFocusToController("previous"),this.parentMenu.close(!0),o=!0;break;case v.RIGHT:if(this.controllerWithoutParentMenu(this.parentMenu.controller))return;this.popupMenu?(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem()):(this.parentMenu.setFocusToController("next"),this.parentMenu.close(!0)),o=!0;break;case v.HOME:case v.PAGEUP:this.parentMenu.setFocusToFirstItem(),o=!0;break;case v.END:case v.PAGEDOWN:this.parentMenu.setFocusToLastItem(),o=!0;break;case v.ESC:this.parentMenu.setFocusToController(),this.parentMenu.close(!0),o=!0;break;case v.TAB:this.parentMenu.setFocusToController(),this.parentMenu.close(!0);break;default:r(n)&&(this.parentMenu.setFocusByFirstCharacter(this,n),o=!0);break}o&&(s.stopPropagation(),s.preventDefault())},this.handleClick=()=>{this.parentMenu.setFocusToController(),this.parentMenu.close(!0)},this.handleFocus=()=>{this.parentMenu.hasFocus=!0},this.handleBlur=()=>{this.parentMenu.hasFocus=!1,setTimeout(()=>{this.parentMenu.close(!1)},300)},this.handleMouseenter=()=>{var s;this.parentMenu.hasHover=!0,this.parentMenu.open(),this.popupMenu&&(this.popupMenu.hasHover=!0),(s=this.popupMenu)===null||s===void 0||s.open()},this.handleMouseleave=()=>{var s;this.popupMenu&&(this.popupMenu.hasHover=!1),(s=this.popupMenu)===null||s===void 0||s.close(!0)},this.init()}init(){this.root.tabIndex=-1,this.root.getAttribute(c.ROLE)||this.root.setAttribute(c.ROLE,N.MENUITEM),this.root.addEventListener(l.KEYDOWN,this.handleKeydown),this.root.addEventListener(l.CLICK,this.handleClick),this.root.addEventListener(l.FOCUS,this.handleFocus),this.root.addEventListener(l.BLUR,this.handleBlur),this.root.addEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.addEventListener(l.MOUSELEAVE,this.handleMouseleave)}destroy(){this.root.removeAttribute(c.ROLE),this.root.removeAttribute(c.TAB_INDEX),this.root.removeEventListener(l.KEYDOWN,this.handleKeydown),this.root.removeEventListener(l.CLICK,this.handleClick),this.root.removeEventListener(l.FOCUS,this.handleFocus),this.root.removeEventListener(l.BLUR,this.handleBlur),this.root.removeEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.removeEventListener(l.MOUSELEAVE,this.handleMouseleave)}controllerWithoutParentMenu(t){return t.parentMenu===null}setExpanded(t){t?this.root.setAttribute(c.ARIA_EXPANDED,"true"):this.root.setAttribute(c.ARIA_EXPANDED,"false")}};var Dt=class extends _{constructor(t,i){if(super(t),this.menuItemCollection=[],this.firstChars=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1,this.handleMouseenter=()=>{this.hasHover=!0},this.handleMouseleave=s=>{this.hasHover=!1;let o=new gt(s.clientX,s.clientY);this.isInController(o)||setTimeout(()=>{this.close(!1)},300)},this.setFocusByFirstCharacter=(s,o)=>{o=o.toLowerCase();let n=this.menuItemCollection.indexOf(s)+1;n===this.menuItemCollection.length&&(n=0);let r=(d,h)=>d===o&&h>=n,a=this.firstChars.findIndex(r);a===-1&&(n=0,a=this.firstChars.findIndex(r)),a>-1&&this.menuItemCollection[a].root.focus()},this.open=()=>{this.root.classList.add(Ie.MENU_OPEN),this.controller.root.setAttribute(c.ARIA_EXPANDED,"true"),this.controller.setExpanded(!0)},this.root.childElementCount===0)throw new Error(`${Xe.NO_CHILDREN}`);this.menuItems=Array.from(this.root.querySelectorAll(`.${O.LIST_ITEM}`)),this.controller=i,this.init()}init(){let t;this.root.tabIndex=-1,this.root.setAttribute(c.ROLE,N.MENU),this.root.addEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.addEventListener(l.MOUSELEAVE,this.handleMouseleave);for(let o of this.menuItems)o.setAttribute(c.ROLE,N.NONE);let i=Array.from(this.root.querySelectorAll(":scope > .glue-header__item > .glue-header__link"));for(let o of i){t=new je(o,this);let n=t.root.nextElementSibling;n instanceof HTMLUListElement&&(t.popupMenu=new Dt(n,t)),this.menuItemCollection.push(t),this.addFirstChar(o)}let s=this.menuItemCollection.length;s>0&&(this.firstItem=this.menuItemCollection[0],this.lastItem=this.menuItemCollection[s-1])}destroy(){this.root.removeAttribute(c.ROLE),this.root.removeAttribute(c.TAB_INDEX);for(let t of this.menuItems)t.removeAttribute(c.ROLE);for(let t of this.menuItemCollection)t.destroy();this.root.removeEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.removeEventListener(l.MOUSELEAVE,this.handleMouseleave)}addFirstChar(t){var i;let s=(i=t.textContent)===null||i===void 0?void 0:i.trim().charAt(0).toLowerCase();this.firstChars.push(s??"")}isInController(t){let i=this.controller.root.getBoundingClientRect();return t.x>=i.left&&t.x<=i.right&&t.y>=i.top&&t.y<=i.bottom}isMenuItem(t){return t.parentMenu!==null&&t.isMenubarItem===!1}setFocusToMenubarItem(t){for(;t;){if(t.isMenubarItem)return t.root.focus(),t;this.isMenuItem(t)&&(t.parentMenu.hasFocus=!1,t=t.parentMenu.controller)}return null}setFocusToController(t){var i,s,o,n,r;if(t===void 0){(s=(i=this.controller)===null||i===void 0?void 0:i.root)===null||s===void 0||s.focus();return}if(this.controller.isMenubarItem)t==="previous"?(o=this.controller.parentMenu)===null||o===void 0||o.setFocusToPreviousItem(this.controller):t==="next"&&((n=this.controller.parentMenu)===null||n===void 0||n.setFocusToNextItem(this.controller));else if(this.controller.root.focus(),this.close(),t==="next"){let a=this.setFocusToMenubarItem(this.controller);(r=a?.parentMenu)===null||r===void 0||r.setFocusToNextItem(a)}}setFocusToFirstItem(){var t;(t=this.firstItem)===null||t===void 0||t.root.focus()}setFocusToLastItem(){var t;(t=this.lastItem)===null||t===void 0||t.root.focus()}setFocusToPreviousItem(t){var i;if(t===this.firstItem)(i=this.lastItem)===null||i===void 0||i.root.focus();else{let s=this.menuItemCollection.indexOf(t);this.menuItemCollection[s-1].root.focus()}}setFocusToNextItem(t){var i;if(t===this.lastItem)(i=this.firstItem)===null||i===void 0||i.root.focus();else{let s=this.menuItemCollection.indexOf(t);this.menuItemCollection[s+1].root.focus()}}close(t=!1){var i;let s=!1,o=this.hasFocus;if(this.controller.isMenubarItem&&(s=this.controller.hasHover),!o)for(let n of this.menuItemCollection)o=o||!!(!((i=n.popupMenu)===null||i===void 0)&&i.hasFocus);(t||!o&&!this.hasHover&&!s)&&(this.root.classList.remove(Ie.MENU_OPEN),this.controller.setExpanded(!1))}};var Ze=class extends _{constructor(t,i){super(t),this.parentMenu=i,this.popupMenu=null,this.hasFocus=!1,this.hasHover=!1,this.isMenubarItem=!0,this.handleKeydown=s=>{var o,n;let r=s.key,a=!1;function d(h){return h.length===1&&h.match(/\S/)}switch(s.key){case v.SPACE:case v.ENTER:case v.DOWN:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem(),a=!0);break;case v.LEFT:this.parentMenu.setFocusToPreviousItem(this),a=!0;break;case v.RIGHT:this.parentMenu.setFocusToNextItem(this),a=!0;break;case v.UP:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),a=!0);break;case v.HOME:case v.PAGEUP:this.parentMenu.setFocusToFirstItem(),a=!0;break;case v.END:case v.PAGEDOWN:this.parentMenu.setFocusToLastItem(),a=!0;break;case v.TAB:(o=this.popupMenu)===null||o===void 0||o.close(!0);break;case v.ESC:(n=this.popupMenu)===null||n===void 0||n.close(!0);break;default:d(r)&&(this.parentMenu.setFocusByFirstCharacter(this,r),a=!0);break}a&&(s.stopPropagation(),s.preventDefault())},this.setExpanded=s=>{s?this.root.setAttribute(c.ARIA_EXPANDED,"true"):this.root.setAttribute(c.ARIA_EXPANDED,"false")},this.handleFocus=()=>{this.parentMenu.hasFocus=!0},this.handleBlur=()=>{this.parentMenu.hasFocus=!1},this.handleMouseenter=()=>{var s;this.hasHover=!0,(s=this.popupMenu)===null||s===void 0||s.open()},this.handleMouseleave=()=>{this.hasHover=!1,setTimeout(()=>{var s;(s=this.popupMenu)===null||s===void 0||s.close(!1)},300)},this.init()}init(){this.root.tabIndex=-1,this.root.setAttribute(c.ROLE,N.MENUITEM);let t=this.root.nextElementSibling;t instanceof HTMLUListElement&&(this.popupMenu=new Dt(t,this),this.root.setAttribute(c.ARIA_HASPOPUP,"true"),this.root.addEventListener(l.FOCUS,this.handleFocus),this.root.addEventListener(l.BLUR,this.handleBlur),this.root.addEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.addEventListener(l.MOUSELEAVE,this.handleMouseleave)),this.root.addEventListener(l.KEYDOWN,this.handleKeydown)}destroy(){this.root.removeAttribute(c.TAB_INDEX),this.root.removeAttribute(c.ARIA_HASPOPUP),this.root.removeEventListener(l.KEYDOWN,this.handleKeydown),this.root.removeEventListener(l.FOCUS,this.handleFocus),this.root.removeEventListener(l.BLUR,this.handleBlur),this.root.removeEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.removeEventListener(l.MOUSELEAVE,this.handleMouseleave)}};var Je=class extends _{constructor(t){if(super(t),this.menubarItems=[],this.firstChars=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1,t.childElementCount===0)throw new Error(we.ERROR_PREFIX+we.ERROR_MSG_NO_CHILDREN);this.init()}init(){var t;let i=this.root.querySelectorAll(`:scope > .${O.LIST_ITEM}`);this.root.setAttribute(c.ROLE,N.MENUBAR);for(let d of i)d.setAttribute(c.ROLE,N.NONE);let s=this.root.firstElementChild,o,n,r;for(;s;)n=s.firstElementChild,s&&n instanceof HTMLAnchorElement&&(o=new Ze(n,this),this.menubarItems.push(o),r=(t=n.textContent)===null||t===void 0?void 0:t.trim(),r&&this.firstChars.push(r.substring(0,1).toLowerCase())),s=s.nextElementSibling;let a=this.menubarItems.length;a>0&&(this.firstItem=this.menubarItems[0],this.lastItem=this.menubarItems[a-1],this.firstItem.root.tabIndex=0)}destroy(){for(let t of this.menubarItems)t.destroy()}setFocusToItem(t){var i;let s=!1;for(let o of this.menubarItems)o.root.tabIndex===0&&(s=o.root.getAttribute(c.ARIA_EXPANDED)==="true"),o.root.tabIndex=-1,(i=o.popupMenu)===null||i===void 0||i.close();t.root.focus(),t.root.tabIndex=0,s&&t.popupMenu&&t.popupMenu.open()}setFocusToFirstItem(){this.setFocusToItem(this.firstItem)}setFocusToLastItem(){this.setFocusToItem(this.lastItem)}setFocusToPreviousItem(t){let i,s;t===this.firstItem?s=this.lastItem:(i=this.menubarItems.indexOf(t),s=this.menubarItems[i-1]),this.setFocusToItem(s)}setFocusToNextItem(t){let i,s;t===this.lastItem?s=this.firstItem:(i=this.menubarItems.indexOf(t),s=this.menubarItems[i+1]),this.setFocusToItem(s)}setFocusByFirstCharacter(t,i){let s,o;i=i.toLowerCase(),s=this.menubarItems.indexOf(t)+1,s===this.menubarItems.length&&(s=0);let n=(r,a)=>r===i&&a>=s;o=this.firstChars.findIndex(n),o===-1&&(s=0,o=this.firstChars.findIndex(n)),o>-1&&this.setFocusToItem(this.menubarItems[o])}};var z;(function(e){e.ROOT="glue-header__drawer",e.DRAWER_IS_OPEN="glue-header__drawer--is-open",e.TOGGLE_BTN="glue-header__drawer-toggle-btn",e.IS_ANIMATING="glue-is-animating",e.GLUE_BUTTON="glue-button",e.NO_SCROLL="glue-no-scroll",e.BACKDROP="glue-header__drawer-backdrop"})(z||(z={}));var F;(function(e){e.MISSING_DRAWER_ELEMENT='No element with "glue-header__drawer" class was found. Drawer component needs a root element.',e.MISSING_BACKDROP_ELEMENT='No element with "glue-header__drawer-backdrop" class was found.',e.OPEN="glueHeaderDrawerOpen",e.CLOSE="glueHeaderDrawerClose",e.TOGGLE_BTN="toggleBtn"})(F||(F={}));var Qe=class extends _{constructor(t,i){var s;if(super(t),this.toggleEl=i,this.closed=!0,this.isAnimating=!1,this.ariaHiddenElements=[],this.focusableElements=[],this.startTime=0,this.initialTouchPos=null,this.lastTouchPos=null,this.rafPending=!1,this.handleGestureStart=n=>{this.isTouchEvent(n)&&n.touches.length>1||(this.isPointerEvent(n)&&n.target instanceof Element?n.target.setPointerCapture(n.pointerId):(document.addEventListener(l.MOUSEMOVE,this.handleGestureMove,!0),document.addEventListener(l.MOUSEUP,this.handleGestureEnd,!0)),this.initialTouchPos=this.getGesturePointFromEvent(n),this.startTime=new Date().getTime(),this.root.style.transition="initial")},this.handleGestureMove=n=>{if(n.preventDefault(),!this.initialTouchPos)return;let r=this.getGesturePointFromEvent(n);Math.abs(gt.difference(r,this.initialTouchPos).x)<10||(this.lastTouchPos=r,!this.rafPending&&(this.rafPending=!0,window.requestAnimationFrame(()=>{this.onAnimFrame()})))},this.handleGestureEnd=n=>{var r;n.preventDefault(),!(this.isTouchEvent(n)&&((r=n.touches)===null||r===void 0?void 0:r.length)>0)&&(this.rafPending=!1,this.isPointerEvent(n)&&n.target instanceof Element?n.target.releasePointerCapture(n.pointerId):(document.removeEventListener(l.MOUSEMOVE,this.handleGestureMove,!0),document.removeEventListener(l.MOUSEUP,this.handleGestureEnd,!0)),this.updateDrawerPosition(),this.startTime=0,this.initialTouchPos=null,this.lastTouchPos=null)},!this.root.classList.contains(z.ROOT))throw new Error(F.MISSING_DRAWER_ELEMENT);this.setAttributes();let o=(s=this.root.parentElement)===null||s===void 0?void 0:s.querySelector(`.${z.BACKDROP}`);if(!o)throw new Error(F.MISSING_BACKDROP_ELEMENT);this.backdrop=o,this.transitionEndHandler=()=>this.handleTransitionEndEvent(),this.handleKeydown=n=>{n.preventDefault(),n.code===v.ENTER&&this.close()},this.handleOpen=()=>{document.body.classList.add(z.NO_SCROLL),document.documentElement.classList.add(z.NO_SCROLL),this.backdrop.addEventListener(l.KEYDOWN,this.handleKeydown)},this.handleClose=()=>{document.body.classList.remove(z.NO_SCROLL),document.documentElement.classList.remove(z.NO_SCROLL),this.backdrop.removeEventListener(l.KEYDOWN,this.handleKeydown)},this.root.addEventListener(l.TRANSITIONEND,this.transitionEndHandler),document.body.addEventListener(F.OPEN,this.handleOpen),document.body.addEventListener(F.CLOSE,this.handleClose)}registerTouchEvents(){window.PointerEvent?(this.root.addEventListener(l.POINTERDOWN,this.handleGestureStart,!0),this.root.addEventListener(l.POINTERMOVE,this.handleGestureMove,!0),this.root.addEventListener(l.POINTERUP,this.handleGestureEnd,!0),this.root.addEventListener(l.POINTERCANCEL,this.handleGestureEnd,!0)):(this.root.addEventListener(l.TOUCHSTART,this.handleGestureStart,!0),this.root.addEventListener(l.TOUCHMOVE,this.handleGestureMove,!0),this.root.addEventListener(l.TOUCHEND,this.handleGestureEnd,!0),this.root.addEventListener(l.TOUCHCANCEL,this.handleGestureEnd,!0),this.root.addEventListener(l.MOUSEDOWN,this.handleGestureStart,!0))}deregisterTouchEvents(){window.PointerEvent?(this.root.removeEventListener(l.POINTERDOWN,this.handleGestureStart,!0),this.root.removeEventListener(l.POINTERMOVE,this.handleGestureMove,!0),this.root.removeEventListener(l.POINTERUP,this.handleGestureEnd,!0),this.root.removeEventListener(l.POINTERCANCEL,this.handleGestureEnd,!0)):(this.root.removeEventListener(l.TOUCHSTART,this.handleGestureStart,!0),this.root.removeEventListener(l.TOUCHMOVE,this.handleGestureMove,!0),this.root.removeEventListener(l.TOUCHEND,this.handleGestureEnd,!0),this.root.removeEventListener(l.TOUCHCANCEL,this.handleGestureEnd,!0),this.root.removeEventListener(l.MOUSEDOWN,this.handleGestureStart,!0))}destroy(){this.deregisterTouchEvents(),this.root.removeEventListener(l.TRANSITIONEND,this.transitionEndHandler),document.body.removeEventListener(F.OPEN,this.handleOpen),document.body.removeEventListener(F.CLOSE,this.handleClose)}isTouchEvent(t){return window.TouchEvent&&t instanceof TouchEvent}isPointerEvent(t){return window.PointerEvent&&t instanceof PointerEvent}onAnimFrame(){if(!this.rafPending||!this.initialTouchPos||!this.lastTouchPos)return;let t=gt.difference(this.lastTouchPos,this.initialTouchPos).x;if(t>0)this.root.style.transform="";else{let i=`translate3d(${t}px, 0, 0)`;this.root.style.transform=i}this.rafPending=!1}getGesturePointFromEvent(t){let i=new gt(0,0);return this.isTouchEvent(t)?t.targetTouches&&(i.x=t.targetTouches[0].clientX,i.y=t.targetTouches[0].clientY):(i.x=t.clientX,i.y=t.clientY),i}updateDrawerPosition(){if(this.root.style.transition="",this.root.style.transform="",!this.lastTouchPos||!this.initialTouchPos)return;let t=gt.difference(this.lastTouchPos,this.initialTouchPos).x,i=Math.abs(t)>=this.root.clientWidth*.5,n=new Date().getTime()-this.startTime<300&&Math.abs(t)>10;(i||n)&&this.close()}open(){this.closed&&!this.isAnimating&&(this.isAnimating=!0,this.emit(F.OPEN,{},!0),this.root.classList.add(z.DRAWER_IS_OPEN),this.root.classList.add(z.IS_ANIMATING),this.setDefaultAttrs(),this.toggleEl.setAttribute(c.ARIA_EXPANDED,"true"),this.backdrop.setAttribute(c.ROLE,"button"),this.backdrop.tabIndex=R.TABBABLE,this.removeAriaHidden(),this.ariaHideElements(),this.root.focus(),this.removeKeyboardFocus(),this.registerTouchEvents())}removeKeyboardFocus(){let t=Wt(window.document.body);this.focusableElements=[];for(let i of t)!this.root.contains(i)&&!this.backdrop.contains(i)&&i.tabIndex!==-1&&(this.focusableElements.push(i),i.tabIndex=-1)}addKeyboardFocus(){for(let t of this.focusableElements)t.removeAttribute("tabindex")}close(){!this.closed&&!this.isAnimating&&(this.isAnimating=!0,this.emit(F.CLOSE,{},!0),this.root.classList.add(z.IS_ANIMATING),this.removeDefaultAttrs(),this.toggleEl.setAttribute(c.ARIA_EXPANDED,"false"),this.toggleEl.focus(),this.setAriaHidden(),this.ariaUnhideElements(),this.addKeyboardFocus(),this.backdrop&&(this.backdrop.removeAttribute(c.TAB_INDEX),this.backdrop.removeAttribute(c.ROLE)),this.deregisterTouchEvents())}setAttributes(){if(!this.root.id){let t=Math.round(Math.random()*99999999).toString(16);this.root.id=`glue-drawer-${t}`}this.toggleEl.setAttribute(c.ARIA_CONTROLS,this.root.id),this.toggleEl.setAttribute(c.ARIA_EXPANDED,"false"),this.toggleEl.setAttribute(c.ARIA_HASPOPUP,"true")}isOpen(){return this.root.classList.contains(z.DRAWER_IS_OPEN)}containsElement(t){return t.target instanceof Node&&this.root.contains(t.target)}isCtaElement(t){return t.target instanceof Element&&t.target.classList.contains(z.GLUE_BUTTON)}handleTransitionEndEvent(){this.isAnimating&&(this.root.classList.remove(z.IS_ANIMATING),this.closed?this.closed=!1:(this.root.classList.remove(z.DRAWER_IS_OPEN),this.closed=!0),this.isAnimating=!1)}removeAriaHidden(){this.root.removeAttribute(c.ARIA_HIDDEN)}setAriaHidden(){this.root.setAttribute(c.ARIA_HIDDEN,"true")}setDefaultAttrs(){this.root.setAttribute(c.ARIA_LABEL,"Navigation drawer"),this.root.tabIndex=R.TABBABLE}removeDefaultAttrs(){this.root.removeAttribute(c.ARIA_LABEL),this.root.removeAttribute(c.TAB_INDEX)}ariaHideElements(){let t=this.root;for(;t&&t.parentNode;){for(let i of Array.from(t.parentNode.children))i!==t&&i!==this.backdrop&&i.getAttribute(c.ARIA_HIDDEN)!=="true"&&(this.ariaHiddenElements.push(i),i.setAttribute(c.ARIA_HIDDEN,"true"));t=t.parentNode}}ariaUnhideElements(){this.ariaHiddenElements.forEach(t=>{t.removeAttribute(c.ARIA_HIDDEN)}),this.ariaHiddenElements=[]}};var ti;(function(e){e.COMPONENT="glue-header__site-switcher",e.MENU="glue-header__site-switcher-menu",e.MENU_ITEM="glue-header__item",e.MENU_LINK="glue-header__link"})(ti||(ti={}));var Le;(function(e){e.NO_ARIA_CONTROL="aria-control value is not set on the site switcher element.",e.NO_MENU="Header Site Switcher could not find a menu element."})(Le||(Le={}));var ei=class extends _{constructor(t){if(super(t),this.parentMenu=null,this.hasFocus=!1,this.hasHover=!1,this.isMenubarItem=!1,this.handleKeydown=s=>{let o=!1;switch(s.key){case v.SPACE:case v.ENTER:case v.DOWN:this.popupMenu.open(),this.popupMenu.setFocusToFirstItem(),o=!0;break;case v.UP:this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),o=!0;break;default:break}o&&(s.stopPropagation(),s.preventDefault())},this.handleClick=()=>{this.root.getAttribute(c.ARIA_EXPANDED)==="true"?this.popupMenu.close(!0):(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem())},this.handleFocus=()=>{this.popupMenu.hasFocus=!0},this.handleBlur=()=>{this.popupMenu.hasFocus=!1},this.handleMouseenter=s=>{this.hasHover=!0,this.popupMenu.open()},this.handleMouseLeave=()=>{this.hasHover=!1,setTimeout(()=>{this.popupMenu.close(!1)},300)},!this.root.getAttribute(c.ARIA_CONTROLS))throw new Error(Le.NO_ARIA_CONTROL);let i=this.root.closest(`.${O.BAR_DESKTOP}`).querySelector("#"+this.root.getAttribute(c.ARIA_CONTROLS));if(!i)throw new Error(Le.NO_MENU);this.popupMenu=new Dt(i,this),this.init()}init(){this.root.setAttribute(c.ARIA_HASPOPUP,"true"),this.root.addEventListener(l.KEYDOWN,this.handleKeydown),this.root.addEventListener(l.CLICK,this.handleClick),this.root.addEventListener(l.FOCUS,this.handleFocus),this.root.addEventListener(l.BLUR,this.handleBlur),this.root.addEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.addEventListener(l.MOUSELEAVE,this.handleMouseLeave),this.root.setAttribute(c.ROLE,N.BUTTON),this.root.tabIndex=0;let t=this.root.closest(`.${z.ROOT}`);t?.addEventListener(F.OPEN,()=>{for(let i of this.popupMenu.menuItemCollection)i.destroy()}),t?.addEventListener(F.CLOSE,()=>{for(let i of this.popupMenu.menuItemCollection)i.init()})}destroy(){this.root.removeAttribute(c.ARIA_HASPOPUP),this.root.removeAttribute(c.ROLE),this.root.removeAttribute(c.TAB_INDEX),this.root.removeEventListener(l.KEYDOWN,this.handleKeydown),this.root.removeEventListener(l.CLICK,this.handleClick),this.root.removeEventListener(l.FOCUS,this.handleFocus),this.root.removeEventListener(l.BLUR,this.handleBlur),this.root.removeEventListener(l.MOUSEENTER,this.handleMouseenter),this.root.removeEventListener(l.MOUSELEAVE,this.handleMouseLeave)}setExpanded(t){this.root.setAttribute(c.ARIA_EXPANDED,t.toString())}};var G;(function(e){e.ROOT="glue-header__stepped-nav",e.CONTROLS_CONTAINER="glue-header__stepped-nav-controls-container",e.CONTROLS="glue-header__stepped-nav-controls",e.CONTROLS_TITLE="glue-header__stepped-nav-controls-title",e.MENU_CONTAINER="glue-header__stepped-nav-menus",e.SUBNAV_ICON="glue-header__stepped-nav-subnav-icon",e.PARENT_POSITION="glue-header__stepped-nav-parent-position",e.PAGE="glue-stepped-page",e.PAGES="glue-stepped-pages"})(G||(G={}));var K;(function(e){e.PARENT_INDEX="data-glue-stepped-nav-parent-index",e.PARENT_INDEX_CAMEL="glueSteppedNavParentIndex",e.STEPPED_PAGE="data-glue-stepped-page",e.STEPPED_PAGE_CAMEL="glueSteppedPage",e.STEPPEDNAV_LABEL="glueSteppednavLabel"})(K||(K={}));var st;(function(e){e.CURRENT_PAGE="currentPage",e.TOTAL_PAGES="totalPages",e.NEXT_EVENT="nextPage",e.CONTROLS_MODEL_ID="stepped-nav-controls",e.MISSING_CONTROLS="Some of the Stepped Nav controls elements are missing.",e.MISSING_PAGES_CONT="The container element for Stepped Nav Pages is missing.",e.MISSING_LINK_BAR="Stepped Nav can't find the Link Bar Header element.",e.STEPPED_PAGE="glue-stepped-page",e.STEPPEDNAV_LABEL="$glue_steppednav_label$, Navigate back to parent menu, $glue_steppednav_label$ opened",e.STEPPED_NAV_LABEL_VAR_NAME="$glue_steppednav_label$"})(st||(st={}));var Xt;(function(e){e.SHOW="glue-is-shown",e.ACTIVE="glue-is-active"})(Xt||(Xt={}));var Oe=class extends _{constructor(t,i){super(t),this.observer=i,this.pageEls=Array.from(this.root.children),this.elementIds=[],this.selectableElements=[],this.handleUpdate=()=>{this.update()},this.initialize()}initialize(){this.observer.listen(st.CURRENT_PAGE,this.handleUpdate),this.model=this.observer.data,this.initPageElementIDs(),this.update()}initPageElementIDs(){let t;for(let[i,s]of this.pageEls.entries())t=`${st.STEPPED_PAGE}-${Math.round(Math.random()*99999999)}`,s.id=t,s.classList.add(`${st.STEPPED_PAGE}-${i+1}`),this.elementIds[i+1]||(this.elementIds[i+1]=t)}update(){let t=s=>{let o=s.hasAttribute(K.STEPPED_PAGE)?Number(s.dataset[K.STEPPED_PAGE_CAMEL]):Number(s.dataset[K.PARENT_INDEX_CAMEL]);if(isNaN(o))return;let n=this.pageEls[o-1];n?.classList.add(G.PARENT_POSITION),t(n)},i=this.pageEls[this.model.currentPage-1];for(let s of this.pageEls)s===i?(s.classList.add(Xt.SHOW),s.removeAttribute(c.ARIA_HIDDEN)):(s.classList.remove(Xt.SHOW,G.PARENT_POSITION),s.setAttribute(c.ARIA_HIDDEN,"true")),this.updatePageElements(s);i.classList.contains(G.CONTROLS)?this.selectableElements=i.hasAttribute(K.PARENT_INDEX)?[i]:[]:this.selectableElements=Array.from(i.querySelectorAll(`.${O.LINK_ITEM}`)),t(i)}updatePageElements(t){let i=Array.from(t.children);for(let s of i)if(s.hasAttribute(K.STEPPED_PAGE)&&(s.setAttribute(c.ARIA_HASPOPUP,"true"),s.setAttribute(c.ARIA_SELECTED,String(s.classList.contains(O.ACTIVE_MENU))),s instanceof HTMLElement)){let o=Number(s.dataset[K.STEPPED_PAGE_CAMEL]);s.setAttribute(c.ARIA_CONTROLS,this.elementIds[o])}}getCurrentPageParentIndex(){let t=this.pageEls[this.model.currentPage-1],i=Number(t.dataset[K.PARENT_INDEX_CAMEL]);return isNaN(i)?1:i}destroy(){for(let t of this.pageEls)t.classList.remove(Xt.SHOW,G.PARENT_POSITION),t.id="";this.observer.unlisten(st.CURRENT_PAGE,this.handleUpdate)}};var Se=class extends _{constructor(t){super(t),this.activeInitPageIndex=1,this.modelDefaults={currentPage:1,totalPages:0},this.handleKeyPress=i=>{this.keyPress(i)},this.handleClick=i=>{i.target instanceof Element&&this.selectPage(i.target)},this.updateHandler=()=>{this.root.focus()},this.observer=new It(Object.assign({},this.modelDefaults)),this.model=this.observer.data,this.initMenuPages(),this.initControls(),this.buildPagesFromNav(),this.model.currentPage=this.activeInitPageIndex,this.root.setAttribute(c.ROLE,N.NAVIGATION),this.root.tabIndex=Number(R.TABBABLE),this.root.addEventListener(l.CLICK,this.handleClick),this.root.addEventListener(l.KEYDOWN,this.handleKeyPress),this.observer.listen(st.CURRENT_PAGE,this.updateHandler)}static getSteppedNavElement(t){return t.querySelector(`.${G.ROOT}`)}initMenuPages(){if(this.pagesContainer=this.root.querySelector(`.${G.MENU_CONTAINER}`),!this.pagesContainer)throw new Error(st.MISSING_PAGES_CONT);this.pagesContainer.classList.add(G.PAGES)}initControls(){if(this.steppedControlsContainer=this.root.querySelector(`.${G.CONTROLS_CONTAINER}`),this.steppedControls=this.root.querySelector(`.${G.CONTROLS}`),this.steppedControlsTitle=this.root.querySelector(`.${G.CONTROLS_TITLE}`),!this.steppedControlsContainer||!this.steppedControls||!this.steppedControlsTitle)throw new Error(st.MISSING_CONTROLS);this.steppedControls.remove(),this.subnavIcon=this.steppedControls.querySelector(`.${G.SUBNAV_ICON}`),this.subnavIcon&&this.subnavIcon.remove(),this.steppedControls.classList.add(G.PAGE)}buildPagesFromNav(){var t,i;let s=(t=this.root.parentElement)===null||t===void 0?void 0:t.querySelector(`.${O.LINK_BAR}`);if(!s)throw new Error(st.MISSING_LINK_BAR);let o=(i=s.firstElementChild)===null||i===void 0?void 0:i.cloneNode(!0);o instanceof HTMLElement&&this.harvestMenu(o),this.menuPages=new Oe(this.pagesContainer,this.observer),this.controlsPages=new Oe(this.steppedControlsContainer,this.observer),this.model.totalPages=this.pagesContainer.children.length}harvestMenu(t,i,s=""){t.classList.add(G.PAGE),this.pagesContainer.appendChild(t),this.steppedControlsTitle.textContent=s;let o=this.steppedControls.cloneNode(!0);o.classList.add(O.LINK_ITEM),t.classList.contains(G.PARENT_POSITION)&&o.classList.add(G.PARENT_POSITION),i&&(o.dataset[K.PARENT_INDEX_CAMEL]=String(i),t.dataset[K.PARENT_INDEX_CAMEL]=String(i)),o.tabIndex=Number(R.NOT_TABBABLE),this.steppedControlsContainer.appendChild(o);let n=this.pagesContainer.children.length;for(let r of Array.from(t.children))r instanceof HTMLElement&&this.harvestListItem(n,r),r.classList.contains(O.ACTIVE_MENU)&&(t.classList.add(G.PARENT_POSITION),o.classList.add(G.PARENT_POSITION));if(s){let a=(o.dataset[K.STEPPEDNAV_LABEL]||st.STEPPEDNAV_LABEL).replaceAll(st.STEPPED_NAV_LABEL_VAR_NAME,s);o.setAttribute(c.ARIA_LABEL,a),o.setAttribute(c.ROLE,N.BUTTON)}return n}harvestListItem(t,i){var s;let o=this.getChildOfNodeType(i,"UL"),n=this.getChildOfNodeType(i,"A");if(!o&&i.classList.contains(O.ACTIVE_LINK)&&(this.activeInitPageIndex=t),!o||!n)return;n.tabIndex=Number(R.NOT_TABBABLE),o.remove();let r=this.harvestMenu(o,t,(s=n.textContent)===null||s===void 0?void 0:s.trim());i.dataset[K.STEPPED_PAGE_CAMEL]=String(r);let a=this.getChildOfNodeType(n,"svg");a?.remove(),this.subnavIcon&&n.appendChild(this.subnavIcon.cloneNode(!0))}keyPress(t){let i=t.target,s=!!this.root.closest("[dir=rtl]"),o=this.controlsPages.selectableElements.concat(this.menuPages.selectableElements),n=o.indexOf(document.activeElement);switch(t.key){case v.ENTER:case v.SPACE:this.selectPage(i);break;case v.LEFT:s?this.selectSubPage(i):this.selectParentPage();break;case v.RIGHT:s?this.selectParentPage():this.selectSubPage(i);break;case v.UP:n>0?o[n-1].focus():o[o.length-1].focus();break;case v.DOWN:n>=o.length-1?o[0].focus():o[n+1].focus();break;case v.HOME:o[0].focus();break;case v.END:o[o.length-1].focus();break;default:}}selectPage(t){this.steppedControlsContainer.contains(t)?this.selectParentPage():this.selectSubPage(t)}selectSubPage(t){let i=t.closest(`[${K.STEPPED_PAGE}]`);if(i){let s=Number(i?.dataset[K.STEPPED_PAGE_CAMEL]);this.model.currentPage=s}}selectParentPage(){let t=this.controlsPages.getCurrentPageParentIndex();this.model.currentPage=t}getChildOfNodeType(t,i){return Array.from(t.children).find(s=>s.nodeName===i)}destroy(){this.menuPages&&this.menuPages.destroy(),this.controlsPages&&this.controlsPages.destroy(),this.observer.unlisten(st.CURRENT_PAGE,this.updateHandler),this.root.removeEventListener(l.CLICK,this.handleClick),this.root.removeEventListener(l.KEYDOWN,this.handleKeyPress);for(let t of this.pagesContainer.childNodes)this.pagesContainer.removeChild(t);for(let t of this.steppedControlsContainer.childNodes)this.steppedControlsContainer.removeChild(t);this.steppedControls.removeEventListener(l.CLICK,this.handleClick),this.steppedControls.removeEventListener(l.KEYDOWN,this.handleKeyPress)}};var Mt=class extends _{constructor(t,i){if(super(t),this.isAnimating=!1,this.scrolling=!1,this.lastPositionY=0,this.atTopOfPage=!0,this.allowTransitionEndEvent=!1,this.blockFalseScroll=!0,!this.root.classList.contains(O.ROOT))throw new Error(nt.MISSING_ROOT_ELEMENT);this.options=Object.assign({},Mt.defaultOptions,i,this.getOptions()),this.initialize(),this.initializeNavigationSubcomponents()}static get defaultOptions(){return{drawer:!0,hideOnScroll:!0,steppedNav:!1}}initialize(){if(this.headerBar=this.getHeaderBarElement(),this.headerBarMobile=this.getHeaderBarElement(!0),this.activeBarElement=this.getActiveBarElement(),this.options.drawer){let t=this.root.querySelector(`.${O.DRAWER_EL}`),i=this.headerBar.querySelector(`.${O.LINK_BAR}`);if(t===null)throw new Error(nt.MISSING_DRAWER_ELEMENT);if(i===null)throw new Error(nt.MISSING_LINK_BAR_ELEMENT);if(this.toggleBtnEl=this.root.querySelector(`.${O.TOGGLE_BTN}`),this.toggleBtnEl===null)throw new Error(nt.MISSING_TOGGLE_BTN_ELEMENT);this.drawer=new Qe(t,this.toggleBtnEl)}else this.root.classList.add(O.NO_DRAWER);this.setPositionStyle(),this.setActiveBarPosition(this.headerBar.style.position),this.root.setAttribute(c.ARIA_EXPANDED,"false"),this.handleClick=t=>{this.clickHandler(t)},this.handleKeydown=t=>{this.keydownHandler(t)},this.handleScroll=()=>{this.scrollThrottlerHandler()},this.handleDrawOpen=()=>{this.handleDrawerOpenEvent()},this.handleDrawClose=()=>{this.handleDrawerCloseEvent()},this.handleTransitionEnd=()=>{this.handleTransitionEndEvent()},this.root.addEventListener(l.CLICK,this.handleClick),this.root.addEventListener(l.KEYDOWN,this.handleKeydown),this.options.drawer&&this.root.addEventListener(F.OPEN,this.handleDrawOpen),this.options.drawer&&this.root.addEventListener(F.CLOSE,this.handleDrawClose),window.addEventListener(l.SCROLL,this.handleScroll),this.headerBar.addEventListener(l.TRANSITIONEND,this.handleTransitionEnd),this.headerBarMobile.addEventListener(l.TRANSITIONEND,this.handleTransitionEnd),this.responsiveMonitorInit(),this.injectVersion()}injectVersion(){document.documentElement.dataset.glue="glue@26.0.0"}initializeNavigationSubcomponents(){let t=this.root.querySelector(`.${ti.COMPONENT}`);t&&(this.siteSwitcher=new ei(t));let i=document.querySelector(`.${O.DEEP_NAV}`);if(i&&(this.deepNav=new Je(i)),this.options.steppedNav){let s=Se.getSteppedNavElement(this.root);if(s){this.root.classList.add(O.STEPPED_NAV_ENABLE);try{this.steppedNav=new Se(s)}catch(o){throw this.root.classList.remove(O.STEPPED_NAV_ENABLE),o}}}}destroy(){var t,i,s;this.root.removeEventListener(l.CLICK,this.handleClick),this.root.removeEventListener(l.KEYDOWN,this.handleKeydown),this.headerBar.removeEventListener(l.TRANSITIONEND,this.handleTransitionEnd),this.headerBarMobile.removeEventListener(l.TRANSITIONEND,this.handleTransitionEnd),window.removeEventListener(l.SCROLL,this.handleScroll),window.cancelAnimationFrame(this.animationsFrameId),this.rm.unlisten(o=>{o==="sm"&&this.setActiveBarPosition()}),this.rm.destroy(),this.options.drawer&&(this.root.removeEventListener(F.OPEN,this.handleDrawOpen),this.root.removeEventListener(F.CLOSE,this.handleDrawClose),(t=this.drawer)===null||t===void 0||t.destroy()),(i=this.siteSwitcher)===null||i===void 0||i.destroy(),(s=this.deepNav)===null||s===void 0||s.destroy(),this.steppedNav&&this.steppedNav.destroy()}getOptions(){let t={};for(let i of Object.keys(Mt.defaultOptions)){let s=`glueHeader${i.toUpperCase().slice(0,1)}${i.slice(1)}`;this.root.dataset[s]&&(t[i]=this.root.dataset[s]==="true")}return t}clickHandler(t){var i,s,o,n,r,a;this.options.drawer&&(!((i=this.drawer)===null||i===void 0)&&i.isOpen()?!((s=this.drawer)===null||s===void 0)&&s.containsElement(t)?!((n=this.drawer)===null||n===void 0)&&n.isCtaElement(t)&&((r=this.drawer)===null||r===void 0||r.close()):(o=this.drawer)===null||o===void 0||o.close():this.toggleBtnEl.contains(t.target)&&((a=this.drawer)===null||a===void 0||a.open()))}keydownHandler(t){var i,s;let o=t.key===v.ESC;this.options.drawer&&!((i=this.drawer)===null||i===void 0)&&i.isOpen()&&o&&((s=this.drawer)===null||s===void 0||s.close())}scrollThrottlerHandler(){this.scrolling||(this.animationsFrameId=window.requestAnimationFrame(()=>{this.scrollHandler(),this.scrolling=!1}),this.scrolling=!0)}scrollHandler(){let t=this.activeBarElement.classList.contains(O.WHOLLY_SCROLLED),i=this.getScrollDirection(),s=document.body.clientHeight-window.scrollY-window.innerHeight<=he.SCROLL_THRESHOLD,o=i===nt.SCROLL_DOWN,n=i===nt.SCROLL_UP;!this.atTopOfPage&&o&&!t&&!this.isAnimating?window.scrollY>this.activeBarElement.clientHeight&&this.hide():!this.atTopOfPage&&n&&t&&!this.isAnimating&&!s?this.lastPositionY-window.scrollY!==0&&this.show():this.atTopOfPage&&!this.isAnimating&&t&&this.show(),this.atTopOfPage=window.scrollY<=0,this.lastPositionY=window.scrollY,this.rewindBoxShadow(),this.blockFalseScroll=!1,this.atTopOfPage&&this.setActiveBarPosition(),this.isAnimating&&window.pageYOffset<=he.MAX_PAGE_OFFSET&&window.requestAnimationFrame(()=>{this.scrollThrottlerHandler()})}resetDesktopHeaderPosition(){let{display:t}=window.getComputedStyle(this.headerBarMobile);t==="block"?(this.headerBar.style.top="0",this.headerBar.style.position="fixed"):this.headerBar.style.position="static"}setPositionStyle(){window.scrollY>64?this.headerBar.style.position="fixed":this.headerBar.style.position="static"}setActiveBarPosition(t="static"){this.options.hideOnScroll||(t="fixed");let i=this.activeBarElement,{display:s}=window.getComputedStyle(this.headerBarMobile);s==="block"&&this.resetDesktopHeaderPosition(),t==="static"?i.style.top=`-${i.clientHeight}px`:setTimeout(()=>{i.style.top=0 .toString()},he.POSITION_CHANGE_BUFFER),i.style.position=t}getHeaderBarElement(t=!1){let i=t?O.BAR_MOBILE:O.BAR_DESKTOP,s=Array.from(this.root.querySelectorAll(`.${O.BAR}`)).filter(o=>o.classList.contains(i));if(!s)throw new Error(nt.MISSING_HEADER_BAR_ELEMENT);return s[0]}handleDrawerCloseEvent(){this.root.classList.remove(O.DRAWER_IS_SHOWN),this.root.setAttribute(c.ARIA_EXPANDED,"false")}handleDrawerOpenEvent(){this.root.classList.add(O.DRAWER_IS_SHOWN),this.root.setAttribute(c.ARIA_EXPANDED,"true")}handleTransitionEndEvent(){this.allowTransitionEndEvent&&(this.isAnimating=!1,this.allowTransitionEndEvent=!1,this.activeBarElement.classList.remove(O.IS_ANIMATING))}responsiveMonitorInit(){this.rm=new et({breakpoint:["md","sm"],enter:()=>{var t,i;this.activeBarElement=this.getActiveBarElement(),this.setActiveBarPosition(),(t=this.drawer)===null||t===void 0||t.setAriaHidden(),(i=this.siteSwitcher)===null||i===void 0||i.destroy()},leave:()=>{var t,i,s,o;this.options.drawer&&(!((t=this.drawer)===null||t===void 0)&&t.isOpen())&&((i=this.drawer)===null||i===void 0||i.close()),(s=this.drawer)===null||s===void 0||s.removeAriaHidden(),this.activeBarElement=this.getActiveBarElement(),this.setActiveBarPosition(),(o=this.siteSwitcher)===null||o===void 0||o.init()}}),this.rm.listen(t=>{t==="sm"&&this.setActiveBarPosition()})}getScrollDirection(){return this.lastPositionY>=window.scrollY?nt.SCROLL_UP:nt.SCROLL_DOWN}hide(){this.options.hideOnScroll&&(this.isAnimating=!0,this.allowTransitionEndEvent=!0,this.activeBarElement.classList.add(O.WHOLLY_SCROLLED,O.IS_ANIMATING),this.setActiveBarPosition("fixed"),this.emit(nt.HIDE_EVENT,{}))}show(){this.options.hideOnScroll&&(this.isAnimating=!0,this.allowTransitionEndEvent=!0,this.activeBarElement.classList.add(O.IS_ANIMATING),this.activeBarElement.classList.remove(O.WHOLLY_SCROLLED),this.emit(nt.SHOW_EVENT,{}))}rewindBoxShadow(){this.atTopOfPage?this.activeBarElement.classList.remove(O.REWIND_SHADOW):!this.atTopOfPage&&!this.isAnimating&&!this.blockFalseScroll&&window.scrollY>this.activeBarElement.clientHeight&&this.activeBarElement.classList.add(O.REWIND_SHADOW)}getActiveBarElement(){let{display:t}=window.getComputedStyle(this.headerBarMobile);return t==="block"?this.headerBarMobile:this.headerBar}};var ii;(function(e){e.STARTSCROLL="glue.smoothScroll.start",e.ENDSCROLL="glue.smoothScroll.end"})(ii||(ii={}));var bi;(function(e){e.MISSING_PAGE_ELEMENT="Smooth Scrolling requires a valid page element.",e.DIRECTION_MALFORMED='Scroll direction value only accepts "x", "y" or "both"'})(bi||(bi={}));var Ci;(function(e){e.BUTTON="glue-jumplinks__button",e.BUTTON_LEFT="glue-jumplinks__button--prev",e.BUTTON_RIGHT="glue-jumplinks__button--next",e.BUTTON_ACTIVE="glue-jumplinks__button--active",e.LIST="glue-jumplinks__list",e.ITEMS="glue-jumplinks__list-item",e.LINK="glue-jumplinks__link",e.LINK_ACTIVE="glue-jumplinks__link--active",e.VIEWPORT="glue-jumplinks__viewport",e.REWIND="glue-jumplinks--rewind"})(Ci||(Ci={}));var Ni;(function(e){e.LI_WIDTH="liWidth",e.VIEWPORT="viewport",e.PAGE_X="pageX",e.SLIDES="slides",e.ACTIVE_LINK="activeLink",e.RTL="rtl",e.TRANSFORM="transform",e.BLOCK="block",e.FIXED="fixed",e.JUMPLINK_DEFAULT_LABEL="Jump to section within page",e.NOT_FIXED="absolute",e.NO_ANIMATION="none"})(Ni||(Ni={}));var Pi;(function(e){e[e.DEFAULT_OFFSET=144]="DEFAULT_OFFSET",e[e.JUMPLINKS_MARGIN=16]="JUMPLINKS_MARGIN",e[e.JUMPLINKS_HEIGHT=48]="JUMPLINKS_HEIGHT",e[e.SCROLL_THRESHOLD=130]="SCROLL_THRESHOLD"})(Pi||(Pi={}));var Ri;(function(e){e.JUMPLINK_LABEL="glueJumplinkLabel"})(Ri||(Ri={}));var xi;(function(e){e.ROOT="glue-modal",e.CLOSE_BTN="glue-modal__close-btn",e.CLOSING="glue-modal-closing",e.OPEN="glue-modal-open",e.NO_SCROLL="glue-no-scroll"})(xi||(xi={}));var Di;(function(e){e.OPENED_EVENT="GlueModal:opened",e.CLOSED_EVENT="GlueModal:closed"})(Di||(Di={}));var Mi;(function(e){e.MISSING_CLOSE_BUTTON="The close button is missing from the modal.",e.MODAL_NOT_OPEN="The modal is not open."})(Mi||(Mi={}));var Bt=class extends _{constructor(t,i={},s,o){if(super(t),this.copyEls=document.querySelectorAll(`.${Z.COPY}`),this.options=Object.assign({},Bt.defaults,i,this.getAttributeOptions()),!["left","bottom","left","right"].includes(this.options.placement))throw new Error(qt.INCORRECT_PLACEMENT);this.clickOutsideDialogHandler=n=>{this.handleClickOutsideDialog(n)},this.initInteractiveElements(s,o)}initInteractiveElements(t,i){if(t?this.buttonEl=t:this.buttonEl=this.root.querySelector(`.${Z.TRIGGER}`),!this.buttonEl)throw new Error(qt.MISSING_TRIGGER);if(i)this.dialogEl=i;else if(this.dialogEl=this.root.querySelector(`.${Z.DIALOG}`),!this.dialogEl)throw new Error(qt.MISSING_DIALOG);this.closeEl=this.dialogEl.querySelector(`.${Z.CLOSE_BTN}`),this.buttonClickHandler=s=>{this.handleButtonClick(s)},this.keyDownHandler=s=>{this.handleKeyDown(s)},this.buttonEl.addEventListener(l.CLICK,this.buttonClickHandler),this.buttonEl.addEventListener(l.KEYDOWN,this.keyDownHandler),this.dialogEl.addEventListener(l.KEYDOWN,this.keyDownHandler),this.dialogEl.addEventListener(l.CLICK,this.buttonClickHandler),this.setDefaultElAttr()}destroy(){this.close(),this.buttonEl.removeEventListener(l.CLICK,this.buttonClickHandler),document.removeEventListener(l.CLICK,this.clickOutsideDialogHandler),this.dialogEl.removeEventListener(l.KEYDOWN,this.keyDownHandler),this.buttonEl.removeEventListener(l.KEYDOWN,this.keyDownHandler),this.dialogEl.removeEventListener(l.CLICK,this.buttonClickHandler),this.mouseLeaveHandler&&(this.buttonEl.removeEventListener(l.MOUSELEAVE,this.mouseLeaveHandler),this.dialogEl.removeEventListener(l.MOUSELEAVE,this.mouseLeaveHandler)),this.blurHandler&&window.removeEventListener(l.BLUR,this.blurHandler)}checkEventFromChild(t,i){return i.target instanceof Node&&t.contains(i.target)}getAttributeOptions(){let{PREFIX:t}=Z,{PLACEMENT:i,FOCUS:s}=qt,o={},n=this.root.getAttribute(`${t}-${i}`),r=this.root.getAttribute(`${t}-${s}`);return n&&(o[i]=n),r&&(o[s]=n),o}setDefaultElAttr(){this.dialogEl.setAttribute(c.ROLE,N.DIALOG),this.dialogEl.tabIndex=R.NOT_TABBABLE,this.dialogEl.setAttribute(c.ARIA_HIDDEN,"true"),this.buttonEl.setAttribute(c.ROLE,N.BUTTON),this.buttonEl.tabIndex=R.TABBABLE,this.buttonEl.setAttribute(c.ARIA_EXPANDED,"false"),this.buttonEl.setAttribute(c.ARIA_CONTROLS,this.dialogEl.id),(!this.dialogEl.id||this.dialogEl.id.length===0)&&(this.dialogEl.id=`glue-popover-${Math.round(Math.random()*99999999)}`),this.closeEl&&(this.closeEl.setAttribute(c.ROLE,N.BUTTON),this.closeEl.tabIndex=R.TABBABLE)}setElementFocus(){var t;this.options.takeFocus&&((t=this.buttonEl)===null||t===void 0||t.focus())}open(){this.isOpen()||(this.dialogEl.setAttribute(c.ARIA_HIDDEN,"false"),this.buttonEl.setAttribute(c.ARIA_EXPANDED,"true"),this.root.classList.add(Z.IS_SHOWN),this.dialogEl.classList.add(`${Z.DIALOG}--${this.options.placement}`),document.addEventListener(l.CLICK,this.clickOutsideDialogHandler),this.setElementFocus(),this.emit(zt.OPEN_EVENT,{},!0))}close(){this.isOpen()&&(this.dialogEl.setAttribute(c.ARIA_HIDDEN,"true"),this.buttonEl.setAttribute(c.ARIA_EXPANDED,"false"),this.root.classList.remove(Z.IS_SHOWN),this.closeEl&&this.closeEl.classList.remove(Z.IS_SHOWN),this.setElementFocus(),this.emit(zt.CLOSE_EVENT,{},!0),this.copyEls.length>0&&this.copyEls.forEach(t=>{let i=document.createEvent("CustomEvent");i.initEvent(zt.CLOSE_EVENT,!1,!1),t.dispatchEvent(i)}),document.removeEventListener(l.CLICK,this.clickOutsideDialogHandler))}isOpen(){return this.root.classList.contains(Z.IS_SHOWN)}handleButtonClick(t){this.isOpen()?this.checkEventFromChild(this.buttonEl,t)?this.close():this.closeEl&&this.checkEventFromChild(this.closeEl,t)&&(!t.key||t.key===v.ENTER||t.key===v.SPACE)&&this.close():this.open()}handleKeyDown(t){var i,s;t.stopPropagation(),t.key===v.ESC?this.close():this.closeEl&&this.checkEventFromChild(this.closeEl,t)?(t.preventDefault(),this.close()):this.isOpen()&&this.checkEventFromChild(this.buttonEl,t)&&t.shiftKey&&t.key===v.TAB?(t.preventDefault(),this.close()):!this.isOpen()&&this.checkEventFromChild(this.buttonEl,t)&&(t.key===v.ENTER||t.key===v.SPACE)&&(t.preventDefault(),(i=this.closeEl)===null||i===void 0||i.classList.add(Z.IS_SHOWN),this.open()),t.key===v.TAB&&this.checkEventFromChild(this.dialogEl,t)&&((s=this.closeEl)===null||s===void 0||s.classList.add(Z.IS_SHOWN))}handleClickOutsideDialog(t){let i=t.target instanceof Node&&this.root.contains(t.target);!this.checkEventFromChild(this.dialogEl,t)&&!this.checkEventFromChild(this.buttonEl,t)&&!i&&t.type===l.CLICK&&this.close()}static get defaults(){return{placement:Fe.BOTTOM,takeFocus:!0}}};var si;(function(e){e.ROOT="glue-tooltip",e.ANIMATION="glue-tooltip__content--animation",e.CONTENT="glue-tooltip__content",e.LINK="glue-tooltip__link",e.RICH="glue-tooltip--rich",e.SHOW_TOOLTIP="glue-tooltip__content--shown",e.TRIGGER="glue-tooltip__trigger"})(si||(si={}));var Bi;(function(e){e.CLOSE_EVENT="gluetooltipclose",e.SHOW_EVENT="gluetooltipshow"})(Bi||(Bi={}));var Hi;(function(e){e.MISSING_CONTENT="The tooltip content element is missing",e.MISSING_TRIGGER="The tooltip trigger element is missing",e.INCORRECT_POSITION="data-glue-tooltip-auto-position attribute only accepts true or false value."})(Hi||(Hi={}));var oi;(function(e){e.AUTO_POSITION="glueTooltipAutoPosition"})(oi||(oi={}));var ki;(function(e){e.SOCIAL_ROOT="glue-social",e.SOCIAL_GROUP="glue-social__group",e.SOCIAL_LIST="glue-social__list",e.SOCIAL_TITLE="glue-social__title",e.SOCIAL_TITLE_ZIPPY="glue-social__title--zippy",e.COPY_ROOT="glue-social__copy",e.COPY_BUTTON="glue-social__copy-btn",e.COPY_INPUT="glue-social__copy-input",e.PANELS_VARIANT="glue-social--zippy",e.POPOVER_ROOT="glue-social__popover",e.POPOVER_CLOSE="glue-social__close-btn",e.POPOVER_DIALOG="glue-social__dialog",e.POPOVER_TRIGGER="glue-social__icon-trigger",e.PERSISTENT_VARIANT="glue-social--persistent",e.TOOLTIP_ROOT="glue-social__tooltip",e.TOOLTIP_TRIGGER="glue-social__tooltip-trigger",e.TOOLTIP_CONTENT="glue-social__tooltip-content"})(ki||(ki={}));var Gi;(function(e){e.CURRENT="glueTabsCurrent"})(Gi||(Gi={}));var Ui;(function(e){e.ROOT="glue-tabs",e.TABLIST="glue-tabs__tablist",e.TAB="glue-tab",e.PANEL="glue-tabs__panel",e.IS_SHOWN="glue-is-shown"})(Ui||(Ui={}));var $i;(function(e){e.TRIGGER="trigger",e.PLACEMENT="placement",e.FOCUS="takeFocus",e.ROOT="root",e.MISSING_TABLIST="Tablist element is missing.",e.MISSING_TABS="Tabs element is missing.",e.MISSING_TABPANELS="Tab panels element is missing.",e.DATA_CURRENT="currentTab"})($i||($i={}));var Fi;(function(e){e.TABPANEL_CONTAINER="glue-tabpanels",e.TABPANEL_PAGE_LIST="glue-tabpanels__page-list",e.TABPANEL_PANEL_LIST="glue-tabpanels__panel-list",e.TABPANEL_PANEL_TOGGLE="glue-tabpanels__panel-toggle",e.TABPANEL_PANEL_BUTTON="glue-tabpanels__panel-button",e.TABPANEL_PANEL_TITLE="glue-tabpanels__panel-title",e.TABPANEL_PANEL_CONTENT="glue-tabpanels__panel-content",e.TABPANEL_ELEMENT_SCOPE="glue-tabpanels__scope",e.PANELS_TOGGLE_HEADER="glue-expansion-panel__button-header",e.TABSET_ROOT="glue-tabs",e.TABSET_TABLIST="glue-tabs__tablist",e.TABSET_TAB="glue-tab",e.TABSET_BUTTON="glue-tabs__button",e.TABSET_PANELCONTAINER="glue-tabs__panelgroup",e.TABSET_PAGE="glue-tabs__panel"})(Fi||(Fi={}));var Vi;(function(e){e.PANELS_KEY="glueExpansionPanelsKey",e.TOGGLEFOR="glueExpansionPanelToggleFor",e.INITIAL="glueExpansionPanelInitial"})(Vi||(Vi={}));var Wi;(function(e){e.MISSING_PAGE_LIST="No element with glue-tabpanels__page-list class was found. TabPanels requires a Panels Page List",e.MISSING_PANEL_LIST="No element with glue-tabpanels__panel-list class was found. TabPanels requires a Panel List"})(Wi||(Wi={}));var Ls;(function(e){e.IFRAME_SCRIPT_URL="https://www.youtube.com/iframe_api"})(Ls||(Ls={}));var lt;(function(e){e.VIDEO_ID="glueYtVideoVid",e.PLAYER_ID="glueYtPlayerId",e.HEIGHT="glueYtVideoHeight",e.WIDTH="glueYtVideoWidth",e.PLAYER_VARS="glueYtVideoPlayerVars"})(lt||(lt={}));var rt;(function(e){e.ASSET="glue-video__preview-container",e.DURATION="glue-video__timestamp-duration",e.HIDE_ELEMENT="glue-video--hidden",e.IMAGE_CONTAINER="glue-video__preview-image",e.TIMESTAMP="glue-video__timestamp",e.TIMESTAMP_SHOW="glue-video__timestamp--visible",e.VIDEO="glue-video__container",e.INLINE_VIDEO="glue-video__preview-container--inline",e.LABEL="glue-video__label"})(rt||(rt={}));var ni;(function(e){e.MISSING_VIDEO="The video element is missing"})(ni||(ni={}));var ct=class{constructor(){this.videoObjects=new Map}static getManager(){return ct.instance||(ct.instance=new ct),ct.instance}static destroyManager(){ct.instance=void 0}registerYtPlayer(t,i){this.videoObjects.set(t,i)}unregisterYtPlayer(t){let i=this.videoObjects.get(t);i?.destroy(),this.videoObjects.delete(t),this.videoObjects.size===0&&ct.destroyManager()}getYtPlayer(t){return this.videoObjects.get(t)}};ct.instance=void 0;var Ht=class extends _{constructor(t,i){var s,o;super(t),this.id="",this.hidePosterAndPlay=a=>{var d,h;if(!(a instanceof KeyboardEvent&&a.key!==v.ENTER&&a.key!==v.SPACE)&&!((d=this.trigger)===null||d===void 0)&&d.classList.contains(rt.INLINE_VIDEO)){(h=this.trigger)===null||h===void 0||h.classList.add(rt.HIDE_ELEMENT),this.video.classList.remove(rt.HIDE_ELEMENT);let u=this.getPlayer();u?.playVideo()}},this.trigger=this.root.querySelector(`.${rt.ASSET}`),this.trigger&&(this.trigger.addEventListener(l.CLICK,a=>{this.hidePosterAndPlay(a)}),this.trigger.addEventListener(l.KEYDOWN,a=>{this.hidePosterAndPlay(a)}),this.trigger.tabIndex=0,this.trigger.setAttribute("role","button"));let n=this.root.querySelector(`.${rt.VIDEO}`);if(!n)throw new Error(ni.MISSING_VIDEO);this.video=n,!((s=this.trigger)===null||s===void 0)&&s.classList.contains(rt.INLINE_VIDEO)&&this.video.classList.add(rt.HIDE_ELEMENT),this.manager=ct.getManager(),this.options=this.setPlayerOptions(i),YT.ready(()=>{this.initializeVideo()}),this.poster=this.root.querySelector(`.${rt.IMAGE_CONTAINER}`);let r=(o=this.poster)===null||o===void 0?void 0:o.getAttribute("src");this.poster&&r?.length===0&&(this.poster.src=`https://i.ytimg.com/vi_webp/${this.options.videoId}/maxresdefault.webp`)}destroy(){super.destroy(),this.destroyPlayer()}static get defaultOptions(){return{playerId:"",width:"",height:"",videoId:"",playerVars:{},events:{}}}initId(){let t=this.video.getAttribute("id")||"";this.isValidPlayerId(t)&&(t=this.options.playerId||`youtube-player-${Math.round(Math.random()*Math.pow(10,6))}`,this.video.setAttribute("id",t)),this.id=t}refreshPlayerOptions(t){this.destroyPlayer(),this.options=Object.assign({},Ht.defaultOptions,t),this.options.playerId&&(this.id=this.options.playerId),this.initializeVideo()}setPlayerOptions(t){let i={},s=this.video.dataset;lt.VIDEO_ID in s&&(i.videoId=s[lt.VIDEO_ID]),lt.PLAYER_ID in s&&(i.playerId=s[lt.PLAYER_ID]),lt.HEIGHT in s&&(i.height=s[lt.HEIGHT]),lt.WIDTH in s&&(i.width=s[lt.WIDTH]),lt.PLAYER_VARS in s&&(i.playerVars=s[lt.PLAYER_VARS]);let o=Object.assign({},Ht.defaultOptions,t,i);return o.playerId&&(this.id=o.playerId),o}initializeVideo(){this.isValidPlayerId(this.id)&&this.initId(),this.options.playerId=this.id;let t=this.video.appendChild(document.createElement("div"));if(this.options.events)if(this.options.events.onReady===void 0)this.options.events.onReady=()=>{this.setVideoTimestamp()};else{let s=this.options.events.onReady;this.options.events.onReady=o=>{this.setVideoTimestamp(),s(o)}}let i=new window.YT.Player(t,this.options);this.manager.registerYtPlayer(this.id,i)}setVideoTimestamp(){var t,i,s;let o=this.root.querySelector(`.${rt.DURATION}`);if(o){let n=this.getPlayer(),r=(t=n?.getDuration())!==null&&t!==void 0?t:0,a=new Date(r*1e3).toISOString(),d=a.substring(11,13)==="00"?a.substring(14,19):a.substring(11,19);o.textContent=d,(s=(i=this.trigger)===null||i===void 0?void 0:i.querySelector(`.${rt.TIMESTAMP}`))===null||s===void 0||s.classList.add(`${rt.TIMESTAMP_SHOW}`)}}getPlayer(){return this.manager.getYtPlayer(this.id)}destroyPlayer(){this.manager.unregisterYtPlayer(this.id)}getPlayerId(){return this.isValidPlayerId(this.id)&&this.initId(),this.id}isValidPlayerId(t){return/^[\s\xa0]*$/.test(t)}};var Os=()=>{document.querySelectorAll(".glue-popover").forEach(t=>{var i;let s=t;new Bt(s,{placement:(i=s.dataset)===null||i===void 0?void 0:i.placement})})};var Ss=()=>{let e=document.querySelectorAll(".glue-expansion-panels");e&&e.forEach(t=>{new Ot(t)})};var ye;(function(e){e.standard="standard",e.thumbnail="thumbnail",e.caption="caption"})(ye||(ye={}));var ys=()=>{let e=document.getElementById("glue-carousel"),t;if(e){let i=e.dataset.carouseltype,s=e.dataset.carouseltype,o=s?JSON.parse(s):{},n=Object.assign(o,{navigation:i!==ye.thumbnail});if(t=new Pt(e,n),i===ye.thumbnail){let r=e.querySelectorAll(".glue-carousel__navigation-thumbnail");for(let a=0;a<r.length;a++)r[a].addEventListener("click",t==null?void 0:t.setCurrentSlide.bind(t,a+1))}}};var on="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",Tt=class{constructor(t,i,s,o,n="jpg",r={},a=()=>{}){this.isLoading=!1,this.onLoadCallback=a,this.imagePaths=Array.from(Array(Math.floor(s/o))).map((d,h)=>`${i}/${(h*o).toString().padStart(5,"0")}.${n}`),this.images=[];for(let d=0;d<this.imagePaths.length;d++){let h=new Image;d==0?h.src=this.imagePaths[d]:h.src=on,this.images.push(h)}this.scrollTrigger=window.ScrollTrigger.create({trigger:t,...r,onEnter:()=>this.loadImages(),onLeaveBack:()=>this.loadImages()})}loadImages(){if(!this.isLoading){this.isLoading=!0;for(let t=0;t<this.imagePaths.length;t++)this.images[t].src!==this.imagePaths[t]&&(this.images[t].src=this.imagePaths[t],this.images[t].onload=()=>{this.onLoadCallback&&this.onLoadCallback(t)})}}};var bs=()=>{if(!matchMedia("(min-width: 1081px)").matches)return;let t=document.querySelector(".earth-transition"),i=t.querySelector(".earth-transition__canvas"),s=t.querySelector(".simple-intro"),o=t.querySelector(".columns-50x50__grid__primary");t.style.height="500vh";let n=t.dataset.framepath,r=parseInt(t.dataset.framecount),a=parseInt(t.dataset.framewidth),d=parseInt(t.dataset.frameheight),h=a/d,u={index:0,width:0,height:0},p=new Tt(t,n,r,1,void 0,void 0,L=>{u.index===L&&requestAnimationFrame(()=>{E()})}).images,E=()=>{T&&(T.clearRect(0,0,i.width,i.height),T.globalCompositeOperation="source-over",T.drawImage(p[u.index],0,0,a,d,(i.width-u.width)/2,(i.height-u.height)/2,u.width,u.height))};var T=i.getContext("2d"),A=!1;function g(){i.width=window.innerWidth,i.height=window.innerHeight,A=i.width/i.height<=h,u.width=A?i.height*h:i.width,u.height=A?i.height:i.width/h}window.addEventListener("resize",g),g();let f=window.gsap.timeline({defaults:{duration:.7,ease:"slow"},scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",scrub:!0,pin:t.querySelector(".earth-transition__pin"),onUpdate:E}});f.add("start"),f.fromTo(u,{index:0},{index:r-1,modifiers:{index:L=>window.gsap.utils.snap(1,L)}},"start");let w=t.querySelector(".columns-50x50__grid__secondary--video");w.autoplay=!1,f.call(()=>{w.currentTime=0}),f.add("to-media");let I={scale:L=>window.gsap.utils.interpolate(1,w.offsetWidth/window.innerWidth,1-L),left:L=>{let S=w.getBoundingClientRect(),C=L.replace("px",""),V=S.left+S.width/2;return window.gsap.utils.interpolate(V-window.innerWidth/2,0,parseFloat(C))+"px"},top:L=>{let S=w.getBoundingClientRect(),C=L.replace("px",""),V=S.top+S.height/2;return window.gsap.utils.interpolate(V-window.innerHeight/2,0,parseFloat(C))+"px"}};f.fromTo(i,{scale:1,x:1,y:1},{scale:0,x:0,y:0,modifiers:{scaleX:I.scale,scaleY:I.scale,x:I.left,y:I.top}},"to-media"),f.add("swap"),f.to(i,{opacity:0,duration:.2},"swap"),f.fromTo(w,{opacity:0},{opacity:1,duration:.1,onStart:()=>{w.currentTime=0,w.play()}},"swap"),f.fromTo([s,o],{opacity:0,yPercent:10,stagger:.5},{opacity:1,yPercent:5})};var Cs=()=>{let e=document.querySelector(".glue-footer");e&&new Kt(e)};var St={ARCORE:"arcore",EARTH:"googleEarth-start",GLASS:"googleGlass",LENS:"googleLens",MAPS:"googleMaps",NEWS:"news",NAV_LINKS:"glue-header__link",OVERVIEW:"hero-overview-collage",SEARCH:"googleSearch"},nn=document.getElementById(St.ARCORE),rn=document.getElementById(St.EARTH),an=document.getElementById(St.GLASS),ln=document.getElementById(St.OVERVIEW),hn=document.getElementById(St.LENS),dn=document.getElementById(St.MAPS),cn=document.getElementById(St.NEWS),un=document.getElementById(St.SEARCH),pn=[{arcore_:nn},{earth_:rn},{glass_:an},{hero_overview_collage_:ln},{lens_:hn},{news_:cn},{maps_:dn},{search_:un}],mn=[{arcore:4e3},{earth:3180},{glass_mobile:250},{hero_overview_collage:3600},{hero_overview_collage_mobile:3800},{maps:1600},{maps_mobile:250},{search:650},{search_mobile:250}],En=window.innerWidth>1081,de=0,fn=e=>{var t;let i=pn.find(o=>e in o);return i?Number((t=i[e])===null||t===void 0?void 0:t.offsetTop):void 0},Ns=e=>{let t=mn.find(i=>e in i);return t?Number(t[e]):-65},Ps=()=>{let e=document.querySelector(".glue-header");if(e){let t=new Mt(e,{hideOnScroll:!1});window.gsap.utils.toArray(`.${St.NAV_LINKS}`).forEach(n=>{n.onclick=function(r){r.preventDefault(),t&&t.drawer.close(),setTimeout(()=>{let a=n.getAttribute("href");a&&setTimeout(()=>{window.gsap.to(window,{scrollTo:a,onComplete:()=>{let h=a.replace("#","").replace("-","_").replace("-","_").replace("google","").toLowerCase().concat("","_"),u=fn(h);if(En){let m=h.slice(0,-1);de=Ns(m)}else{let m=h.concat("","mobile");de=Ns(m)}u&&(de=de+u),window.scrollTo(0,de),de=0}})},100)},0)}});let s=({sectionId:n,trigger:r,endTrigger:a})=>{window.ScrollTrigger.create({start:"top top",trigger:document.querySelector(r),endTrigger:a&&document.querySelector(a),toggleClass:{targets:`.glue-header__link[href="${n}"]`,className:"active"},scrub:!0,onEnter:()=>{e.classList.toggle("dark-nav",n===".dark-nav-section"||n==="#hero-overview-collage"),window.dataLayer.push({event:"visited_section",section:n,scroll:"down"})},onLeaveBack:()=>{e.classList.toggle("dark-nav",n==="#hero-overview-collage"),window.dataLayer.push({event:"visited_section",section:n,scroll:"up"})}})};[{trigger:".dark-nav-section",sectionId:".dark-nav-section"},{trigger:"#hero-overview",sectionId:"#hero-overview-collage"},{trigger:"#news",sectionId:"#news"},{trigger:"#products-start",endTrigger:".products-section",sectionId:"#products-start"},{trigger:"#googleSearch",endTrigger:"#search-transition",sectionId:"#googleSearch"},{trigger:"#googleLens",endTrigger:"#googleLens-end",sectionId:"#googleLens"},{trigger:"#googleMaps",endTrigger:"#maps-section",sectionId:"#googleMaps"},{trigger:"#googleGlass",endTrigger:"#googleGlass-end",sectionId:"#googleGlass"},{trigger:"#googleEarth-start",endTrigger:"#googleEarth-end",sectionId:"#googleEarth"},{trigger:"#arcore",endTrigger:"#arcore-end",sectionId:"#arcore"}].forEach(n=>s(n))}};var gn=function(e,t,i,s,o,n){let r=t.split(" "),a="",d="",h=[];for(var u=0;u<r.length;u++)d+=`${r[u]} `,e.measureText(d).width>o&&u>0?(h.push([a,i,s]),s+=n,a=`${r[u]} `,d=`${r[u]} `):a+=`${r[u]} `,u===r.length-1&&h.push([a,i,s]);return h},Rs=gn;var jt={h1:{fontFamily:"Google Sans",fontSize:[42,72],fontWeight:[500,500],lineHeight:[52.08,86.4]}},xs=768;var Ms=(e,t)=>{let i=document.createElement("canvas");i.classList.add("canvas-text-content"),e.appendChild(i);let s=document.createElement("canvas");s.classList.add("canvas-text-content"),s.classList.add("canvas-text-contentbuffer"),e.appendChild(s);let o=e.querySelector(".canvas-text-element");var n=i.getContext("2d"),r=s.getContext("2d");function a(){!n||!r||(i.width=window.innerWidth,i.height=window.innerHeight,s.width=window.innerWidth,s.height=window.innerHeight,n.clearRect(0,0,i.width,i.height),r.clearRect(0,0,s.width,s.height),n.globalCompositeOperation="source-over",Ds(n,o,"#fff"),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),r.drawImage(i,0,0),n.clearRect(0,0,i.width,i.height),n.globalCompositeOperation="source-over",Ds(n,o,"#000"),n.globalCompositeOperation="destination-out",n.drawImage(t,0,0),n.drawImage(s,0,0),requestAnimationFrame(a))}let d=()=>{a()};window.addEventListener("resize",d),d()};function Ds(e,t,i="#fff"){var s,o=window.innerWidth<xs,n="Google Sans",r=o?jt.h1.fontSize[0]:jt.h1.fontSize[1],a=o?jt.h1.fontWeight[0]:jt.h1.fontWeight[1],d=o?jt.h1.lineHeight[0]:jt.h1.lineHeight[1];if(t){var h=t.getBoundingClientRect();e.font=`${a} ${r}px ${n}`,e.fillStyle=i,e.textAlign="center";var u=Math.min(928,(s=t.offsetParent)===null||s===void 0?void 0:s.clientWidth),m=Rs(e,t.innerText,h.left+u/2+8,h.top+(o?40:70),u,d);for(let p=0;p<m.length;p++){let E=m[p];e.fillText(E[0],E[1],E[2])}}}var Bs=()=>{document.querySelectorAll(".hero-skip-button").forEach(t=>{let i=t.querySelector("button");i==null||i.addEventListener("click",()=>{var s;window.gsap.to(window,{duration:0,scrollTo:document.getElementById(((s=t.dataset)===null||s===void 0?void 0:s.target)||"")})})})};var Hs=(e,t,i=1,s=2,o="",n="")=>{let r=e.dataset.framepath,a=parseInt(e.dataset.framecount),d=parseInt(e.dataset.framewidth),h=parseInt(e.dataset.frameheight),u=d/h,m=0,p=0,E=0,T=0,A=e.querySelector("canvas"),g=new Tt(e,r,a,s,"png",{start:"top top+=1"}),f=g.images,w={index:0},I=()=>{V(w.index)};window.gsap.fromTo(w,{index:0},{index:g.images.length-1,modifiers:{index:X=>window.gsap.utils.snap(1,X)},scrollTrigger:{trigger:e,start:"top top",end:"bottom top",scrub:!0,onEnter:()=>window.gsap.set(A,{opacity:1}),onUpdate:I},duration:i,defaults:{ease:"slow"}});var L=A.getContext("2d");let S=new Image;S.src=o;let C=512;function V(X){if(!(L==null||!f[X])){L.clearRect(0,0,A.width,A.height),L.globalCompositeOperation="source-over",L.fillStyle="#000000",L.fillRect(0,0,A.width,A.height);for(let P=0;P<3;P++)for(let j=0;j<3;j++)L.drawImage(S,C*P,C*j,C,C);L.drawImage(f[X],0,0,d,h,m,p,E,T),t!=null&&t.isMaskActive()&&(t!=null&&t.canvas)&&(t.draw(),L.globalCompositeOperation="destination-in",L.drawImage(t.canvas,0,0))}}function M(){A.width=window.innerWidth,A.height=window.innerHeight,[E,T]=A.width/A.height<=u?[A.height*u,A.height]:[A.width,A.width/u],[p,m]=[(A.height-T)/2,(A.width-E)/2],C=Math.max(A.width/3,A.height/3),V(f[w.index])}window.addEventListener("resize",M),M()};var be={pX:0,rX:0,sX:1,pY:0,rY:0,sY:1,pZ:0,rZ:0,sZ:1,a:1},ht=window.THREE,vn=8,ut=class{constructor(t=be){this.planeWidth=1,this.planeHeight=1,this.createShape=(i,s)=>{this.scene.remove(this.plane);let o=new ht.Shape;Tn(o,-i/8,-s/8,i/4,s/4,vn);let n=new ht.ShapeGeometry(o);this.plane=new ht.Mesh(n,this.planeMaterial),this.scene.add(this.plane)},this.setMaskActive=i=>window.gsap.set(this.maskTransform,{a:i?1:0}),this.isMaskActive=()=>this.maskTransform.a===1,this.refresh=()=>{this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.planeWidth=window.innerWidth,this.planeHeight=window.innerHeight,this.createShape(this.planeWidth,this.planeHeight);let i=new ht.Box3;i.setFromObject(this.plane);let s=new ht.Vector3;i.getSize(s);let o=An(this.camera.fov,this.camera.aspect,s);this.camera.position.set(0,0,o);let n=i.min.z,r=n<0?-n+o:o-n;this.camera.far=r*3,this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera)},this.throttleRefresh=()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.refresh,500)},this.draw=()=>{this.plane.scale.x=this.maskTransform.sX,this.plane.scale.y=this.maskTransform.sY,this.plane.scale.z=this.maskTransform.sZ,this.plane.position.x=this.maskTransform.pX*this.planeWidth,this.plane.position.y=this.maskTransform.pY*this.planeHeight,this.plane.rotation.x=ht.MathUtils.degToRad(this.maskTransform.rX),this.plane.rotation.y=ht.MathUtils.degToRad(this.maskTransform.rY),this.plane.rotation.z=ht.MathUtils.degToRad(this.maskTransform.rZ),this.plane.position.z=this.maskTransform.pZ,this.renderer.render(this.scene,this.camera)},this.clearCanvas=()=>{this.renderer.clear()},this.reset=()=>{this.clearCanvas(),this.maskTransform=this.mask,this.draw()},this.canvas=document.createElement("canvas"),this.renderer=new ht.WebGLRenderer({canvas:this.canvas,alpha:!0,powerPreference:"low-power"}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.scene=new ht.Scene,this.camera=new ht.PerspectiveCamera(20,window.innerWidth/window.innerHeight,.1,1e3),this.plane=new window.THREE.Mesh,this.planeMaterial=new ht.MeshBasicMaterial({color:0,side:ht.DoubleSide}),this.resizeTimeout=setTimeout(this.refresh,0),window.addEventListener("resize",this.throttleRefresh),this.mask=t,this.maskTransform=this.mask}};var An=function(e,t,i,s){let o=e*(Math.PI/180),n=2*Math.atan(Math.tan(o/2)*t),r=i.z/2+Math.abs(i.x/2/Math.tan(n/2)),a=i.z/2+Math.abs(i.y/2/Math.tan(o/2)),d=Math.max(r,a);return s!==void 0&&s!==0&&(d*=s),d};function Tn(e,t,i,s,o,n){e.moveTo(t,i+n),e.lineTo(t,i+o-n),e.quadraticCurveTo(t,i+o,t+n,i+o),e.lineTo(t+s-n,i+o),e.quadraticCurveTo(t+s,i+o,t+s,i+o-n),e.lineTo(t+s,i+n),e.quadraticCurveTo(t+s,i,t+s-n,i),e.lineTo(t+n,i),e.quadraticCurveTo(t,i,t,i+n)}var ri=[{pX:0,pY:-.35,pZ:0,rX:-45,rY:65,rZ:-45,sX:.35,sY:.35,sZ:.35,a:1},{pX:0,pY:-.15,pZ:0,rX:-15,rY:20,rZ:-15,sX:.5,sY:.5,sZ:.5,a:1},{pX:0,pY:0,pZ:0,rX:0,rY:0,rZ:0,sX:1.05,sY:1.05,sZ:1.05,a:1}],ks=()=>{let e=document.querySelector(".hero-experience");if(!e)return;let t=e.querySelector(".hero-experience__scroll"),i=e.querySelector(".hero-experience__section--container"),s=e.querySelectorAll(".hero-experience__section"),o=e.querySelector(".skip-cta"),n=s[0],r=new ut(ri[0]),a=window.gsap.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom top-=20%",pin:i,pinType:"fixed",scrub:!0}});window.gsap.set(n,{zIndex:1});let d=10,h=1,u=1,m=3;s.forEach((p,E)=>{if(a.add(`sectionIn-${E}`),E==0){var T=d-h-u;a.fromTo(r.maskTransform,{...ri[0]},{...ri[1],duration:T/2},`sectionIn-${E}`),a.to(r.maskTransform,{...ri[2],duration:T/2}),a.add(`sectionOut-${E}`),a.fromTo(p,{opacity:1,zIndex:1},{opacity:0,zIndex:0,duration:u})}else a.fromTo(p,{opacity:0,y:20,zIndex:0},{opacity:1,y:10,zIndex:1,duration:h},`sectionIn-${E}`),a.add(`section-stall-${E}`),a.fromTo(p,{y:10},{y:-10,duration:d-h-u-m}),a.add(`sectionOut-${E}`),a.fromTo(p,{opacity:1,y:-10,zIndex:1},{opacity:0,y:-20,zIndex:0,duration:u});a.fromTo(p,{opacity:0},{opacity:0,duration:m})}),Hs(t,r,a.duration(),2,"/static/images/frames/hero/bg.jpg"),Ms(n,r.canvas),a.fromTo(t.querySelector(".canvas-text-element"),{opacity:1},{opacity:0,duration:.1},0),a.fromTo(t.querySelector(".canvas-text-content"),{opacity:0},{opacity:1,duration:.1},0),Bs(),a.fromTo(o,{opacity:0},{opacity:1,duration:.5},"sectionIn-1"),a.fromTo(n.querySelector(".scroll-cta"),{opacity:1},{opacity:0,duration:.5},"sectionIn-0")};var Gs=(e,{videoSource:t,mask:i,aspectRatio:s})=>{let o=e.dataset.video,n=e.hasAttribute("data-fullscreen"),r=t||document.querySelector(o);return new qi(e,r,i,{fullscreen:!!n,aspectRatio:s})},qi=class{constructor(t,i,s,{fullscreen:o=!1,aspectRatio:n=-1}){this.cw=1,this.ch=1,this.setClipSource=r=>{this.clipSource=r},this.setSource=r=>{this.video=r},this.updateOffsets=({x:r=0,y:a=0,width:d=0,height:h=0}={})=>{this.offsetX=r,this.offsetY=a,this.offsetWidth=d,this.offsetHeight=h},this.recalcFramePosition=()=>{if(!this.video||!this.canvas)return;let r=this.offsetX||0,a=this.offsetY||0,d=this.offsetWidth||0,h=this.offsetHeight||0;this.cw=this.canvas.width*(this.offsetWidth/this.canvas.width),this.ch=this.canvas.height*(this.offsetHeight/this.canvas.height),this.videoAspectRatio=this.video.videoWidth/this.video.videoHeight,[this.frameWidth,this.frameHeight]=this.cw/this.ch<=this.videoAspectRatio?[this.ch*this.videoAspectRatio,this.ch]:[this.cw,this.cw/this.videoAspectRatio],[this.frameTop,this.frameLeft]=[a+(this.ch-this.frameHeight)/2,r+(this.cw-this.frameWidth)/2]},this.tick=()=>{this.updateFrameRequest=requestAnimationFrame(this.renderFrame)},this.renderFrame=()=>{var r;if(!this.video||!this.canvas)return;this.recalcFramePosition();let a=this.canvas.getContext("2d");a&&(a.clearRect(0,0,this.canvas.width,this.canvas.height),a.globalCompositeOperation="source-over",a.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight,this.frameLeft||0,this.frameTop||0,this.frameWidth||0,this.frameHeight||0),this.clipSource&&((r=this.mask)===null||r===void 0||r.draw(),a.globalCompositeOperation="destination-in",a.drawImage(this.clipSource,0,0))),this.tick()},this.start=()=>{this.tick()},this.stop=()=>{window.cancelAnimationFrame(this.updateFrameRequest)},this.handleResize=()=>{this.fullscreen&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight)},this.canvas=t,this.video=i,this.mask=s,this.fullscreen=o,n>-1&&(this.videoAspectRatio=n),window.addEventListener("resize",this.handleResize),this.handleResize(),this.cw=this.canvas.width,this.ch=this.canvas.height,s!=null&&s.canvas&&this.setClipSource(s.canvas)}};var zi=class{constructor(t){this.loadSources=()=>{let i=this.video.querySelectorAll("source");if(i)for(let s=0;s<i.length;s++){let o=i[s],{src:n}=o==null?void 0:o.dataset;o&&n&&(o.src=n)}this.video.addEventListener("canplaythrough",this.makeReady.bind(this)),this.video.load()},this.parent=t,this.active=!1,this.ready=!1,this.video=t.querySelector("video"),this.videoControl=t.querySelector(".video-control"),requestAnimationFrame(()=>this.loadSources())}makeReady(){this.ready=!0,this.active&&this.play()}makeActive(){this.video.currentTime=0,this.active=!0,this.parent.classList.add("active"),this.ready&&this.play()}makeInactive(){this.pause(),this.parent.classList.remove("active")}play(){this.video.play()}pause(){this.video.pause()}hasOptionPrefix(t){return t.startsWith("option")}formatOptionName(t){return t.slice(6,t.length).toLocaleLowerCase()}get videoOptions(){return Object.entries(this.parent.dataset||{})}},Us=zi;var Yi=5,Zt=5,_n=2,Ce={pX:0,pY:0,pZ:0,rX:-5,rY:10,rZ:-5,sX:1.5,sY:1.5,sZ:1.5,a:1},$s=()=>{document.querySelectorAll(".hero-overview").forEach(t=>{let i=t,s=document.querySelector(".glue-header"),o=new ut({...Ce}),n=Array.from(i.querySelectorAll(".hero-overview__title")),r=Array.from(i.querySelectorAll(".hero-overview__navigation-bar")),a=Array.from(i.querySelectorAll(".hero-overview__navigation-bar__bar__inner")),d=document.querySelector(".hero-overview__content"),h=new window.Hammer(d);h.get("swipe").set({direction:window.Hammer.DIRECTION_HORIZONTAL,enable:!0});let u=Array.from(i.querySelectorAll(".hero-overview-video")).map((y,B)=>{let tt=new Us(y),Ct=n[B],Nt=a[B];return new Ki(B,{video:tt,title:Ct,bar:Nt})}),m=i.querySelector("canvas.canvasVideo"),p=Gs(m,{videoSource:u[0].Video.video,mask:o,aspectRatio:1.777}),E,T=y=>u.findIndex(({id:tt})=>tt==(y==null?void 0:y.id)),A=()=>{let y=T(E);y===u.length-1?w(u[0]):w(u[y+1])},g=()=>{let y=T(E);y<=0?w(u[u.length-1]):w(u[y-1])},f=()=>{h.on("swipeleft",()=>{A()}),h.on("swiperight",()=>{g()})},w=(y,B)=>{E&&E.makeInactive(),y.makeActive({delayTitles:B}),E=y,p.setSource(E.Video.video),E.onComplete(A);let tt=T(y);u.filter((ft,Te)=>Te<tt).forEach(ft=>{ft.completeBar()}),u.filter((ft,Te)=>Te>tt).forEach(ft=>{ft.resetBar()})},I=i.querySelector(".hero-overview__ui__button--prev"),L=i.querySelector(".hero-overview__ui__button--next");I==null||I.addEventListener("click",g),L==null||L.addEventListener("click",A),r.forEach((y,B)=>{y.addEventListener("click",()=>{w(u[B])})}),window.gsap.registerPlugin(window.CustomEase);let S=window.gsap.timeline({scrollTrigger:{trigger:i.querySelector(".hero-overview__pin"),start:"top top",end:"bottom bottom",pin:!0,pinSpacing:!1,scrub:!0,onToggle:y=>{y.isActive&&(o.reset(),E||(w(u[0],!0),f())),y.isActive?p.start():p.stop()}}}),C=window.gsap.fromTo(i.querySelector(".hero-overview__pin"),{maskPosition:"center 100vh",maskSize:"100%"},{maskPosition:"center -5vh",maskSize:"1500%",duration:Yi}),V=i.querySelector(".hero-overview__ui"),M=window.gsap.fromTo(V,{opacity:0},{opacity:1,duration:Yi*.33,delay:Yi*.55,onStart:()=>{E&&!E.titlesAreShowing&&(E==null||E.showTitles())}});S.add(C,"in"),S.add(M,"in");let X=i.querySelector("#footer-image1 img"),P=i.querySelector("#footer-image2 img"),j=i.querySelector("#footer-image3 img"),Ut=i.querySelector("#footer-image4 img"),$t=i.querySelector(".hero-overview__collage__content .bottom-content"),oe=i.querySelector(".hero-overview__skip"),Ft=i.querySelector(".image-ref"),U=i.querySelector(".hero-overview__collage__content .top-content"),J=-.125,Et=i.querySelector(".hero-overview__canvas"),bt=()=>{window.gsap.set(X,{transformOrigin:Ue(X)}),window.gsap.set(P,{transformOrigin:Ue(P)}),window.gsap.set(j,{transformOrigin:Ue(j)}),window.gsap.set(Ut,{transformOrigin:Ue(Ut)})},Ge=()=>{bt()};window.addEventListener("resize",Ge);let W=window.gsap.timeline({defaults:{duration:Zt,ease:"expo.easeOut"}}).fromTo(o.maskTransform,{...Ce,pY:1,sX:1,sY:1},{pY:0,sX:0,sY:0,rX:0,rY:0,rZ:0,onStart:()=>{o.reset()},modifiers:{pY:y=>{let B=(U.offsetTop-window.innerHeight/2)/window.innerHeight,tt=window.gsap.utils.interpolate({...Ce}.pY,B*J,y);return 0},sX:y=>{let B=Ft.getBoundingClientRect();return window.gsap.utils.interpolate(B.width/window.innerWidth,{...Ce}.sX,y)},sY:y=>{let B=Ft.getBoundingClientRect();return window.gsap.utils.interpolate(B.height/window.innerHeight,{...Ce}.sY,y)}}}),Q=Zt*.15,dt=Zt-Q,Vt={val:0},Ts=window.gsap.fromTo(Vt,Vt,{val:1,ease:"quad.inOut",duration:dt,delay:Q,onUpdate:()=>{let y=Vt.val,B=Ft.getBoundingClientRect(),tt=window.gsap.utils.interpolate(0,(window.innerWidth-B.width)/2,y),Ct=window.gsap.utils.interpolate(0,(window.innerHeight-B.height)/2,y),Nt=window.gsap.utils.interpolate(window.innerWidth,B.width,y),ft=window.gsap.utils.interpolate(window.innerHeight,B.height,y);p.updateOffsets({x:tt,y:Ct,width:Nt,height:ft})}}),Ho=window.gsap.fromTo(Et,{y:0},{y:1,ease:"quad.inOut",duration:dt,delay:Q,modifiers:{y:y=>{let B=y.replace("px",""),tt=Number(B)/1,Ct=Ft.getBoundingClientRect(),Nt=(window.innerHeight-Ct.height)/2,ft=U.offsetTop-Nt;return String(tt*ft)+"px"}}}),ne="quad.inOut",ko=window.gsap.fromTo(V,{opacity:1},{opacity:0,pointerEvents:"none",duration:Zt*.15,delay:Zt*.15,onStart:()=>{E&&!E.titlesAreShowing&&(E==null||E.showTitles())},onReverseComplete:()=>{s.classList.add("dark-nav")}}),Go=window.gsap.fromTo(oe,{opacity:1},{opacity:0,pointerEvents:"none",duration:Zt*.15,delay:Zt*.15,onStart:()=>{s.classList.remove("dark-nav")}}),Uo=window.gsap.fromTo(p,{scale:1},{scale:.5,duration:dt,delay:Q,ease:ne}),$o=window.gsap.fromTo(X,{scale:2,opacity:0},{scale:1,opacity:1,duration:dt,delay:Q,ease:ne}),Fo=window.gsap.fromTo(j,{scale:2,opacity:0},{scale:1,opacity:1,duration:dt,delay:Q,ease:ne}),Vo=window.gsap.fromTo(P,{scale:2,opacity:0},{scale:1,opacity:1,duration:dt,delay:Q,ease:ne}),Wo=window.gsap.fromTo(Ut,{scale:2,opacity:0},{scale:1,opacity:1,duration:dt,delay:Q,ease:ne}),qo=window.gsap.fromTo($t,{y:"50%",opacity:0},{ease:ne,y:"0",opacity:1,delay:Q,duration:dt}),Ue=y=>{let{x:B,y:tt,width:Ct,height:Nt}=y.getBoundingClientRect(),ft=B+Ct/2,Te=tt+Nt/2,{innerWidth:Yo,innerHeight:Ko}=window,Xo=Yo/2,jo=Ko/2;return`${Xo-ft}px ${jo-Te}px`};S.call(bt,null,"out"),S.add(W,"out"),S.add(Ts,"out"),S.add(Ho,"out"),S.add(ko,"out"),S.add(Go,"out"),S.add(Uo,"out"),S.add($o,"out"),S.add(Fo,"out"),S.add(Vo,"out"),S.add(Wo,"out"),S.add(qo,"out");let zo=window.gsap.fromTo({},{x:0},{x:1,duration:_n});S.add(zo)})},Ki=class{constructor(t,i){this.makeActive=({delayTitles:r=!1}={})=>{this.Video.makeActive(),this.Video.video.addEventListener("ended",this.handleVideoEnd),r||(this.enterTimeout=setTimeout(()=>{this.showTitles()},1e3)),requestAnimationFrame(this.handleProgress)},this.showTitles=()=>{this.titlesAreShowing=!0,this.title.classList.add("transition-in"),this.title.classList.remove("transition-out")},this.makeInactive=()=>{this.updateProgressRequest&&(window.cancelAnimationFrame(this.updateProgressRequest),this.updateProgressRequest=null),this.enterTimeout&&(clearTimeout(this.enterTimeout),this.enterTimeout=null),this.Video.makeInactive(),this.Video.video.removeEventListener("ended",this.handleVideoEnd),this.titlesAreShowing=!1,this.title.classList.remove("transition-in"),this.title.classList.add("transition-out")},this.handleVideoEnd=()=>{this.userSetOnComplete&&this.userSetOnComplete()},this.handleProgress=()=>{this.bar.style.transform=`scaleX(${this.Video.video.currentTime/this.Video.video.duration})`,this.updateProgressRequest=requestAnimationFrame(this.handleProgress)},this.onComplete=r=>{this.userSetOnComplete=r},this.resetBar=()=>{this.bar.style.transform="scaleX(0)"},this.completeBar=()=>{this.bar.style.transform="scaleX(1)"};let{title:s,bar:o,video:n}=i;this.id=t,this.title=s,this.bar=o,this.Video=n}};var Fs=()=>{document.querySelector(".jumplinks-custom")&&document.querySelectorAll(".glue-jumplinks__link").forEach(i=>{let s=i;s.onclick=function(o){o.preventDefault();let n=s.getAttribute("href");window.gsap.to(window,{duration:2,scrollTo:n})}})};var Vs=()=>{let e=document.querySelector(".mosaic-grid");if(e){let t=new window.Masonry(e,{itemSelector:".mosaic-grid-item",columnWidth:".mosaic-grid-sizer",percentPosition:!0,stamp:".stamp"});setTimeout(()=>{var i;(i=t.layout)===null||i===void 0||i.call(t)},200)}};var ai;(function(e){e.primary="primary",e.secondary="secondary",e.secondary_reversed="secondary_reversed",e.secondary_reversed_alt="secondary_reversed_alt",e.tertiary="tertiary",e.tertiary_reversed="tertiary_reversed",e.tertiary_reversed_alt="tertiary_reversed_alt",e.tonal="tonal",e.inline="inline"})(ai||(ai={}));var Ws=["January","February","March","April","May","June","July","August","September","October","November","December"];var li=class{constructor(t,i){this.url=t,this.selector=(i==null?void 0:i.selector)||"item",this.schema=i==null?void 0:i.schema}async load(){if(!this.url)throw new Error("no RSS url specified");if(!this.schema)throw new Error("no RSS parsing rules specified");return await fetch(this.url).then(t=>t.text()).then(t=>new window.DOMParser().parseFromString(t,"text/xml")).then(t=>{let i=t.querySelectorAll(this.selector),s=[];return i.forEach(o=>s.push(this.parse(o))),s}).catch(t=>{throw new Error("There was an error fetching the RSS feed data: "+t)})}parse(t){var i;let s={},o=Array.from(t.childNodes),n=(a,d)=>{s[a]=d},r=(a,d)=>{let{targetAttr:h,nodeAttrs:u}=d,m=()=>h?a.getAttribute(h):a.innerHTML;return u&&Object.entries(u).find(([T,A])=>{let g=a.getAttribute(T);return!(g&&g==A)})?void 0:m()};return(i=this.schema)===null||i===void 0||i.forEach(a=>{let{nodeName:d,label:h,hasMultiples:u}=a;if(u){let m=o.filter(({nodeName:E})=>E===(h||d)),p=[];m.forEach(E=>{let T=r(E,a);T&&p.push(T)}),p.length>0&&n(h||d,p)}else{let m=o.find(({nodeName:p})=>p===d);if(m){let p=r(m,a);p&&n(h||d,p)}}}),s}};var qs=()=>{document.querySelectorAll(".news").forEach(async t=>{await new Xi(t).init()})},Xi=class{constructor(t){this.applyNextFilter=()=>{let s=Array.prototype.slice.call(this.articlesEl.querySelectorAll("news-filter")),o=this.currFilterEl;if(!o)this.currFilterEl=this.articlesEl.querySelector("news-filter[data-isdefault]");else{let n=s.indexOf(o),r=n===s.length-1;this.currFilterEl=r?s[0]:s[n+1]}this.render()},this.render=()=>{setTimeout(()=>{this.updateButtonPill(),this.updateActionPill()},250),this.renderCards()},this.updateButtonPill=()=>{let s=this.categoryButtonEl.querySelector(".pill__inner"),o=s.querySelector(".pill-text"),n=this.categoryButtonEl.querySelector(".icon-font");o.classList.remove("transition-in"),o.classList.add("transition-out"),n.classList.toggle("spin"),requestAnimationFrame(()=>{var r,a;o.classList.remove("transition-out"),o.innerText=((a=(r=this.currFilterEl)===null||r===void 0?void 0:r.dataset)===null||a===void 0?void 0:a.label)||"",o.classList.add("transition-in"),requestAnimationFrame(()=>{s.style.width=o.offsetWidth+"px"})})},this.updateActionPill=()=>{let s=this.categoryActionEl.querySelector(".pill__inner"),o=s.querySelector(".pill-text");o.classList.remove("transition-in"),o.classList.add("transition-out"),requestAnimationFrame(()=>{var n,r;o.classList.remove("transition-out"),o.innerText=((r=(n=this.currFilterEl)===null||n===void 0?void 0:n.dataset)===null||r===void 0?void 0:r.action)||"",o.classList.add("transition-in"),requestAnimationFrame(()=>{s.style.width=o.offsetWidth+"px"})})},this.renderCards=()=>{let s=this.getFilteredCards(),n=window.matchMedia("(max-width: 1023px)").matches?2:3,r=s.length>0?s.slice(0,n).map((m,p)=>{let E=m.pubDate,T=E?new Date(E):void 0,A=T?`${Ws[T.getMonth()]} ${T.getFullYear()}`:void 0,g=p>0&&(p+1)%2===0,f=p>0&&(p+1)%3===0,w=!g&&!f,I=f?"small":g?"med":"";return s.length>=3&&p===1&&(I="small-image",w=!1),{image:{url:m.imageUrl,altText:m.imageAlt},body:m.title,layout:w?"left":"",tag:A,size:I,button:{href:m.link,label:"Learn more",classes:"button-rotate",type:ai.tertiary,icon:{icon:"#arrow-forward"}}}}):[{layout:"left",body:"No articles found",size:"small"}],a=this.gridEl.querySelectorAll(".mosaic-grid-item"),d=200+a.length*10;a.forEach(m=>{m.classList.add("transition-out")}),setTimeout(()=>{a.forEach(m=>{var p;(p=m.parentElement)===null||p===void 0||p.removeChild(m)}),u()},d);let h,u=()=>{h&&h();let m=()=>{this.alignCards(),this.gridEl.querySelectorAll(".mosaic-grid-item").forEach(T=>T.classList.add("transition-in")),requestAnimationFrame(()=>{window.ScrollTrigger.refresh(!0)})};r.forEach(E=>{let T=this.renderCard(E);this.gridEl.appendChild(T)});let p=()=>{var E,T;let A=this.msnry;A&&((E=A==null?void 0:A.destroy)===null||E===void 0||E.call(A),(T=A.off)===null||T===void 0||T.call(A,"layoutComplete",m)),window.innerWidth>=768?(this.msnry=new window.Masonry(this.gridEl,{itemSelector:".mosaic-grid-item",columnWidth:".mosaic-grid-sizer",percentPosition:!0,stamp:".stamp"}),requestAnimationFrame(()=>{var g,f,w,I;(f=(g=this.msnry)===null||g===void 0?void 0:g.on)===null||f===void 0||f.call(g,"layoutComplete",m),(I=(w=this.msnry)===null||w===void 0?void 0:w.layout)===null||I===void 0||I.call(w)})):m()};p(),window.addEventListener("resize",()=>p()),h=()=>{window.removeEventListener("resize",()=>p())}}},this.getFilteredCards=()=>{var s,o,n,r,a,d;let h=(n=(o=(s=this.currFilterEl)===null||s===void 0?void 0:s.dataset)===null||o===void 0?void 0:o.categoriesPrimary)===null||n===void 0?void 0:n.split(","),u=(d=(a=(r=this.currFilterEl)===null||r===void 0?void 0:r.dataset)===null||a===void 0?void 0:a.categoriesSecondary)===null||d===void 0?void 0:d.split(",");return this.data&&h?this.data.filter(({category:m})=>{let p=m.join(","),E=h.every(A=>p.indexOf(A)>-1),T=u?u.find(A=>A.split("+").every(f=>p.indexOf(f)>-1)):!0;return E&&T}):[]},this.renderGrid=()=>{let s=document.createElement("div");s.classList.add("mosaic-grid");let o=document.createElement("div");o.classList.add("mosaic-grid-sizer"),s.appendChild(o);let n=document.createElement("div");return n.classList.add("stamp","stamp1"),s.appendChild(n),s},this.renderCard=s=>{let{size:o,layout:n,image:r,tag:a,body:d,button:h}=s,u=document.createElement("div");u.classList.add("mosaic-grid-item"),o&&u.classList.add(`mosaic-grid-item__w-${o}`);let m=document.createElement("div");m.classList.add("mosaic-grid-item__inner"),n?m.classList.add(`mosaic-grid-item__inner-${s.layout}`):m.classList.add("mosaic-grid-item__inner-default"),u.appendChild(m);let p=document.createElement("div");if(p.classList.add("mosaic-grid-item__image"),r&&r.url){let g=document.createElement("div");g.classList.add("mosaic-grid-item__image__container"),p.appendChild(g);let f=document.createElement("img");f.setAttribute("src",r.url),r.altText&&f.setAttribute("alt",r.altText),g.appendChild(f);let w=document.createElement("div");w.classList.add("mosaic-grid-item__image__border"),g.appendChild(w)}m.appendChild(p);let E=document.createElement("div");E.classList.add("mosaic-grid-item__content"),m.appendChild(E);let T=document.createElement("div");if(E.appendChild(T),a){let g=document.createElement("div");g.classList.add("mosaic-grid-item__tag"),g.innerText=a,T.appendChild(g)}let A=document.createElement("div");if(A.classList.add("mosaic-grid-item__body"),d&&(A.innerText=d),T.append(A),h){let g=document.createElement("a");if(g.classList.add("glue-button","glue-button--low-emphasis","button-rotate","glue-button--icon-right"),h!=null&&h.href&&(g.setAttribute("href",h.href),g.setAttribute("target","_blank")),h.label){let f=document.createElement("span");f.classList.add("mosaic-grid-item__button"),f.innerText=h.label;let w=document.createElement("svg");w.setAttribute("role","img"),w.setAttribute("aria-hidden","false"),w.classList.add("glue-icon"),f.appendChild(w),g.appendChild(f);let I=document.createElement("use");I.setAttribute("href","/static/images/icons/glue-icons.svg#arrow-forward"),w.appendChild(I)}E.appendChild(g)}return u},this.alignCards=()=>{this.gridEl.querySelectorAll(".mosaic-grid-item").forEach(o=>{let n=o;n.style.left==="0%"&&n.classList.add("float-right")})},this.newsEl=t,this.articlesEl=t.querySelector(".news__articles");let i=this.renderGrid();this.gridEl=i,this.articlesEl.appendChild(this.gridEl),this.categoryButtonEl=t.querySelector(".news-category--button"),this.categoryActionEl=t.querySelector(".news-category--action"),this.categoryButtonEl.addEventListener("click",this.applyNextFilter)}init(){this.startFeed()}async startFeed(){let t=new li(this.articlesEl.dataset.newsrssurl,{schema:[{nodeName:"title"},{nodeName:"link"},{nodeName:"media:content",nodeAttrs:{medium:"image"},targetAttr:"url",label:"imageUrl"},{nodeName:"media:description",label:"imageAlt"},{nodeName:"pubDate"},{nodeName:"category",hasMultiples:!0}]});this.data=await t.load(),this.applyNextFilter()}};var hi=(e,t,i,s,o=3)=>{if(!e||!matchMedia("(min-width: 1081px)").matches)return;let r=e.querySelector(".columns-50x50__grid__secondary--video"),a=()=>{r.paused&&(r.currentTime=0,r.play())},d=()=>r.pause(),h=e.querySelector(".columns-50x50__grid__primary"),u=e.querySelector(".columns-50x50__grid__secondary"),m=`in-${i}`,p=`out-${i}`,E=`out-${i-1}`;window.gsap.set(e,{opacity:0,zIndex:`${t.length-i+1}`}),window.gsap.set(h,{opacity:0}),window.gsap.set(u,{opacity:0}),s.add(m);let T=32,A=.5;i===0?(s.to(e,{opacity:1,duration:0},"shift-right+=.2"),s.fromTo(h,{yPercent:10,opacity:0},{yPercent:0,opacity:1,duration:A},"shift-right+=.2"),s.fromTo(u,{opacity:0},{opacity:1,duration:A,onStart:a},`${m}-=.2`)):(s.to(e,{opacity:1,duration:0},`${E}-=2`),s.fromTo(u,{x:T+T,y:T+T,opacity:0},{x:T,y:T,opacity:1,duration:A},`${E}-=2`),s.fromTo(u,{x:T,y:T,opacity:.75},{x:0,y:0,opacity:1,duration:A,onStart:a},m),s.fromTo(h,{yPercent:20,opacity:0},{yPercent:0,opacity:1,duration:o},m),s.to(e,{zIndex:`${t.length+1}`,duration:0},m)),s.add("video-play"),s.fromTo(u,{opacity:1},{opacity:1,duration:2,onStart:d,onComplete:d,onUpdate:a},p),s.add(p),i!==t.length-1&&(s.to(h,{yPercent:-20,opacity:0,duration:o},p),s.to(u,{y:-T,x:-T,opacity:0,duration:A,onStart:d}),s.to(e,{zIndex:`${t.length-i+1}`,duration:0},m))};var ji=[{pX:0,pY:-.025,pZ:0,rX:5,rY:2,rZ:-2,sX:.85,sY:.85,sZ:.85,a:1},{pX:0,pY:0,pZ:0,rX:0,rY:0,rZ:0,sX:1,sY:1,sZ:1,a:1}],zs=()=>{let e=document.querySelector(".search-transition");if(!e||!matchMedia("(min-width: 1081px)").matches)return;e.style.height="500vh";let i=e.querySelector(".search-transition__canvas"),s=new ut(ji[0]),o=e.dataset.framepath,n=parseInt(e.dataset.framecount),r=parseInt(e.dataset.framewidth),a=parseInt(e.dataset.frameheight),d=r/a,h={index:0,left:0,top:0,width:0,height:0,scale:1},m=new Tt(e,o,n,1).images,p=e.dataset.phonepath,E=953,T=1991,A=E/T,g={enabled:!1,left:0,top:0,width:0,height:0,scale:1},f=new Image;f.src=p;let w=()=>{I&&(I.clearRect(0,0,i.width,i.height),I.globalCompositeOperation="source-over",I.drawImage(m[h.index],0,0,r,a,(i.width-h.width*h.scale)/2+h.left,(i.height-h.height*h.scale)/2+h.top,h.width*h.scale,h.height*h.scale),s.canvas&&(s.draw(),I.globalCompositeOperation="destination-in",I.drawImage(s.canvas,0,0)),g.enabled&&(I.globalCompositeOperation="destination-in",I.fillStyle="#000000",I.fillRect((i.width-(g.width-25)*g.scale)/2+g.left,(i.height-h.height*h.scale)/2+h.top,(g.width-50)*g.scale,h.height*h.scale),I.globalCompositeOperation="source-over",I.drawImage(f,0,0,E,T,(i.width-g.width*g.scale)/2+g.left,(i.height-g.height*g.scale*.8)/2+g.top,g.width*g.scale,g.height*g.scale)))};m[0].onload=w;var I=i.getContext("2d"),L=!1;function S(){i.width=window.innerWidth,i.height=window.innerHeight,L=i.width/i.height<=d,h.width=L?i.height*d:i.width,h.height=L?i.height:i.width/d,g.width=i.height*A*3,g.height=i.height*3}window.addEventListener("resize",S),S();let C=window.gsap.timeline({defaults:{duration:.7},scrollTrigger:{trigger:e,start:"top top",end:"bottom bottom",scrub:!0,pin:e.querySelector(".search-transition__pin"),onUpdate:w}});C.add("start"),C.fromTo(s.maskTransform,ji[0],ji[1],"start"),C.fromTo(h,{index:0},{index:n-1,duration:3,modifiers:{index:P=>window.gsap.utils.snap(1,P)}},"start"),C.add("phone-in"),C.fromTo(g,{enabled:!1,scale:2},{enabled:!0,scale:1},"phone-in");let V=e.querySelector(".columns-50x50__grid__secondary--video-frame"),M={left:P=>window.gsap.utils.interpolate(0,V.getBoundingClientRect().left-i.width/2+V.getBoundingClientRect().width/2,P),top:P=>P*i.height,scale:P=>window.gsap.utils.interpolate(V.getBoundingClientRect().height/i.height/3,1,P)};C.add("zoom-out"),C.fromTo(h,{scale:1},{scale:0,top:-.0625,modifiers:M},"zoom-out"),C.fromTo(g,{scale:1},{scale:0,top:-.0625,modifiers:M},"zoom-out"),C.add("shift-right"),C.fromTo(h,{left:0},{left:1,modifiers:M},"shift-right"),C.fromTo(g,{left:0},{left:1,modifiers:M},"shift-right"),C.add("canvas-out"),C.to(i,{opacity:0,duration:.2},"canvas-out");let X=e.querySelectorAll(".scroll-in-place--sections .columns-50x50");X.forEach((P,j)=>hi(P,X,j,C))};var wn=[{pX:0,pY:0,pZ:0,rX:0,rY:0,rZ:0,sX:1.1,sY:1.1,sZ:1,a:1}],Ys=()=>{if(!matchMedia("(min-width: 1081px)").matches)return;let t=document.querySelector(".maps-section"),i=t.querySelector(".maps-section__canvas"),s=t.querySelectorAll(".columns-50x50"),o=new ut(wn[0]);t.style.height="500vh";let n=t.dataset.framepath,r=parseInt(t.dataset.framecount),a=parseInt(t.dataset.framewidth),d=parseInt(t.dataset.frameheight),h=a/d,u={index:0,left:0,top:0,width:0,height:0,scale:1},p=new Tt(t,n,r,1).images,E=t.dataset.phonepath,T=1192,A=2488,g=T/A,f={enabled:!1,left:0,top:0,width:0,height:0,scale:1},w=new Image;w.src=E;let I=()=>{L&&(L.clearRect(0,0,i.width,i.height),L.globalCompositeOperation="source-over",L.drawImage(p[u.index],0,0,a,d,(i.width-u.width*u.scale)/2+u.left,(i.height-u.height*u.scale)/2+u.top,u.width*u.scale,u.height*u.scale),o.canvas&&(o.draw(),L.globalCompositeOperation="destination-in",L.drawImage(o.canvas,0,0)),f.enabled&&(L.globalCompositeOperation="destination-in",L.fillStyle="#000000",L.fillRect((i.width-(f.width-25)*f.scale)/2+f.left,(i.height-u.height*u.scale)/2+u.top,(f.width-50)*f.scale,u.height*u.scale),L.globalCompositeOperation="source-over",L.drawImage(w,0,0,T,A,(i.width-f.width*f.scale)/2+f.left,(i.height-f.height*f.scale*.8)/2+f.top,f.width*f.scale,f.height*f.scale)))};p[0].onload=I;var L=i.getContext("2d");let S=!1;function C(){i.width=window.innerWidth,i.height=window.innerHeight,S=i.width/i.height<=h,u.width=S?i.height*h:i.width,u.height=S?i.height:i.width/h,f.width=i.height*g*3,f.height=i.height*3}window.addEventListener("resize",C),C();let V=6,M=2,X=3,P=window.gsap.timeline({scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",scrub:!0,pin:t.querySelector(".maps-section__pin"),onUpdate:I}});P.add("start"),P.fromTo(u,{index:0},{index:r-1,duration:V,modifiers:{index:W=>window.gsap.utils.snap(1,W)}},"start");let j=t.querySelector(".columns-50x50__grid__secondary--video-frame"),Ut=.3,$t=V/2,oe=$t/2,Ft=W=>{let Q=i.width/.35,dt=j.getBoundingClientRect().height/i.height/3,Vt=Q/i.width;return window.gsap.utils.interpolate(dt,Vt,W)},U=W=>{let Q=Ut*window.innerWidth,dt=0,Vt=Q;return window.gsap.utils.interpolate(dt,Vt,W)},J=W=>W*i.height,Et={left:U,top:J,scale:Ft},bt={top:J,left:W=>window.gsap.utils.interpolate(window.innerWidth*-.02,1,W),scale:W=>window.gsap.utils.interpolate(j.getBoundingClientRect().height/i.height/2,1.1,W)};P.fromTo(f,{enabled:!1,scale:1,left:1},{enabled:!0,scale:0,left:0,top:-.0625,modifiers:Et,duration:$t},`phone-in-=${$t}`),P.fromTo(u,{scale:1,left:1},{scale:0,left:0,top:-.0625,modifiers:bt,duration:oe},`phone-in-=${oe}`);let Ge={left:W=>window.gsap.utils.interpolate(0,j.getBoundingClientRect().left-i.width/2+j.getBoundingClientRect().width/2,W)};P.add("shift-right"),P.fromTo(u,{left:0},{left:1,duration:M,modifiers:Ge},"shift-right"),P.fromTo(f,{left:0},{left:1,duration:M,modifiers:Ge},"shift-right"),s.forEach((W,Q)=>{window.gsap.set(W,{opacity:0}),hi(W,s,Q,P,X)}),P.to(i,{opacity:0,duration:.2},`in-0+=${X/2}`)};var In=25,Ln=30,On=0,Sn=-.25,Ks=.5,di=1.1,Xs=0,Ne=[{...be,pY:Sn,rX:In,rY:Ln,rZ:On,sX:Ks,sY:Ks},{...be,sX:di,sY:di},{...be,sX:Xs,sY:Xs}],js=()=>{if(!matchMedia("(min-width: 1081px)").matches)return;let t=document.querySelector(".arcore-section"),i=document.querySelector(".arcore-section__pin__container"),s=t.querySelector(".arcore-section__canvas");i.style.height="500vh";let o=new ut(Ne[0]),n=parseInt(t.dataset.framewidth),r=parseInt(t.dataset.frameheight),a=n/r,d={index:0,left:0,top:0,width:0,height:0,scale:1},h=2048,u=1152,m=h/u,p=t.dataset.bandpath,E=new Image;E.src=p;let T=t.dataset.charspath,A=new Image;A.src=T;let g={index:0,left:0,top:0,width:0,height:0,scale:1},f={index:0,left:0,top:0,width:0,height:0,scale:1,enabled:!0},w=()=>{if(I){I.clearRect(0,0,s.width,s.height);let U=()=>I==null?void 0:I.drawImage(A,0,0,h,u,(s.width-f.width*f.scale)/2+f.left,(s.height-f.height*f.scale)/2+f.top,f.width*f.scale,f.height*f.scale);I.globalCompositeOperation="source-over",I.drawImage(E,0,0,h,u,(s.width-g.width*g.scale)/2+g.left,(s.height-g.height*g.scale)/2+g.top,g.width*g.scale,g.height*g.scale),f.enabled||U(),o.canvas&&(o.draw(),I.globalCompositeOperation="destination-in",I.drawImage(o.canvas,0,0)),I.globalCompositeOperation="source-over",f.enabled&&U()}};A.onload=w,E.onload=w;var I=s.getContext("2d");function L(){s.width=window.innerWidth,s.height=window.innerHeight;let U=s.width/s.height<=a;d.width=U?s.height*a:s.width,d.height=U?s.height:s.width/a;let J=s.width/s.height<=m;g.width=J?s.height*m:s.width,g.height=J?s.height:s.width/m,f.width=J?s.height*m:s.width,f.height=J?s.height:s.width/m}window.addEventListener("resize",L),L();let S=8,C=S*.66,V=S*.34,M=window.gsap.timeline({defaults:{duration:S},ease:"slow",scrollTrigger:{trigger:i,start:"top top",end:"bottom bottom",scrub:!0,pin:t.querySelector(".arcore-section__pin"),onUpdate:w}});M.add("scale-down"),M.add("frame-in","scale-down"),M.add("frame-down",`frame-in+=${C}`);let X=window.gsap.fromTo(f,{top:1,scale:3},{top:0,scale:1,duration:S,ease:"Quad.easeOut",modifiers:{top:U=>{let Et=(f.scale*f.height-window.innerHeight)/2-window.innerHeight/2,bt=0;return window.gsap.utils.interpolate(bt,Et,U)}}}),P=window.gsap.fromTo(g,{top:1,scale:1.5},{top:0,scale:1,duration:S,ease:"Quad.easeOut"}),j=window.gsap.fromTo(o.maskTransform,{...Ne[0]},{...Ne[1],duration:C,ease:"none"}),Ut=window.gsap.fromTo(f,{enabled:!0},{enabled:!1,duration:0}),$t=window.gsap.fromTo(o.maskTransform,{...Ne[1],sX:1,sY:1},{...Ne[2],duration:V,ease:"expo.easeOut",modifiers:{sX:U=>{let J=(window.innerWidth-128)/window.innerWidth,Et=di;return window.gsap.utils.interpolate(J,Et,U)},sY:U=>{let Et=di;return window.gsap.utils.interpolate(.66,Et,U)}}});M.add(X,"scale-down"),M.add(P,"scale-down"),M.add(j,"frame-in"),M.add(Ut,"frame-down"),M.add($t,"frame-down");let oe=t.querySelector(".arcore-section__content .simple-intro__grid__content");Array.from(oe.childNodes).forEach(U=>{let J=window.gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:U,scrub:!0,start:"top 75%",end:"+=12.5%"}}),Et=window.gsap.fromTo(U,{opacity:0,y:50},{opacity:1,y:0,ease:"expo.easeOut"});J.add(Et)})};var Zs=()=>{};var Js=()=>{};var Qs=()=>{let e=document.querySelectorAll(".glue-video");e&&e.forEach(t=>{let i=t;i&&new Ht(i)})};function yn(e,t){let i=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return t===i}function bn(e){return yn(e,"undefined")}function Cn(e){return!bn(e)}function Nn(){return Pn()||Rn()}function Pn(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||xn()}function Rn(){return/Android/i.test(navigator.userAgent)}function xn(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function Dn(e,t){let i=0,s=o=>{let n=window.innerWidth;(!Nn()||i!==n)&&(e(o),i=n)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}var Mn=class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach(i=>{let s=Object.assign({},e);s.on=i,this.addSingleEvent(s)}):this.addSingleEvent(e)}addSingleEvent(e){let t=i=>{e.runWhen?e.runWhen()&&e.callback(i):e.callback(i)};if(e.listener=t,e.on==="smartResize")e.remover=Dn(t,e.eventOptions||{});else if(e.on==="resize"&&e.element!==window){let i=new ResizeObserver(s=>{t(s)});i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if(e.on==="mutation"){let i=new MutationObserver(s=>{t(s)});i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element instanceof MediaQueryList?(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})}):(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})});this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter(t=>{if(t.id&&t.id===e){let i=t.remover;return i&&i(),!1}return t})}removeAll(){this.watcherConfigs.forEach(e=>{let t=e.remover;t&&t()}),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter(i=>i.id&&i.id===e).forEach(i=>{i.callback()&&i.callback()})}dispose(){this.removeAll()}},oo=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise((e,t)=>{this.resolve=i=>(this.complete=!0,e(i)),this.reject=i=>(this.complete=!0,t(i))})}getPromise(){return this.complete?new Promise(e=>{e()}):this.promise}};function to(){return Date.now()}function Bn(e,t){return t-e}function Hn(e,t,i){let s;return function(...o){let n=this,r=()=>{s=void 0,e.apply(n,o)},a=()=>{s=void 0};i||(clearTimeout(s),s=+setTimeout(r,t)),i&&s===void 0&&(e.apply(n,o),s=+setTimeout(a,t))}}function kn(e,t=0,i=100){let s=to(),o,n,r=new Promise((d,h)=>{o=d,n=h}),a=()=>{let d=Bn(s,to());e()?o():t&&d>t?n("Wait until timed out"):setTimeout(a,i)};return a(),r}function Gn(e){return!e.paused&&!e.ended&&e.readyState>2}function Un(e,t=1e4){let i=[];return e.forEach(s=>{let o=new oo;i.push(o.getPromise()),kn(()=>s.readyState===4,t,10).then(()=>{o.resolve()})}),Promise.all(i)}function eo(e,t,i){let s=new CustomEvent(t,{detail:i});e.dispatchEvent(s)}function $n(e){return window.getComputedStyle(e).display==="none"}function no(e){return $n(e)?!0:e.parentElement?no(e.parentElement):!1}var io=class{static inview(e,t={},i){let s=null,o=null,n=null,r=!1,a=new oo,d=()=>({changes:s,lastChange:o,inview:n,ready:r}),h=E=>{E.length>=1&&(s=E,o=E.slice(-1)[0],n=o.isIntersecting,r=!0,a.resolve()),i&&i(e,E.slice(-1)[0],m)},u=window.location.search.split("evBypass=")[1];if(u=u&&u.split("&")[0],u==="true")return window.setTimeout(()=>{i&&i(e,{isIntersecting:!0,isVisible:!0},()=>{}),a.resolve()}),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:a.getPromise()};let m=()=>{p&&p.unobserve(e),p&&p.disconnect(),s=[],o=null},p=new IntersectionObserver(h,t);return p.observe(e),{observer:p,dispose:m,state:d,readyPromise:a.getPromise()}}},so={LOAD_START:"LOAD_START",LOAD_LOADED:"LOAD_LOADED"},ro=class{constructor(e){this.playOnInview=!0,this.el=e,this.video=this.el.parentElement,this.watcher=new Mn,this.watcher.add({element:window,on:"smartResize",callback:Hn(this.onResize.bind(this),500)}),this.watcher.add({element:this.el,on:"force-lazy-load",callback:()=>{this.paint(!0)}});let t=this.el.getAttribute("lazy-video-forward-scalar");this.forwardLoadScalar=Cn(t)?+t:1,this.url=this.el.getAttribute("lazy-video")||"",this.setComplete=!1,this.playOnInview=!this.el.hasAttribute("lazy-video-disable-inview-play"),this.ev=io.inview(this.video,{rootMargin:window.innerHeight*this.forwardLoadScalar+"px"},()=>{this.paint()}),this.inviewEv=io.inview(this.video,{},()=>{this.paint()}),this.ev.readyPromise.then(()=>{this.paint()})}onResize(){this.setComplete||this.paint()}paint(e=!1){(this.isPainted()&&!this.setComplete||e)&&(this.setComplete=!0,this.el.setAttribute("src",this.url),Un([this.video]).then(()=>{eo(this.video,so.LOAD_LOADED,{}),this.playOnInview&&this.playVideo()}),this.video.load(),this.video.setAttribute("load","true"),this.video.pause(),eo(this.video,so.LOAD_START,{}),this.dispose()),this.setComplete&&this.playOnInview&&(!this.isPainted()&&!this.inviewEv.state().inview?(this.video.currentTime=0,this.video.pause()):this.playVideo())}playVideo(){if(!Gn(this.video)){let e=this.video.play();e&&e.catch(()=>{})}}isPainted(){return!no(this.video)&&this.ev.state().inview}dispose(){this.ev.dispose(),this.watcher.dispose()}};var ao=()=>{Array.from(document.querySelectorAll("[lazy-video]")).forEach(t=>{t&&new ro(t)})};var lo=()=>{};var ho=()=>{ys(),Ss(),Os(),Cs(),Fs(),Vs(),Qs(),ao(),ks(),$s(),qs(),Js(),zs(),Ys(),lo(),bs(),Zs(),js(),Ps(),window.addEventListener("resize",()=>{requestAnimationFrame(()=>{window.ScrollTrigger.refresh(!0)})}),window.ScrollTrigger.refresh(!0)};var ci=window,ui=ci.ShadowRoot&&(ci.ShadyCSS===void 0||ci.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Zi=Symbol(),co=new WeakMap,Pe=class{constructor(t,i,s){if(this._$cssResult$=!0,s!==Zi)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o,i=this.t;if(ui&&t===void 0){let s=i!==void 0&&i.length===1;s&&(t=co.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&co.set(i,t))}return t}toString(){return this.cssText}},uo=e=>new Pe(typeof e=="string"?e:e+"",void 0,Zi),Re=(e,...t)=>{let i=e.length===1?e[0]:t.reduce((s,o,n)=>s+(r=>{if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+e[n+1],e[0]);return new Pe(i,e,Zi)},Ji=(e,t)=>{ui?e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet):t.forEach(i=>{let s=document.createElement("style"),o=ci.litNonce;o!==void 0&&s.setAttribute("nonce",o),s.textContent=i.cssText,e.appendChild(s)})},pi=ui?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(let s of t.cssRules)i+=s.cssText;return uo(i)})(e):e;var Qi,mi=window,po=mi.trustedTypes,Fn=po?po.emptyScript:"",mo=mi.reactiveElementPolyfillSupport,es={toAttribute(e,t){switch(t){case Boolean:e=e?Fn:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},Eo=(e,t)=>t!==e&&(t==t||e==e),ts={attribute:!0,type:String,converter:es,reflect:!1,hasChanged:Eo},yt=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var i;this.finalize(),((i=this.h)!==null&&i!==void 0?i:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((i,s)=>{let o=this._$Ep(s,i);o!==void 0&&(this._$Ev.set(o,s),t.push(o))}),t}static createProperty(t,i=ts){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){let s=typeof t=="symbol"?Symbol():"__"+t,o=this.getPropertyDescriptor(t,s,i);o!==void 0&&Object.defineProperty(this.prototype,t,o)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(o){let n=this[t];this[i]=o,this.requestUpdate(t,n,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||ts}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let i=this.properties,s=[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)];for(let o of s)this.createProperty(o,i[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let i=[];if(Array.isArray(t)){let s=new Set(t.flat(1/0).reverse());for(let o of s)i.unshift(pi(o))}else t!==void 0&&i.push(pi(t));return i}static _$Ep(t,i){let s=i.attribute;return s===!1?void 0:typeof s=="string"?s:typeof t=="string"?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(i=>i(this))}addController(t){var i,s;((i=this._$ES)!==null&&i!==void 0?i:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((s=t.hostConnected)===null||s===void 0||s.call(t))}removeController(t){var i;(i=this._$ES)===null||i===void 0||i.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])})}createRenderRoot(){var t;let i=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return Ji(i,this.constructor.elementStyles),i}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(i=>{var s;return(s=i.hostConnected)===null||s===void 0?void 0:s.call(i)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(i=>{var s;return(s=i.hostDisconnected)===null||s===void 0?void 0:s.call(i)})}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$EO(t,i,s=ts){var o;let n=this.constructor._$Ep(t,s);if(n!==void 0&&s.reflect===!0){let r=(((o=s.converter)===null||o===void 0?void 0:o.toAttribute)!==void 0?s.converter:es).toAttribute(i,s.type);this._$El=t,r==null?this.removeAttribute(n):this.setAttribute(n,r),this._$El=null}}_$AK(t,i){var s;let o=this.constructor,n=o._$Ev.get(t);if(n!==void 0&&this._$El!==n){let r=o.getPropertyOptions(n),a=typeof r.converter=="function"?{fromAttribute:r.converter}:((s=r.converter)===null||s===void 0?void 0:s.fromAttribute)!==void 0?r.converter:es;this._$El=n,this[n]=a.fromAttribute(i,r.type),this._$El=null}}requestUpdate(t,i,s){let o=!0;t!==void 0&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||Eo)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),s.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,s))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(i){Promise.reject(i)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((o,n)=>this[n]=o),this._$Ei=void 0);let i=!1,s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),(t=this._$ES)===null||t===void 0||t.forEach(o=>{var n;return(n=o.hostUpdate)===null||n===void 0?void 0:n.call(o)}),this.update(s)):this._$Ek()}catch(o){throw i=!1,this._$Ek(),o}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;(i=this._$ES)===null||i===void 0||i.forEach(s=>{var o;return(o=s.hostUpdated)===null||o===void 0?void 0:o.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((i,s)=>this._$EO(s,this[s],i)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};yt.finalized=!0,yt.elementProperties=new Map,yt.elementStyles=[],yt.shadowRootOptions={mode:"open"},mo?.({ReactiveElement:yt}),((Qi=mi.reactiveElementVersions)!==null&&Qi!==void 0?Qi:mi.reactiveElementVersions=[]).push("1.4.2");var is,Ei=window,ue=Ei.trustedTypes,fo=ue?ue.createPolicy("lit-html",{createHTML:e=>e}):void 0,os="$lit$",kt=`lit$${(Math.random()+"").slice(9)}$`,Io="?"+kt,Vn=`<${Io}>`,pe=document,De=()=>pe.createComment(""),Me=e=>e===null||typeof e!="object"&&typeof e!="function",Lo=Array.isArray,Wn=e=>Lo(e)||typeof e?.[Symbol.iterator]=="function",ss=`[ 	
\f\r]`,xe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,go=/-->/g,vo=/>/g,Jt=RegExp(`>|${ss}(?:([^\\s"'>=/]+)(${ss}*=${ss}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ao=/'/g,To=/"/g,Oo=/^(?:script|style|textarea|title)$/i,So=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),pt=So(1),Jp=So(2),Qt=Symbol.for("lit-noChange"),H=Symbol.for("lit-nothing"),_o=new WeakMap,ce=pe.createTreeWalker(pe,129,null,!1),qn=(e,t)=>{let i=e.length-1,s=[],o,n=t===2?"<svg>":"",r=xe;for(let d=0;d<i;d++){let h=e[d],u,m,p=-1,E=0;for(;E<h.length&&(r.lastIndex=E,m=r.exec(h),m!==null);)E=r.lastIndex,r===xe?m[1]==="!--"?r=go:m[1]!==void 0?r=vo:m[2]!==void 0?(Oo.test(m[2])&&(o=RegExp("</"+m[2],"g")),r=Jt):m[3]!==void 0&&(r=Jt):r===Jt?m[0]===">"?(r=o??xe,p=-1):m[1]===void 0?p=-2:(p=r.lastIndex-m[2].length,u=m[1],r=m[3]===void 0?Jt:m[3]==='"'?To:Ao):r===To||r===Ao?r=Jt:r===go||r===vo?r=xe:(r=Jt,o=void 0);let T=r===Jt&&e[d+1].startsWith("/>")?" ":"";n+=r===xe?h+Vn:p>=0?(s.push(u),h.slice(0,p)+os+h.slice(p)+kt+T):h+kt+(p===-2?(s.push(void 0),d):T)}let a=n+(e[i]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[fo!==void 0?fo.createHTML(a):a,s]},te=class{constructor({strings:t,_$litType$:i},s){let o;this.parts=[];let n=0,r=0,a=t.length-1,d=this.parts,[h,u]=qn(t,i);if(this.el=te.createElement(h,s),ce.currentNode=this.el.content,i===2){let m=this.el.content,p=m.firstChild;p.remove(),m.append(...p.childNodes)}for(;(o=ce.nextNode())!==null&&d.length<a;){if(o.nodeType===1){if(o.hasAttributes()){let m=[];for(let p of o.getAttributeNames())if(p.endsWith(os)||p.startsWith(kt)){let E=u[r++];if(m.push(p),E!==void 0){let T=o.getAttribute(E.toLowerCase()+os).split(kt),A=/([.?@])?(.*)/.exec(E);d.push({type:1,index:n,name:A[2],strings:T,ctor:A[1]==="."?rs:A[1]==="?"?as:A[1]==="@"?ls:Ee})}else d.push({type:6,index:n})}for(let p of m)o.removeAttribute(p)}if(Oo.test(o.tagName)){let m=o.textContent.split(kt),p=m.length-1;if(p>0){o.textContent=ue?ue.emptyScript:"";for(let E=0;E<p;E++)o.append(m[E],De()),ce.nextNode(),d.push({type:2,index:++n});o.append(m[p],De())}}}else if(o.nodeType===8)if(o.data===Io)d.push({type:2,index:n});else{let m=-1;for(;(m=o.data.indexOf(kt,m+1))!==-1;)d.push({type:7,index:n}),m+=kt.length-1}n++}}static createElement(t,i){let s=pe.createElement("template");return s.innerHTML=t,s}};function me(e,t,i=e,s){var o,n,r,a;if(t===Qt)return t;let d=s!==void 0?(o=i._$Co)===null||o===void 0?void 0:o[s]:i._$Cl,h=Me(t)?void 0:t._$litDirective$;return d?.constructor!==h&&((n=d?._$AO)===null||n===void 0||n.call(d,!1),h===void 0?d=void 0:(d=new h(e),d._$AT(e,i,s)),s!==void 0?((r=(a=i)._$Co)!==null&&r!==void 0?r:a._$Co=[])[s]=d:i._$Cl=d),d!==void 0&&(t=me(e,d._$AS(e,t.values),d,s)),t}var ns=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;let{el:{content:s},parts:o}=this._$AD,n=((i=t?.creationScope)!==null&&i!==void 0?i:pe).importNode(s,!0);ce.currentNode=n;let r=ce.nextNode(),a=0,d=0,h=o[0];for(;h!==void 0;){if(a===h.index){let u;h.type===2?u=new ee(r,r.nextSibling,this,t):h.type===1?u=new h.ctor(r,h.name,h.strings,this,t):h.type===6&&(u=new hs(r,this,t)),this._$AV.push(u),h=o[++d]}a!==h?.index&&(r=ce.nextNode(),a++)}return n}v(t){let i=0;for(let s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}},ee=class{constructor(t,i,s,o){var n;this.type=2,this._$AH=H,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=o,this._$Cp=(n=o?.isConnected)===null||n===void 0||n}get _$AU(){var t,i;return(i=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&i!==void 0?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode,i=this._$AM;return i!==void 0&&t?.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=me(this,t,i),Me(t)?t===H||t==null||t===""?(this._$AH!==H&&this._$AR(),this._$AH=H):t!==this._$AH&&t!==Qt&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Wn(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==H&&Me(this._$AH)?this._$AA.nextSibling.data=t:this.$(pe.createTextNode(t)),this._$AH=t}g(t){var i;let{values:s,_$litType$:o}=t,n=typeof o=="number"?this._$AC(t):(o.el===void 0&&(o.el=te.createElement(o.h,this.options)),o);if(((i=this._$AH)===null||i===void 0?void 0:i._$AD)===n)this._$AH.v(s);else{let r=new ns(n,this),a=r.u(this.options);r.v(s),this.$(a),this._$AH=r}}_$AC(t){let i=_o.get(t.strings);return i===void 0&&_o.set(t.strings,i=new te(t)),i}T(t){Lo(this._$AH)||(this._$AH=[],this._$AR());let i=this._$AH,s,o=0;for(let n of t)o===i.length?i.push(s=new ee(this.k(De()),this.k(De()),this,this.options)):s=i[o],s._$AI(n),o++;o<i.length&&(this._$AR(s&&s._$AB.nextSibling,o),i.length=o)}_$AR(t=this._$AA.nextSibling,i){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,i);t&&t!==this._$AB;){let o=t.nextSibling;t.remove(),t=o}}setConnected(t){var i;this._$AM===void 0&&(this._$Cp=t,(i=this._$AP)===null||i===void 0||i.call(this,t))}},Ee=class{constructor(t,i,s,o,n){this.type=1,this._$AH=H,this._$AN=void 0,this.element=t,this.name=i,this._$AM=o,this.options=n,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=H}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,o){let n=this.strings,r=!1;if(n===void 0)t=me(this,t,i,0),r=!Me(t)||t!==this._$AH&&t!==Qt,r&&(this._$AH=t);else{let a=t,d,h;for(t=n[0],d=0;d<n.length-1;d++)h=me(this,a[s+d],i,d),h===Qt&&(h=this._$AH[d]),r||(r=!Me(h)||h!==this._$AH[d]),h===H?t=H:t!==H&&(t+=(h??"")+n[d+1]),this._$AH[d]=h}r&&!o&&this.j(t)}j(t){t===H?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},rs=class extends Ee{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===H?void 0:t}},zn=ue?ue.emptyScript:"",as=class extends Ee{constructor(){super(...arguments),this.type=4}j(t){t&&t!==H?this.element.setAttribute(this.name,zn):this.element.removeAttribute(this.name)}},ls=class extends Ee{constructor(t,i,s,o,n){super(t,i,s,o,n),this.type=5}_$AI(t,i=this){var s;if((t=(s=me(this,t,i,0))!==null&&s!==void 0?s:H)===Qt)return;let o=this._$AH,n=t===H&&o!==H||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,r=t!==H&&(o===H||n);n&&this.element.removeEventListener(this.name,this,o),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;typeof this._$AH=="function"?this._$AH.call((s=(i=this.options)===null||i===void 0?void 0:i.host)!==null&&s!==void 0?s:this.element,t):this._$AH.handleEvent(t)}},hs=class{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){me(this,t)}};var wo=Ei.litHtmlPolyfillSupport;wo?.(te,ee),((is=Ei.litHtmlVersions)!==null&&is!==void 0?is:Ei.litHtmlVersions=[]).push("2.7.2");var yo=(e,t,i)=>{var s,o;let n=(s=i?.renderBefore)!==null&&s!==void 0?s:t,r=n._$litPart$;if(r===void 0){let a=(o=i?.renderBefore)!==null&&o!==void 0?o:null;n._$litPart$=r=new ee(t.insertBefore(De(),a),a,void 0,i??{})}return r._$AI(e),r};var ds,cs;var at=class extends yt{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,i;let s=super.createRenderRoot();return(t=(i=this.renderOptions).renderBefore)!==null&&t!==void 0||(i.renderBefore=s.firstChild),s}update(t){let i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=yo(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return Qt}};at.finalized=!0,at._$litElement$=!0,(ds=globalThis.litElementHydrateSupport)===null||ds===void 0||ds.call(globalThis,{LitElement:at});var bo=globalThis.litElementPolyfillSupport;bo?.({LitElement:at});((cs=globalThis.litElementVersions)!==null&&cs!==void 0?cs:globalThis.litElementVersions=[]).push("3.2.2");var fe=e=>e??H;var Yn=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(i){i.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function D(e){return(t,i)=>i!==void 0?((s,o,n)=>{o.constructor.createProperty(n,s)})(e,t,i):Yn(e,t)}var ie=({finisher:e,descriptor:t})=>(i,s)=>{var o;if(s===void 0){let n=(o=i.originalKey)!==null&&o!==void 0?o:i.key,r=t!=null?{kind:"method",placement:"prototype",key:n,descriptor:t(i.key)}:{...i,key:n};return e!=null&&(r.finisher=function(a){e(a,n)}),r}{let n=i.constructor;t!==void 0&&Object.defineProperty(i,s,t(s)),e?.(n,s)}};function _t(e,t){return ie({descriptor:i=>{let s={get(){var o,n;return(n=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&n!==void 0?n:null},enumerable:!0,configurable:!0};if(t){let o=typeof i=="symbol"?Symbol():"__"+i;s.get=function(){var n,r;return this[o]===void 0&&(this[o]=(r=(n=this.renderRoot)===null||n===void 0?void 0:n.querySelector(e))!==null&&r!==void 0?r:null),this[o]}}return s}})}var us,Cm=((us=window.HTMLSlotElement)===null||us===void 0?void 0:us.prototype.assignedElements)!=null?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(i=>i.nodeType===Node.ELEMENT_NODE);var Kn=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor,wt=(e,t,i,s)=>{for(var o=s>1?void 0:s?Xn(t,i):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(s?r(t,i,o):r(o))||o);return s&&o&&Kn(t,i,o),o};function jn(){return Zn()||Jn()}function Zn(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||Qn()}function Jn(){return/Android/i.test(navigator.userAgent)}function Qn(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function tr(e,t){let i=0,s=o=>{let n=window.innerWidth;(!jn()||i!==n)&&(e(o),i=n)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}var er=class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach(i=>{let s=Object.assign({},e);s.on=i,this.addSingleEvent(s)}):this.addSingleEvent(e)}addSingleEvent(e){let t=i=>{e.runWhen?e.runWhen()&&e.callback(i):e.callback(i)};if(e.listener=t,e.on==="smartResize")e.remover=tr(t,e.eventOptions||{});else if(e.on==="resize"&&e.element!==window){let i=new ResizeObserver(s=>{t(s)});i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if(e.on==="mutation"){let i=new MutationObserver(s=>{t(s)});i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element instanceof MediaQueryList?(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})}):(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})});this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter(t=>{if(t.id&&t.id===e){let i=t.remover;return i&&i(),!1}return t})}removeAll(){this.watcherConfigs.forEach(e=>{let t=e.remover;t&&t()}),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter(i=>i.id&&i.id===e).forEach(i=>{i.callback()&&i.callback()})}dispose(){this.removeAll()}};function ir(e,t,i){let s;return function(...o){let n=this,r=()=>{s=void 0,e.apply(n,o)},a=()=>{s=void 0};i||(clearTimeout(s),s=+setTimeout(r,t)),i&&s===void 0&&(e.apply(n,o),s=+setTimeout(a,t))}}var sr=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise((e,t)=>{this.resolve=i=>(this.complete=!0,e(i)),this.reject=i=>(this.complete=!0,t(i))})}getPromise(){return this.complete?new Promise(e=>{e()}):this.promise}};function or(e){return window.getComputedStyle(e).display==="none"}function Co(e){return or(e)?!0:e.parentElement?Co(e.parentElement):!1}var nr=class{static inview(e,t={},i){let s=null,o=null,n=null,r=!1,a=new sr,d=()=>({changes:s,lastChange:o,inview:n,ready:r}),h=E=>{E.length>=1&&(s=E,o=E.slice(-1)[0],n=o.isIntersecting,r=!0,a.resolve()),i&&i(e,E.slice(-1)[0],m)},u=window.location.search.split("evBypass=")[1];if(u=u&&u.split("&")[0],u==="true")return window.setTimeout(()=>{i&&i(e,{isIntersecting:!0,isVisible:!0},()=>{}),a.resolve()}),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:a.getPromise()};let m=()=>{p&&p.unobserve(e),p&&p.disconnect(),s=[],o=null},p=new IntersectionObserver(h,t);return p.observe(e),{observer:p,dispose:m,state:d,readyPromise:a.getPromise()}}},mt=class extends at{constructor(){super(),this.disableEager=!1,this.maxDpr=window.devicePixelRatio,this.autoRenderWidth=0,this.loading="lazy"}connectedCallback(){super.connectedCallback(),this.watcher=new er,this.googleParams=this.googleParams?"-"+this.googleParams:"",this.disableEager=this.getAttribute("disable-eager")==="true",this.isGoogleImage=this.src&&!this.src.includes(".svg")&&this.src.startsWith("https://lh3.googleusercontent.com")&&!this.src.includes("="),this.isGoogleImage&&(this.watcher.add({element:this,on:"resize",callback:ir(this.onResize.bind(this),100)}),this.onResize()),nr.inview(this,{threshold:0},(e,t,i)=>{t.isIntersecting&&!Co(this)&&!this.disableEager&&(this.loading="eager"),i()})}onResize(){let e=this.querySelector("img"),t=Math.ceil(Math.max(this.offsetWidth,e?e.offsetWidth:0)/50)*50,i=Math.ceil(Math.max(this.offsetHeight,e?e.offsetHeight:0)/50)*50;this.autoRenderWidth=Math.max(this.autoRenderWidth,Math.ceil(Math.max(t,i)*(this.googleImageScalar||1)*Math.min(window.devicePixelRatio,this.maxDpr)))}disconnectedCallback(){super.disconnectedCallback(),this.watcher&&this.watcher.dispose()}createRenderRoot(){return this}renderImage(e){return pt`
      <img
        loading="${this.loading}"
        width=${fe(this.aspectRatioWidth?this.aspectRatioWidth:null)}
        height=${fe(this.aspectRatioHeight?this.aspectRatioHeight:null)}
        src="${e}"
        alt="${this.alt}"
      />
    `}render(){return pt`
      ${this.isGoogleImage?this.autoRenderWidth===0?H:this.renderImage(this.src+`=rw-e365-w${this.autoRenderWidth}${this.googleParams}`):this.renderImage(this.src)}
    `}};wt([D({type:String,attribute:"src"})],mt.prototype,"src",2);wt([D({type:String,attribute:"alt"})],mt.prototype,"alt",2);wt([D({type:String,attribute:"loading"})],mt.prototype,"loading",2);wt([D({type:String,attribute:"width"})],mt.prototype,"aspectRatioWidth",2);wt([D({type:String,attribute:"height"})],mt.prototype,"aspectRatioHeight",2);wt([D({type:String,attribute:"google-params"})],mt.prototype,"googleParams",2);wt([D({type:Boolean,attribute:"disable-eager"})],mt.prototype,"disableEager",2);wt([D({type:Number,attribute:"max-dpr"})],mt.prototype,"maxDpr",2);wt([D()],mt.prototype,"autoRenderWidth",2);wt([D({type:String,attribute:"google-image-scalar"})],mt.prototype,"googleImageScalar",2);var rr=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,vt=(e,t,i,s)=>{for(var o=s>1?void 0:s?ar(t,i):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(s?r(t,i,o):r(o))||o);return s&&o&&rr(t,i,o),o};function fi(e){return e}function fs(e){return Object.is(e,-0)?0:e}function Be(e,t,i){return Math.min(Math.max(i,e),t)}function ps(e){return e*(Math.PI/180)}function ge(e){return e*180/Math.PI}function lr(e){return Be(0,1,fs(e))}function hr(e){return lr(e)}function ke(e,t,i){let s=hr(i);return(1-s)*e+s*t}function dr(e,t,i,s=fi){return i=s(i),ke(e,t,i)}function ms(e,t,i,s){return ke(e,t,1-Math.exp(-i*s))}function ve(e,t,i,s=fi){return dr(e,t,i,s)}var Ro=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.complete=!1,this.promise=new Promise((e,t)=>{this.resolve=i=>(this.complete=!0,e(i)),this.reject=i=>(this.complete=!0,t(i))})}getPromise(){return this.complete?new Promise(e=>{e()}):this.promise}};function cr(){return ur()||pr()}function ur(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||mr()}function pr(){return/Android/i.test(navigator.userAgent)}function mr(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function No(){return Date.now()}function Er(e,t){return t-e}function fr(e,t,i){let s;return function(...o){let n=this,r=()=>{s=void 0,e.apply(n,o)},a=()=>{s=void 0};i||(clearTimeout(s),s=+setTimeout(r,t)),i&&s===void 0&&(e.apply(n,o),s=+setTimeout(a,t))}}function gr(e,t=0,i=100){let s=No(),o,n,r=new Promise((d,h)=>{o=d,n=h}),a=()=>{let d=Er(s,No());e()?o():t&&d>t?n("Wait until timed out"):setTimeout(a,i)};return a(),r}function vr(e,t){let i=0,s=o=>{let n=window.innerWidth;(!cr()||i!==n)&&(e(o),i=n)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}var Ar=class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach(i=>{let s=Object.assign({},e);s.on=i,this.addSingleEvent(s)}):this.addSingleEvent(e)}addSingleEvent(e){let t=i=>{e.runWhen?e.runWhen()&&e.callback(i):e.callback(i)};if(e.listener=t,e.on==="smartResize")e.remover=vr(t,e.eventOptions||{});else if(e.on==="resize"&&e.element!==window){let i=new ResizeObserver(s=>{t(s)});i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if(e.on==="mutation"){let i=new MutationObserver(s=>{t(s)});i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element instanceof MediaQueryList?(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})}):(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})});this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter(t=>{if(t.id&&t.id===e){let i=t.remover;return i&&i(),!1}return t})}removeAll(){this.watcherConfigs.forEach(e=>{let t=e.remover;t&&t()}),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter(i=>i.id&&i.id===e).forEach(i=>{i.callback()&&i.callback()})}dispose(){this.removeAll()}};function Po(e){return!e.paused&&!e.ended&&e.readyState>2}function Tr(e,t=1e4){let i=[];return e.forEach(s=>{let o=new Ro;i.push(o.getPromise()),gr(()=>s.readyState===4,t,10).then(()=>{o.resolve()})}),Promise.all(i)}function Es(e,t,i){let s=new CustomEvent(t,{detail:i});e.dispatchEvent(s)}function _r(e){return window.getComputedStyle(e).display==="none"}function xo(e){return _r(e)?!0:e.parentElement?xo(e.parentElement):!1}var gs=class{static inview(e,t={},i){let s=null,o=null,n=null,r=!1,a=new Ro,d=()=>({changes:s,lastChange:o,inview:n,ready:r}),h=E=>{E.length>=1&&(s=E,o=E.slice(-1)[0],n=o.isIntersecting,r=!0,a.resolve()),i&&i(e,E.slice(-1)[0],m)},u=window.location.search.split("evBypass=")[1];if(u=u&&u.split("&")[0],u==="true")return window.setTimeout(()=>{i&&i(e,{isIntersecting:!0,isVisible:!0},()=>{}),a.resolve()}),{observer:null,dispose:()=>{},state:()=>({ready:!0,inview:!0}),readyPromise:a.getPromise()};let m=()=>{p&&p.unobserve(e),p&&p.disconnect(),s=[],o=null},p=new IntersectionObserver(h,t);return p.observe(e),{observer:p,dispose:m,state:d,readyPromise:a.getPromise()}}},wr=class{constructor(e){this.isReadWriteOnly=!1,this.callbacks=[],this.isDisposed=!1,this.raf_=null,this.frame=null,this.lastUpdateTime=0,this.fps=0,this.currentFps=0,this.isPlaying=!1,this.isRunningRaf=!1,this.callbacks=[],this.runCondition=null,this.delta=0,this.elaspedTime=0,this.startTime=0,e?this.watch(e):this.isReadWriteOnly=!0,window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.register(this)}watch(e){this.callbacks.push(e)}setReadWriteMode(e){this.isReadWriteOnly=e}preRead(e){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePreRead({callback:e,raf:this})}read(e){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:e,raf:this})}waitRead(){return new Promise(e=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeRead({callback:()=>{e()},raf:this})})}write(e){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:e,raf:this})}waitWrite(){return new Promise(e=>{window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimeWrite({callback:()=>{e()},raf:this})})}postWrite(e){window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.addOneTimePostWrite({callback:e,raf:this})}unwatch(e){this.callbacks=this.callbacks.filter(t=>t===e)}runWhen(e){this.runCondition=e}runWhenElementIsInview(e,t){return this.ev&&this.ev.dispose(),this.runCondition=null,this.ev=gs.inview(e,t||{}),this.runWhen(()=>this.ev&&this.ev.state().inview),this.ev.readyPromise}setFps(e){this.fps=e}start(e=!1){!e&&this.isPlaying||(this.startTime=(typeof performance>"u"?Date:performance).now(),this.animationLoop_(),this.isPlaying=!0)}stop(){this.isPlaying=!1,window.cancelAnimationFrame(this.raf_),this.isRunningRaf=!1}dispose(){this.ev&&this.ev.dispose(),this.callbacks=[],this.isDisposed=!0,this.stop(),window.DEGU_RAF_REGISTRY&&window.DEGU_RAF_REGISTRY.unregister(this)}getDelta(e){return e?this.delta/1e3:this.delta}getElapsedTime(){return this.elaspedTime}getStartTime(){return this.startTime}getCurrentFps(){return this.currentFps}animationLoop_(){if(!this.isRunningRaf){if(this.raf_=window.requestAnimationFrame(e=>{this.frame=e,this.isRunningRaf=!1,this.animationLoop_()}),this.isRunningRaf=!0,this.lastUpdateTime){let t=Date.now()-this.lastUpdateTime;this.delta=t,this.elaspedTime+=t/1e3;let i=this.fps===0?0:1e3/this.fps;this.currentFps=1e3/t,t>i&&(this.callbacks&&this.callbacks.forEach(s=>{let o=()=>{s(this.frame,this.lastUpdateTime,t,()=>{this.stop()})};this.runCondition?this.runCondition()&&o():o()}),this.lastUpdateTime=Date.now())}this.lastUpdateTime||(this.lastUpdateTime=Date.now())}}},He=class{constructor(){this.flushScheduled=!1,this.preReads=[],this.reads=[],this.writes=[],this.postWrites=[],this.rafs=[]}static runRafCallbacks(e){for(;e.length;){let t=e.splice(0,1)[0];!t.raf.isDisposed&&(t.raf.isPlaying||t.raf.isReadWriteOnly)&&t.callback()}}start(){this.flushScheduled||(this.flushScheduled=!0,requestAnimationFrame(()=>{this.runRaf()}))}runRaf(){window.DEGU_RAF_REGISTRY_DEBUG&&console.log("Running raf",this.reads.length,this.writes.length),He.runRafCallbacks(this.preReads),He.runRafCallbacks(this.reads),He.runRafCallbacks(this.writes),He.runRafCallbacks(this.postWrites),this.flushScheduled=!1,(this.preReads.length||this.reads.length||this.writes.length||this.postWrites.length)&&this.start()}addOneTimePreRead(e){this.preReads.push(e),this.start()}addOneTimeRead(e){this.reads.push(e),this.start()}addOneTimeWrite(e){this.writes.push(e),this.start()}addOneTimePostWrite(e){this.postWrites.push(e),this.start()}getActiveRafCount(){return this.rafs.filter(e=>e.isPlaying).length}getRafCount(){return this.rafs.length}register(e){this.rafs.push(e)}unregister(e){this.rafs=this.rafs.filter(t=>t===e)}};typeof window<"u"&&!window.DEGU_RAF_REGISTRY&&(window.DEGU_RAF_REGISTRY=new He);var x=class{constructor(e=0,t=0,i=0,s=0){this.x=e||0,this.y=t||0,this.z=i||0,this.w=s||0}clone(){return new x(this.x,this.y,this.z)}static clone(e){return new x(e.x,e.y,e.z)}set(e,t,i=0){return this.x=e,this.y=t,this.z=i,this}floor(){return this.x=~~this.x,this.y=~~this.y,this.z=~~this.z,this}int(){return this.x=this.x>>0,this.y=this.y>>0,this.z=this.z>>0,this}equals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toArray(){return[this.x,this.y,this.z]}static toArray(e){return[e.x,e.y,e.z]}static fromArray(e){return new x(e[0],e[1],e[2])}static create(e,t,i=0){return new x(e,t,i)}static fromAngle(e,t=1e5){return new x(t*Math.cos(e),t*Math.sin(e),0)}static angle2d(e,t){let i=e.x-t.x,s=e.y-t.y;return Math.atan2(s,i)}static getXyzRotationTo(e,t){let i=e.clone().subtract(t),s=Math.atan(i.x),o=Math.atan(i.y),n=Math.atan(i.z);return[s,o,n]}static getEularRotationTo(e,t){let i=e.clone().normalize().subtract(t.clone().normalize()),s=-Math.atan(i.x),o=Math.atan(i.y),n=-Math.atan(i.z);return new x(ge(s),ge(o),ge(n))}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this}static add(e,t){let i=e.x+t.x,s=e.y+t.y,o=e.z+t.z;return new x(i,s,o)}subtract(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this}static subtract(e,t){let i=e.x-t.x,s=e.y-t.y,o=e.z-t.z;return new x(i,s,o)}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this}scale(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this):x.ZERO}negate(){return this.x=-this.x,this.y=-this.y,this.z=fs(-this.z),this}static negate(e){let t=-e.x,i=-e.y,s=fs(-e.z);return new x(t,i,s)}distance(e){let t=e.x-this.x,i=e.y-this.y,s=e.z-this.z||0;return Math.sqrt(t*t+i*i+s*s)}length(){let e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}magnitude(){return this.length()}normalize(){let e=this.x,t=this.y,i=this.z,s=e*e+t*t+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=e*s,this.y=t*s,this.z=i*s),this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){let t=this.x,i=this.y,s=this.z,o=e.x,n=e.y,r=e.z;return this.x=i*r-s*n,this.y=s*o-t*r,this.z=t*n-i*o,this}transformWithMatrixIV(e){let t=this.x,i=this.y,s=this.z,o=e.value,n=t*o[0]+i*o[4]+s*o[8]+o[12],r=t*o[1]+i*o[5]+s*o[9]+o[13],a=t*o[2]+i*o[6]+s*o[10]+o[14],d=t*o[3]+i*o[7]+s*o[11]+o[15];return d=d||1,this.x=n/d,this.y=r/d,this.z=a/d,new x(this.x,this.y,this.z)}transformWithMatrixIVTo2d(e){return this.transformWithMatrixIV(e).set(this.x,this.y,0)}lerp(e,t=0){return this.x=ke(this.x,e.x,t),this.y=ke(this.y,e.y,t),this.z=ke(this.z,e.z,t),this}damp(e,t=0,i){return this.x=ms(this.x,e.x,t,i),this.y=ms(this.y,e.y,t,i),this.z=ms(this.z,e.z,t,i),this}ease(e,t=0,i=fi){return this.x=ve(this.x,e.x,t,i),this.y=ve(this.y,e.y,t,i),this.z=ve(this.z,e.z,t,i),this}static ease(e,t,i=0,s=fi){let o=ve(e.x,t.x,i,s),n=ve(e.y,t.y,i,s),r=ve(e.z,t.z,i,s);return new x(o,n,r)}static min(e,t){return new x(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.min(e.z,t.z))}static max(e,t){return new x(Math.max(e.x,t.x),Math.max(e.y,t.y),Math.max(e.z,t.z))}static degreeToRadians(e){return new x(ps(e.x),ps(e.y),ps(e.z))}degreeToRadians(){return x.degreeToRadians(this)}static clamp(e,t,i){return new x(Be(e.x,t.x,i.x),Be(e.y,t.y,i.y),Be(e.z,t.z,i.z))}static fromRotationMatrixIV(e){let t=x.ZERO,i=e.value,s=i[0],o=i[4],n=i[8],r=i[1],a=i[5],d=i[9],h=i[2],u=i[6],m=i[10];return t.y=Math.asin(Be(-1,1,n)),Math.abs(n)<.9999999?(t.x=Math.atan2(-d,m),t.z=Math.atan2(-o,s)):(t.x=Math.atan2(u,a),t.z=0),t.x=ge(t.x),t.y=ge(t.y),t.z=ge(t.z),t}static get ZERO(){return new x(0,0,0)}static get ONE(){return new x(1,1,1)}static get RIGHT(){return new x(1,0,0)}static get LEFT(){return new x(-1,0,0)}static get UP(){return new x(0,-1,0)}static get DOWN(){return new x(0,1,0)}static get FORWARD(){return new x(0,0,1)}static get BACK(){return new x(0,0,-1)}};function Ir(e){let t=e.r,i=e.g,s=e.b;return"#"+((1<<24)+(t<<16)+(i<<8)+s).toString(16).slice(1).toUpperCase()}function Lr(e,t){let i=e.getImageData(t.x,t.y,1,1).data;return{r:i[0],g:i[1],b:i[2]}}function Or(e,t){let i=Lr(e,t);return Ir(i)}var Ae=class extends at{constructor(){super(...arguments),this.loadScalar=2,this.autoplayInview=!1,this.hasStartedLoad=!1,this.hasLoaded=!1,this.canvasReady=!1}connectedCallback(){super.connectedCallback(),this.canvas=!!this.getAttribute("canvas")}firstUpdated(){this.video=this.querySelector("video"),this.video.crossOrigin="Anonymous",this.watcher=new Ar,this.watcher.add({element:this,on:"resize",callback:fr(this.onResize.bind(this),500)}),this.watcher.add({element:this,on:Ae.Events.FORCE_LOAD,callback:()=>{this.runUpdate(!0)}}),this.watcher.add({element:this,on:Ae.Events.RUN_UPDATE,callback:()=>{this.runUpdate()}}),this.ev=gs.inview(this.video,{rootMargin:window.innerHeight*this.loadScalar+"px"},()=>this.runUpdate.bind(this)),this.inviewEv=gs.inview(this.video,{},()=>{this.runUpdate()}),this.ev.readyPromise.then(()=>{this.runUpdate()}),this.raf=new wr(this.onRaf.bind(this)),this.canvas&&this.canvasElement&&this.raf.start()}disconnectedCallback(){super.disconnectedCallback(),this.raf.dispose(),this.watcher&&this.watcher.dispose(),this.ev&&this.ev.dispose(),this.inviewEv&&this.inviewEv.dispose()}onRaf(){this.canvas&&this.canvasElement&&this.canvasElement.getContext("2d").drawImage(this.videoElement,0,0,this.canvasElement.width,this.canvasElement.height)}getHexColorAt(e,t,i=void 0){if(!this.canvas)throw new Error("Video must be set to canvas mode to extract color");let s=this.video.currentTime,o=Po(this.video);i!==void 0&&(this.video.currentTime=i);let n=new x(e,t),r=Or(this.canvasElement.getContext("2d"),n);return o&&(this.video.currentTime=s,this.play()),r}onResize(){this.hasStartedLoad||this.runUpdate()}isPainted(){return!xo(this)&&this.ev.state().inview}updateCanvasSize(){this.canvasElement&&(this.canvasElement.width=this.videoElement.offsetWidth,this.canvasElement.height=this.videoElement.offsetHeight)}addVideoSources(){let e=this.src.split(",");e=e.map(t=>t.trim());for(let t of e){if(!t||t==="")continue;let i=document.createElement("source");i.src=t;let s=t.split(".").slice(-1)[0];i.type=`video/${s.toLowerCase()}`,this.video.appendChild(i)}}runUpdate(e=!1){(this.isPainted()&&!this.hasStartedLoad||e)&&(this.hasStartedLoad=!0,this.addVideoSources(),Tr([this.video]).then(()=>{this.hasLoaded=!0,this.updateCanvasSize(),Es(this,Ae.Events.LOAD_LOADED,{}),this.autoplayInview&&this.play(),this.onRaf(),Es(this,Ae.Events.CANVAS_READY,{}),this.canvasReady=!0}),this.video.load(),this.video.setAttribute("load","true"),this.video.pause(),Es(this,Ae.Events.LOAD_START,{})),this.hasStartedLoad&&this.autoplayInview&&(this.updateCanvasSize(),!this.isPainted()&&!this.inviewEv.state().inview?this.reset():this.play())}play(){if(!Po(this.video)){let e=this.video.play();e!==void 0&&e.then(()=>{}).catch(()=>{})}}reset(){this.video.currentTime=0,this.video.pause()}pause(){this.video.pause()}createRenderRoot(){return this}renderVideo(){return pt`<video
        ?loop="${this.loop}"
        aria-hidden="${fe(this.ariaLabel?!0:null)}"
        disableRemotePlayback
        muted
        playsinline
        controls="${fe(this.controls?!0:null)}"
      ></video>
      ${this.canvas?pt`<canvas></canvas>`:""} `}render(){return this.ariaLabel?this.setAttribute("role","img"):this.removeAttribute("role"),pt`
      ${this.canvas?pt`<div class="degu-video">${this.renderVideo()}</div>`:this.renderVideo()}
    `}},ot=Ae;ot.CmsOptions={LOOP:"loop",CONTROLS:"controls"};ot.Events={LOAD_START:"LOAD_START",LOAD_LOADED:"LOAD_LOADED",FORCE_LOAD:"FORCE_LOAD",RUN_UPDATE:"RUN_UPDATE",CANVAS_READY:"CANVAS_READY"};vt([D({type:String,attribute:"src"})],ot.prototype,"src",2);vt([D({type:String,attribute:"aria-label"})],ot.prototype,"ariaLabel",2);vt([D({type:String,attribute:"width"})],ot.prototype,"width",2);vt([D({type:String,attribute:"height"})],ot.prototype,"height",2);vt([D({type:String,attribute:"load-scalar"})],ot.prototype,"loadScalar",2);vt([D({type:Boolean,attribute:"autoplayinview"})],ot.prototype,"autoplayInview",2);vt([D({type:Boolean,attribute:"loop"})],ot.prototype,"loop",2);vt([D({type:Boolean,attribute:"controls"})],ot.prototype,"controls",2);vt([D({type:Boolean,attribute:"canvas"})],ot.prototype,"canvas",2);vt([_t("canvas")],ot.prototype,"canvasElement",2);vt([_t("video")],ot.prototype,"videoElement",2);var Sr=Object.defineProperty,yr=Object.getOwnPropertyDescriptor,vs=(e,t,i,s)=>{for(var o=s>1?void 0:s?yr(t,i):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(s?r(t,i,o):r(o))||o);return s&&o&&Sr(t,i,o),o},br=class{constructor(){this.loadedScripts={},this.disposed=!1}load(e,t){let i=this.loadedScripts[e];if(i)return i;let s=new Promise((o,n)=>{if(t.test()){o();return}this.renderScriptTag(e,t);let r=Date.now(),a=t.timeout||5e3,d=()=>{if(this.disposed){n("script loader is disposed");return}if(t.test()){o();return}if(Date.now()-r>a){n(`failed to load ${e} due to timeout`);return}window.requestAnimationFrame(d)};window.requestAnimationFrame(d)});return this.loadedScripts[e]=s,s.catch(o=>{console.error(`failed to load ${e}`),console.error(o),delete this.loadedScripts[e]}),s}renderScriptTag(e,t){let i=document.createElement("script");if(t?.attrs)for(let s in t.attrs){let o=t.attrs[s];i.setAttribute(s,o)}i.src=e,document.body.appendChild(i)}renderDom(e){this.renderScriptTag(e)}dispose(){this.loadedScripts={},this.disposed=!0}},Cr="https://www.youtube.com/iframe_api?trustedtypes=1",Do=class extends at{constructor(){super(...arguments),this.enableJsApi=!1}connectedCallback(){super.connectedCallback()}pause(){this.player&&this.player.pauseVideo&&this.player.pauseVideo()}play(){this.player&&this.player.playVideo&&this.player.playVideo()}async load(e,t=!1){if(this.videoId=e,this.player){this.player.loadVideoById(this.videoId),t?this.play():this.pause();return}await Do.scriptLoader.load(Cr+`&origin=${location.href}`,{test:()=>!!window.YT&&window.YT.loaded===1});let i={autohide:1,autoplay:0,fs:1,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,enablejsapi:this.enableJsApi?1:0,origin:location.href},s=Object.assign({},i),o={videoId:this.videoId,playerVars:s,events:{onReady:n=>{this.player=n.target,t?(n.target.playVideo(),this.play()):this.pause()},onStateChange:n=>{let r=new CustomEvent("stateChange",{detail:{event:n},bubbles:!0,composed:!0});this.dispatchEvent(r)}}};new YT.Player(this.playerElement,o)}render(){return this.videoId&&this.load(this.videoId),pt`<div class="container">
      <div class="container__player"></div>
    </div>`}},se=Do;se.scriptLoader=new br;se.styles=Re`
    :host {
      height: 100%;
      width: 100%;
      display: block;
    }
    .container {
      align-items: center;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      position: relative;
      width: 100%;
      height: 100%;
    }
    .container__player {
      bottom: 0;
      height: 100%;
      left: 0;
      position: absolute;
      right: 0;
      top: 0;
      width: 100%;
      z-index: 1;
    }
  `;vs([D({type:String,attribute:"video-id",reflect:!0})],se.prototype,"videoId",2);vs([D({type:Boolean,attribute:"enable-js-api",reflect:!0})],se.prototype,"enableJsApi",2);vs([_t(".container__player")],se.prototype,"playerElement",2);var Nr=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,gi=(e,t,i,s)=>{for(var o=s>1?void 0:s?Pr(t,i):t,n=e.length-1,r;n>=0;n--)(r=e[n])&&(o=(s?r(t,i,o):r(o))||o);return s&&o&&Nr(t,i,o),o};function Mo(){return Rr()||xr()}function Rr(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)||Dr()}function xr(){return/Android/i.test(navigator.userAgent)}function Dr(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}function Mr(e,t){let i=0,s=o=>{let n=window.innerWidth;(!Mo()||i!==n)&&(e(o),i=n)};return window.addEventListener("resize",s,t),()=>{window.removeEventListener("resize",s)}}var Br=class{constructor(){this.watcherConfigs=[]}add(e){Array.isArray(e.on)?e.on.forEach(i=>{let s=Object.assign({},e);s.on=i,this.addSingleEvent(s)}):this.addSingleEvent(e)}addSingleEvent(e){let t=i=>{e.runWhen?e.runWhen()&&e.callback(i):e.callback(i)};if(e.listener=t,e.on==="smartResize")e.remover=Mr(t,e.eventOptions||{});else if(e.on==="resize"&&e.element!==window){let i=new ResizeObserver(s=>{t(s)});i.observe(e.element),e.remover=()=>{i.unobserve(e.element)}}else if(e.on==="mutation"){let i=new MutationObserver(s=>{t(s)});i.observe(e.element,e.eventOptions),e.remover=()=>{i.disconnect()}}else e.element instanceof MediaQueryList?(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})}):(e.element.addEventListener(e.on,t,e.eventOptions||{}),e.remover=()=>{e.element.removeEventListener(e.on,t,e.eventOptions||{})});this.watcherConfigs.push(e)}removeById(e){this.watcherConfigs=this.watcherConfigs.filter(t=>{if(t.id&&t.id===e){let i=t.remover;return i&&i(),!1}return t})}removeAll(){this.watcherConfigs.forEach(e=>{let t=e.remover;t&&t()}),this.watcherConfigs=[]}run(e){this.watcherConfigs.filter(i=>i.id&&i.id===e).forEach(i=>{i.callback()&&i.callback()})}dispose(){this.removeAll()}};function Hr(e,t){let i=e.parentNode;for(;i;){if(i===t)return!0;i=i.parentNode}return!1}function kr(e,t,i){let s=o=>{o=o||window.event;let n=o.target||o.srcElement;n=n.nodeType===3?n.parentNode:n;do i(n,o),n.parentNode&&(n=n.parentNode);while(n.parentNode)};return e.addEventListener(t,s),()=>{e.removeEventListener(t,s)}}var Bo=class extends at{constructor(e){super(),this.hasFirstUpdateCompleted=!1,this.isOpen=!1,this.delegateDisposer=null,this.host=e,this.watcher=new Br,this.watcher.add({element:this.host,on:"keydown",callback:t=>{(t.key==="Enter"||t.code==="Space")&&Hr(document.activeElement,this.host)&&document.activeElement.hasAttribute("youtube-modal")&&this.handleClick(document.activeElement)}}),this.delegateDisposer=kr(this.host,"click",t=>{this.handleClick(t)})}handleClick(e){let t=e.getAttribute("youtube-modal");if(t){let i="youtube-modal-redirect-mobile",s=e.getAttribute(i);if((s==="true"||s==="")&&Mo()){let n=`https://m.youtube.com/watch?v=${t}`;window.location.href=n;return}this.isConnected||this.host.appendChild(this),window.setTimeout(()=>{this.openModalAndPlay(t)})}}connectedCallback(){super.connectedCallback(),this.updateComplete.then(this.onUpdateComplete.bind(this))}onUpdateComplete(){this.hasFirstUpdateCompleted||(this.watcher.add({element:this.details,on:"toggle",callback:this.onToggle.bind(this)}),this.hasFirstUpdateCompleted=!0)}openModalAndPlay(e){this.youtubeId=e,this.detailsDialog.toggle(!0)}onToggle(){this.isOpen=this.details.open,this.isOpen&&this.youtubeInline?this.youtubeInline.load(this.youtubeId,!0):this.youtubeInline.pause()}toggle(e){this.detailsDialog.toggle(e)}static register(e){return new Bo(e)}render(){return pt`
      <details class="modal">
        <summary></summary>
        <details-dialog
          aria-label="Dialog with no CSS"
          role="dialog"
          aria-modal="true"
        >
          <div class="modal__mask"></div>
          <div class="modal__content">
            <degu-youtube-inline
              style="aspect-ratio: 16/9"
            ></degu-youtube-inline>
          </div>
          <button
            class="modal__close"
            data-close-dialog=""
            type="button"
            autofocus=""
          ></button>
        </details-dialog>
      </details>
    `}disconnectedCallback(){this.watcher&&this.watcher.dispose(),this.delegateDisposer&&this.delegateDisposer()}},Gt=Bo;Gt.styles=Re`
    .modal summary {
      display: none;
    }

    .modal[open] > summary {
      display: block;
      cursor: default;
    }

    .modal[open] .modal__mask {
      background-color: var(--modal-mask-bg-color, #202124);
      content: ' ';
      display: block;
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      right: 0;
      left: 0;
      bottom: 0;
      z-index: 1;
    }

    details-dialog {
      position: fixed;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2001;
      max-height: 100vh;
      max-width: 100vw;
      width: 100vw;
      height: 100vh;
      overflow: auto;
    }

    .modal__content {
      width: calc(100vw - 22.1912072575vw);
      height: calc(100vh - 7.3970690858vw);
      max-height: calc((100vw - 22.1912072575vw) * 9 / 16);
      max-width: calc((100vh - 7.3970690858vw) * 16 / 9);
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translateY(-50%) translateX(-50%);
      z-index: 2;
    }

    .modal__close {
      overflow: visible !important;
      background-color: transparent !important;
      border-radius: 100%;
      border: 2px solid rgba(95, 99, 104, 0.6);
      top: 35px !important;
      right: 50px !important;
      position: absolute;
      top: 0px;
      width: 60px;
      height: 60px;
      z-index: 1;
    }

    @media (max-width: 1024px) {
      .modal__close {
        width: 46px;
        height: 46px;
      }
    }

    @media (max-width: 600px) {
      .modal__close {
        width: 34px;
        height: 34px;
      }
    }

    .modal__close:before,
    .modal__close:after {
      content: '';
      display: block;
      position: absolute;
      transition: all 250ms linear;
    }
    .modal__close:before {
      top: 50%;
      left: 50%;
      width: 16px !important;
      height: 16px !important;
      margin-top: -8px;
      margin-left: -8px;
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22%23423F3F%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22m2.06.73%2013.577%2013.577-1.697%201.697L.363%202.427z%22%2F%3E%3Cpath%20d%3D%22M.363%2014.307%2013.94.73l1.697%201.697L2.06%2016.004z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');
      z-index: 1;
      filter: invert(1);
    }
    .modal__close:after {
      width: calc(100% + 4px);
      height: calc(100% + 4px);
      top: -2px;
      right: -2px;
      opacity: 0;
      border-radius: 100%;
      background-color: var(--modal-close-default-color, #3c4043);
      transform-origin: center center;
      transform: scale3d(0.8, 0.8, 0.8);
      z-index: 0;
    }
    .modal__close:hover {
      border-color: transparent;
      cursor: pointer;
    }
    .modal__close:hover:before {
      background-repeat: no-repeat;
      background-position: center;
      background-size: 16px;
      background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5leGl0LXdoaXRlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjIwLi1EZXNrdG9wLVVJLUVsZW1lbnRzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjM3LjAwMDAwMCwgLTExOTkuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJFeGl0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDEuMDAwMDAwLCAxMTA1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY4LjAwMDAwMCkiIGlkPSJob3ZlciI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDcyLjU2NjQwNiwgMy44NTE1NjIpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40MzM1OTQsIDAuNTE1NjI1KSIgaWQ9ImV4aXQtd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIHJvdGF0ZSgtMzE1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');
    }
    .modal__close:hover:after {
      opacity: 1;
      background-color: var(--modal-close-hover-color, #ffffff);
      transform: scale3d(1, 1, 1);
    }
  `;gi([_t("summary")],Gt.prototype,"summary",2);gi([_t("details-dialog")],Gt.prototype,"detailsDialog",2);gi([_t("details")],Gt.prototype,"details",2);gi([_t("degu-youtube-inline")],Gt.prototype,"youtubeInline",2);window.customElements.define("degu-image",mt);window.customElements.define("degu-video",ot);window.customElements.define("degu-youtube-inline",se);window.customElements.define("degu-youtube-modal",Gt);var As=class{constructor(){Gt.register(document.body),ho()}};document.addEventListener("DOMContentLoaded",()=>{new As});
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
